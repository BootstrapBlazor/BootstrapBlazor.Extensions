/*! {"version":"V1.0.0 build240712","playCrtl":"V7.4.0.1","pluginVersion":"V3.0.7.50","localServiceVersion":"V1.0.38"} */
(function webpackUniversalModuleDefinition(e,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define([],t);else{var n=t();for(var i in n)(typeof exports==="object"?exports:e)[i]=n[i]}})(window,function(){return function(n){var i={};function r(e){if(i[e]){return i[e].exports}var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,r);t.l=true;return t.exports}r.m=n;r.c=i;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(t,e){if(e&1)t=r(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n};r.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function i(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=60)}([function(e,t){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},function(fn,cn,e){var hn,dn;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
(function(e,t){"use strict";if(true&&typeof fn.exports==="object"){fn.exports=e.document?t(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}}else{t(e)}})(typeof window!=="undefined"?window:this,function(ue,e){"use strict";var le=[];var s=Object.getPrototypeOf;var fe=le.slice;var D=le.flat?function(e){return le.flat.call(e)}:function(e){return le.concat.apply([],e)};var a=le.push;var ce=le.indexOf;var n={};var E=n.toString;var he=n.hasOwnProperty;var q=he.toString;var O=q.call(Object);var de={};var v=function v(e){return typeof e==="function"&&typeof e.nodeType!=="number"&&typeof e.item!=="function"};var m=function m(e){return e!=null&&e===e.window};var C=ue.document;var A={type:true,src:true,nonce:true,noModule:true};function L(e,t,n){n=n||C;var i,r,o=n.createElement("script");o.text=e;if(t){for(i in A){r=t[i]||t.getAttribute&&t.getAttribute(i);if(r){o.setAttribute(i,r)}}}n.head.appendChild(o).parentNode.removeChild(o)}function y(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?n[E.call(e)]||"object":typeof e}var t="3.7.1",M=/HTML$/i,pe=function(e,t){return new pe.fn.init(e,t)};pe.fn=pe.prototype={jquery:t,constructor:pe,length:0,toArray:function(){return fe.call(this)},get:function(e){if(e==null){return fe.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return pe.each(this,e)},map:function(n){return this.pushStack(pe.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(fe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(pe.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(pe.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:le.sort,splice:le.splice};pe.extend=pe.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=false;if(typeof s==="boolean"){l=s;s=arguments[a]||{};a++}if(typeof s!=="object"&&!v(s)){s={}}if(a===u){s=this;a--}for(;a<u;a++){if((e=arguments[a])!=null){for(t in e){i=e[t];if(t==="__proto__"||s===i){continue}if(l&&i&&(pe.isPlainObject(i)||(r=Array.isArray(i)))){n=s[t];if(r&&!Array.isArray(n)){o=[]}else if(!r&&!pe.isPlainObject(n)){o={}}else{o=n}r=false;s[t]=pe.extend(l,o,i)}else if(i!==undefined){s[t]=i}}}}return s};pe.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;if(!e||E.call(e)!=="[object Object]"){return false}t=s(e);if(!t){return true}n=he.call(t,"constructor")&&t.constructor;return typeof n==="function"&&q.call(n)===O},isEmptyObject:function(e){var t;for(t in e){return false}return true},globalEval:function(e,t,n){L(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(F(e)){n=e.length;for(;i<n;i++){if(t.call(e[i],i,e[i])===false){break}}}else{for(i in e){if(t.call(e[i],i,e[i])===false){break}}}return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r){while(t=e[i++]){n+=pe.text(t)}}if(r===1||r===11){return e.textContent}if(r===9){return e.documentElement.textContent}if(r===3||r===4){return e.nodeValue}return n},makeArray:function(e,t){var n=t||[];if(e!=null){if(F(Object(e))){pe.merge(n,typeof e==="string"?[e]:e)}else{a.call(n,e)}}return n},inArray:function(e,t,n){return t==null?-1:ce.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!M.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){var n=+t.length,i=0,r=e.length;for(;i<n;i++){e[r++]=t[i]}e.length=r;return e},grep:function(e,t,n){var i,r=[],o=0,s=e.length,a=!n;for(;o<s;o++){i=!t(e[o],o);if(i!==a){r.push(e[o])}}return r},map:function(e,t,n){var i,r,o=0,s=[];if(F(e)){i=e.length;for(;o<i;o++){r=t(e[o],o,n);if(r!=null){s.push(r)}}}else{for(o in e){r=t(e[o],o,n);if(r!=null){s.push(r)}}}return D(s)},guid:1,support:de});if(typeof Symbol==="function"){pe.fn[Symbol.iterator]=le[Symbol.iterator]}pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});function F(e){var t=!!e&&"length"in e&&e.length,n=y(e);if(v(e)||m(e)){return false}return n==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}function ve(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Se=le.pop;var we=le.sort;var Pe=le.splice;var me="[\\x20\\t\\r\\n\\f]";var ye=new RegExp("^"+me+"+|((?:^|[^\\\\])(?:\\\\.)*)"+me+"+$","g");pe.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var W=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function B(e,t){if(t){if(e==="\0"){return"ï¿½"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e}pe.escapeSelector=function(e){return(e+"").replace(W,B)};var ge=C,_e=a;(function(){var e,w,P,o,s,_=_e,b,i,C,p,r,S=pe.expando,k=0,M=0,F=n(),W=n(),B=n(),v=n(),a=function(e,t){if(e===t){s=true}return 0},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|"+"loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+me+"*("+t+")(?:"+me+"*([*^$|!~]?=)"+me+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+me+"*\\]",J=":("+t+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|"+".*"+")\\)|)",U=new RegExp(me+"+","g"),H=new RegExp("^"+me+"*,"+me+"*"),j=new RegExp("^"+me+"*([>+~]|"+me+")"+me+"*"),G=new RegExp(me+"|>"),V=new RegExp(J),Y=new RegExp("^"+t+"$"),c={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+J),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+me+"*(even|odd|(([+-]|)(\\d*)n|)"+me+"*(?:([+-]|)"+me+"*(\\d+)|))"+me+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+me+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+me+"*((?:-\\d)?\\d*)"+me+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,m=/[+~]/,h=new RegExp("\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\([^\\r\\n\\f])","g"),d=function(e,t){var n="0x"+e.slice(1)-65536;if(t){return t}return n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},$=function(){T()},Q=I(function(e){return e.disabled===true&&ve(e,"fieldset")},{dir:"parentNode",next:"legend"});function ee(){try{return b.activeElement}catch(e){}}try{_.apply(le=fe.call(ge.childNodes),ge.childNodes);le[ge.childNodes.length].nodeType}catch(L){_={apply:function(e,t){_e.apply(e,fe.call(t))},call:function(e){_e.apply(e,fe.call(arguments,1))}}}function y(e,t,n,i){var r,o,s,a,u,l,f,c=t&&t.ownerDocument,h=t?t.nodeType:9;n=n||[];if(typeof e!=="string"||!e||h!==1&&h!==9&&h!==11){return n}if(!i){T(t);t=t||b;if(C){if(h!==11&&(u=K.exec(e))){if(r=u[1]){if(h===9){if(s=t.getElementById(r)){if(s.id===r){_.call(n,s);return n}}else{return n}}else{if(c&&(s=c.getElementById(r))&&y.contains(t,s)&&s.id===r){_.call(n,s);return n}}}else if(u[2]){_.apply(n,t.getElementsByTagName(e));return n}else if((r=u[3])&&t.getElementsByClassName){_.apply(n,t.getElementsByClassName(r));return n}}if(!v[e+" "]&&(!p||!p.test(e))){f=e;c=t;if(h===1&&(G.test(e)||j.test(e))){c=m.test(e)&&g(t.parentNode)||t;if(c!=t||!de.scope){if(a=t.getAttribute("id")){a=pe.escapeSelector(a)}else{t.setAttribute("id",a=S)}}l=R(e);o=l.length;while(o--){l[o]=(a?"#"+a:":scope")+" "+x(l[o])}f=l.join(",")}try{_.apply(n,c.querySelectorAll(f));return n}catch(d){v(e,true)}finally{if(a===S){t.removeAttribute("id")}}}}}return ae(e.replace(ye,"$1"),t,n,i)}function n(){var n=[];function i(e,t){if(n.push(e+" ")>w.cacheLength){delete i[n.shift()]}return i[e+" "]=t}return i}function u(e){e[S]=true;return e}function l(e){var t=b.createElement("fieldset");try{return!!e(t)}catch(L){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function te(t){return function(e){return ve(e,"input")&&e.type===t}}function ne(t){return function(e){return(ve(e,"input")||ve(e,"button"))&&e.type===t}}function ie(t){return function(e){if("form"in e){if(e.parentNode&&e.disabled===false){if("label"in e){if("label"in e.parentNode){return e.parentNode.disabled===t}else{return e.disabled===t}}return e.isDisabled===t||e.isDisabled!==!t&&Q(e)===t}return e.disabled===t}else if("label"in e){return e.disabled===t}return false}}function f(s){return u(function(o){o=+o;return u(function(e,t){var n,i=s([],e.length,o),r=i.length;while(r--){if(e[n=i[r]]){e[n]=!(t[n]=e[n])}}})})}function g(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}function T(e){var t,n=e?e.ownerDocument||e:ge;if(n==b||n.nodeType!==9||!n.documentElement){return b}b=n;i=b.documentElement;C=!pe.isXMLDoc(b);r=i.matches||i.webkitMatchesSelector||i.msMatchesSelector;if(i.msMatchesSelector&&ge!=b&&(t=b.defaultView)&&t.top!==t){t.addEventListener("unload",$)}de.getById=l(function(e){i.appendChild(e).id=pe.expando;return!b.getElementsByName||!b.getElementsByName(pe.expando).length});de.disconnectedMatch=l(function(e){return r.call(e,"*")});de.scope=l(function(){return b.querySelectorAll(":scope")});de.cssHas=l(function(){try{b.querySelector(":has(*,:jqfake)");return false}catch(L){return true}});if(de.getById){w.filter.ID=function(e){var t=e.replace(h,d);return function(e){return e.getAttribute("id")===t}};w.find.ID=function(e,t){if(typeof t.getElementById!=="undefined"&&C){var n=t.getElementById(e);return n?[n]:[]}}}else{w.filter.ID=function(e){var n=e.replace(h,d);return function(e){var t=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return t&&t.value===n}};w.find.ID=function(e,t){if(typeof t.getElementById!=="undefined"&&C){var n,i,r,o=t.getElementById(e);if(o){n=o.getAttributeNode("id");if(n&&n.value===e){return[o]}r=t.getElementsByName(e);i=0;while(o=r[i++]){n=o.getAttributeNode("id");if(n&&n.value===e){return[o]}}}return[]}}}w.find.TAG=function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else{return t.querySelectorAll(e)}};w.find.CLASS=function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&C){return t.getElementsByClassName(e)}};p=[];l(function(e){var t;i.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a>"+"<select id='"+S+"-\r\\' disabled='disabled'>"+"<option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){p.push("\\["+me+"*(?:value|"+N+")")}if(!e.querySelectorAll("[id~="+S+"-]").length){p.push("~=")}if(!e.querySelectorAll("a#"+S+"+*").length){p.push(".#.+[+~]")}if(!e.querySelectorAll(":checked").length){p.push(":checked")}t=b.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");i.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){p.push(":enabled",":disabled")}t=b.createElement("input");t.setAttribute("name","");e.appendChild(t);if(!e.querySelectorAll("[name='']").length){p.push("\\["+me+"*name"+me+"*="+me+"*(?:''|\"\")")}});if(!de.cssHas){p.push(":has")}p=p.length&&new RegExp(p.join("|"));a=function(e,t){if(e===t){s=true;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n){return n}n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(n&1||!de.sortDetached&&t.compareDocumentPosition(e)===n){if(e===b||e.ownerDocument==ge&&y.contains(ge,e)){return-1}if(t===b||t.ownerDocument==ge&&y.contains(ge,t)){return 1}return o?ce.call(o,e)-ce.call(o,t):0}return n&4?-1:1};return b}y.matches=function(e,t){return y(e,null,null,t)};y.matchesSelector=function(e,t){T(e);if(C&&!v[t+" "]&&(!p||!p.test(t))){try{var n=r.call(e,t);if(n||de.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(L){v(t,true)}}return y(t,b,null,[e]).length>0};y.contains=function(e,t){if((e.ownerDocument||e)!=b){T(e)}return pe.contains(e,t)};y.attr=function(e,t){if((e.ownerDocument||e)!=b){T(e)}var n=w.attrHandle[t.toLowerCase()],i=n&&he.call(w.attrHandle,t.toLowerCase())?n(e,t,!C):undefined;if(i!==undefined){return i}return e.getAttribute(t)};y.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};pe.uniqueSort=function(e){var t,n=[],i=0,r=0;s=!de.sortStable;o=!de.sortStable&&fe.call(e,0);we.call(e,a);if(s){while(t=e[r++]){if(t===e[r]){i=n.push(r)}}while(i--){Pe.call(e,n[i],1)}}o=null;return e};pe.fn.uniqueSort=function(){return this.pushStack(pe.uniqueSort(fe.apply(this)))};w=pe.expr={cacheLength:50,createPseudo:u,match:c,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(h,d);e[3]=(e[3]||e[4]||e[5]||"").replace(h,d);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){y.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){y.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(c.CHILD.test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&V.test(n)&&(t=R(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(h,d).toLowerCase();return e==="*"?function(){return true}:function(e){return ve(e,t)}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+me+")"+e+"("+me+"|$)"))&&F(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=y.attr(e,n);if(t==null){return i==="!="}if(!i){return true}t+="";if(i==="="){return t===r}if(i==="!="){return t!==r}if(i==="^="){return r&&t.indexOf(r)===0}if(i==="*="){return r&&t.indexOf(r)>-1}if(i==="$="){return r&&t.slice(-r.length)===r}if(i==="~="){return(" "+t.replace(U," ")+" ").indexOf(r)>-1}if(i==="|="){return t===r||t.slice(0,r.length+1)===r+"-"}return false}},CHILD:function(d,e,t,p,v){var m=d.slice(0,3)!=="nth",y=d.slice(-4)!=="last",g=e==="of-type";return p===1&&v===0?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,u=m!==y?"nextSibling":"previousSibling",l=e.parentNode,f=g&&e.nodeName.toLowerCase(),c=!n&&!g,h=false;if(l){if(m){while(u){o=e;while(o=o[u]){if(g?ve(o,f):o.nodeType===1){return false}}a=u=d==="only"&&!a&&"nextSibling"}return true}a=[y?l.firstChild:l.lastChild];if(y&&c){r=l[S]||(l[S]={});i=r[d]||[];s=i[0]===k&&i[1];h=s&&i[2];o=s&&l.childNodes[s];while(o=++s&&o&&o[u]||(h=s=0)||a.pop()){if(o.nodeType===1&&++h&&o===e){r[d]=[k,s,h];break}}}else{if(c){r=e[S]||(e[S]={});i=r[d]||[];s=i[0]===k&&i[1];h=s}if(h===false){while(o=++s&&o&&o[u]||(h=s=0)||a.pop()){if((g?ve(o,f):o.nodeType===1)&&++h){if(c){r=o[S]||(o[S]={});r[d]=[k,h]}if(o===e){break}}}}}h-=v;return h===p||h%p===0&&h/p>=0}}},PSEUDO:function(e,o){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||y.error("unsupported pseudo: "+e);if(s[S]){return s(o)}if(s.length>1){t=[e,e,"",o];return w.setFilters.hasOwnProperty(e.toLowerCase())?u(function(e,t){var n,i=s(e,o),r=i.length;while(r--){n=ce.call(e,i[r]);e[n]=!(t[n]=i[r])}}):function(e){return s(e,0,t)}}return s}},pseudos:{not:u(function(e){var i=[],r=[],a=A(e.replace(ye,"$1"));return a[S]?u(function(e,t,n,i){var r,o=a(e,null,i,[]),s=e.length;while(s--){if(r=o[s]){e[s]=!(t[s]=r)}}}):function(e,t,n){i[0]=e;a(i,null,n,r);i[0]=null;return!r.pop()}}),has:u(function(t){return function(e){return y(t,e).length>0}}),contains:u(function(t){t=t.replace(h,d);return function(e){return(e.textContent||pe.text(e)).indexOf(t)>-1}}),lang:u(function(n){if(!Y.test(n||"")){y.error("unsupported lang: "+n)}n=n.replace(h,d).toLowerCase();return function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){t=t.toLowerCase();return t===n||t.indexOf(n+"-")===0}}while((e=e.parentNode)&&e.nodeType===1);return false}}),target:function(e){var t=ue.location&&ue.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===ee()&&b.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ie(false),disabled:ie(true),checked:function(e){return ve(e,"input")&&!!e.checked||ve(e,"option")&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return ve(e,"input")&&e.type==="button"||ve(e,"button")},text:function(e){var t;return ve(e,"input")&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,n){return[n<0?n+t:n]}),even:f(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:f(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:f(function(e,t,n){var i;if(n<0){i=n+t}else if(n>t){i=t}else{i=n}for(;--i>=0;){e.push(i)}return e}),gt:f(function(e,t,n){var i=n<0?n+t:n;for(;++i<t;){e.push(i)}return e})}};w.pseudos.nth=w.pseudos.eq;for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){w.pseudos[e]=te(e)}for(e in{submit:true,reset:true}){w.pseudos[e]=ne(e)}function re(){}re.prototype=w.filters=w.pseudos;w.setFilters=new re;function R(e,t){var n,i,r,o,s,a,u,l=W[e+" "];if(l){return t?0:l.slice(0)}s=e;a=[];u=w.preFilter;while(s){if(!n||(i=H.exec(s))){if(i){s=s.slice(i[0].length)||s}a.push(r=[])}n=false;if(i=j.exec(s)){n=i.shift();r.push({value:n,type:i[0].replace(ye," ")});s=s.slice(n.length)}for(o in w.filter){if((i=c[o].exec(s))&&(!u[o]||(i=u[o](i)))){n=i.shift();r.push({value:n,type:o,matches:i});s=s.slice(n.length)}}if(!n){break}}if(t){return s.length}return s?y.error(e):W(e,a).slice(0)}function x(e){var t=0,n=e.length,i="";for(;t<n;t++){i+=e[t].value}return i}function I(s,e,t){var a=e.dir,u=e.next,l=u||a,f=t&&l==="parentNode",c=M++;return e.first?function(e,t,n){while(e=e[a]){if(e.nodeType===1||f){return s(e,t,n)}}return false}:function(e,t,n){var i,r,o=[k,c];if(n){while(e=e[a]){if(e.nodeType===1||f){if(s(e,t,n)){return true}}}}else{while(e=e[a]){if(e.nodeType===1||f){r=e[S]||(e[S]={});if(u&&ve(e,u)){e=e[a]||e}else if((i=r[l])&&i[0]===k&&i[1]===c){return o[2]=i[2]}else{r[l]=o;if(o[2]=s(e,t,n)){return true}}}}}return false}}function D(r){return r.length>1?function(e,t,n){var i=r.length;while(i--){if(!r[i](e,t,n)){return false}}return true}:r[0]}function oe(e,t,n){var i=0,r=t.length;for(;i<r;i++){y(e,t[i],n)}return n}function E(e,t,n,i,r){var o,s=[],a=0,u=e.length,l=t!=null;for(;a<u;a++){if(o=e[a]){if(!n||n(o,i,r)){s.push(o);if(l){t.push(a)}}}}return s}function q(d,p,v,m,y,e){if(m&&!m[S]){m=q(m)}if(y&&!y[S]){y=q(y,e)}return u(function(e,t,n,i){var r,o,s,a,u=[],l=[],f=t.length,c=e||oe(p||"*",n.nodeType?[n]:n,[]),h=d&&(e||!p)?E(c,u,d,n,i):c;if(v){a=y||(e?d:f||m)?[]:t;v(h,a,n,i)}else{a=h}if(m){r=E(a,l);m(r,[],n,i);o=r.length;while(o--){if(s=r[o]){a[l[o]]=!(h[l[o]]=s)}}}if(e){if(y||d){if(y){r=[];o=a.length;while(o--){if(s=a[o]){r.push(h[o]=s)}}y(null,a=[],r,i)}o=a.length;while(o--){if((s=a[o])&&(r=y?ce.call(e,s):u[o])>-1){e[r]=!(t[r]=s)}}}}else{a=E(a===t?a.splice(f,a.length):a);if(y){y(null,t,a,i)}else{_.apply(t,a)}}})}function O(e){var r,t,n,i=e.length,o=w.relative[e[0].type],s=o||w.relative[" "],a=o?1:0,u=I(function(e){return e===r},s,true),l=I(function(e){return ce.call(r,e)>-1},s,true),f=[function(e,t,n){var i=!o&&(n||t!=P)||((r=t).nodeType?u(e,t,n):l(e,t,n));r=null;return i}];for(;a<i;a++){if(t=w.relative[e[a].type]){f=[I(D(f),t)]}else{t=w.filter[e[a].type].apply(null,e[a].matches);if(t[S]){n=++a;for(;n<i;n++){if(w.relative[e[n].type]){break}}return q(a>1&&D(f),a>1&&x(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(ye,"$1"),t,a<n&&O(e.slice(a,n)),n<i&&O(e=e.slice(n)),n<i&&x(e))}f.push(t)}}return D(f)}function se(m,y){var g=y.length>0,S=m.length>0,e=function(e,t,n,i,r){var o,s,a,u=0,l="0",f=e&&[],c=[],h=P,d=e||S&&w.find.TAG("*",r),p=k+=h==null?1:Math.random()||.1,v=d.length;if(r){P=t==b||t||r}for(;l!==v&&(o=d[l])!=null;l++){if(S&&o){s=0;if(!t&&o.ownerDocument!=b){T(o);n=!C}while(a=m[s++]){if(a(o,t||b,n)){_.call(i,o);break}}if(r){k=p}}if(g){if(o=!a&&o){u--}if(e){f.push(o)}}}u+=l;if(g&&l!==u){s=0;while(a=y[s++]){a(f,c,t,n)}if(e){if(u>0){while(l--){if(!(f[l]||c[l])){c[l]=Se.call(i)}}}c=E(c)}_.apply(i,c);if(r&&!e&&c.length>0&&u+y.length>1){pe.uniqueSort(i)}}if(r){k=p;P=h}return f};return g?u(e):e}function A(e,t){var n,i=[],r=[],o=B[e+" "];if(!o){if(!t){t=R(e)}n=t.length;while(n--){o=O(t[n]);if(o[S]){i.push(o)}else{r.push(o)}}o=B(e,se(r,i));o.selector=e}return o}function ae(e,t,n,i){var r,o,s,a,u,l=typeof e==="function"&&e,f=!i&&R(e=l.selector||e);n=n||[];if(f.length===1){o=f[0]=f[0].slice(0);if(o.length>2&&(s=o[0]).type==="ID"&&t.nodeType===9&&C&&w.relative[o[1].type]){t=(w.find.ID(s.matches[0].replace(h,d),t)||[])[0];if(!t){return n}else if(l){t=t.parentNode}e=e.slice(o.shift().value.length)}r=c.needsContext.test(e)?0:o.length;while(r--){s=o[r];if(w.relative[a=s.type]){break}if(u=w.find[a]){if(i=u(s.matches[0].replace(h,d),m.test(o[0].type)&&g(t.parentNode)||t)){o.splice(r,1);e=i.length&&x(o);if(!e){_.apply(n,i);return n}break}}}}(l||A(e,f))(i,t,!C,n,!t||m.test(e)&&g(t.parentNode)||t);return n}de.sortStable=S.split("").sort(a).join("")===S;T();de.sortDetached=l(function(e){return e.compareDocumentPosition(b.createElement("fieldset"))&1});pe.find=y;pe.expr[":"]=pe.expr.pseudos;pe.unique=pe.uniqueSort;y.compile=A;y.select=ae;y.setDocument=T;y.tokenize=R;y.escape=pe.escapeSelector;y.getText=pe.text;y.isXML=pe.isXMLDoc;y.selectors=pe.expr;y.support=pe.support;y.uniqueSort=pe.uniqueSort})();var i=function(e,t,n){var i=[],r=n!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(r&&pe(e).is(n)){break}i.push(e)}}return i};var N=function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n};var z=pe.expr.match.needsContext;var J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,n,i){if(v(n)){return pe.grep(e,function(e,t){return!!n.call(e,t,e)!==i})}if(n.nodeType){return pe.grep(e,function(e){return e===n!==i})}if(typeof n!=="string"){return pe.grep(e,function(e){return ce.call(n,e)>-1!==i})}return pe.filter(n,e,i)}pe.filter=function(e,t,n){var i=t[0];if(n){e=":not("+e+")"}if(t.length===1&&i.nodeType===1){return pe.find.matchesSelector(i,e)?[i]:[]}return pe.find.matches(e,pe.grep(t,function(e){return e.nodeType===1}))};pe.fn.extend({find:function(e){var t,n,i=this.length,r=this;if(typeof e!=="string"){return this.pushStack(pe(e).filter(function(){for(t=0;t<i;t++){if(pe.contains(r[t],this)){return true}}}))}n=this.pushStack([]);for(t=0;t<i;t++){pe.find(e,r[t],n)}return i>1?pe.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],false))},not:function(e){return this.pushStack(U(this,e||[],true))},is:function(e){return!!U(this,typeof e==="string"&&z.test(e)?pe(e):e||[],false).length}});var H,j=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=pe.fn.init=function(e,t,n){var i,r;if(!e){return this}n=n||H;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){i=[null,e,null]}else{i=j.exec(e)}if(i&&(i[1]||!t)){if(i[1]){t=t instanceof pe?t[0]:t;pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:C,true));if(J.test(i[1])&&pe.isPlainObject(t)){for(i in t){if(v(this[i])){this[i](t[i])}else{this.attr(i,t[i])}}}return this}else{r=C.getElementById(i[2]);if(r){this[0]=r;this.length=1}return this}}else if(!t||t.jquery){return(t||n).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(v(e)){return n.ready!==undefined?n.ready(e):e(pe)}return pe.makeArray(e,this)};G.prototype=pe.fn;H=pe(C);var V=/^(?:parents|prev(?:Until|All))/,Y={children:true,contents:true,next:true,prev:true};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++){if(pe.contains(this,t[e])){return true}}})},closest:function(e,t){var n,i=0,r=this.length,o=[],s=typeof e!=="string"&&pe(e);if(!z.test(e)){for(;i<r;i++){for(n=this[i];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(s?s.index(n)>-1:n.nodeType===1&&pe.find.matchesSelector(n,e))){o.push(n);break}}}}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return ce.call(pe(e),this[0])}return ce.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function X(e,t){while((e=e[t])&&e.nodeType!==1){}return e}pe.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return X(e,"nextSibling")},prev:function(e){return X(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){if(e.contentDocument!=null&&s(e.contentDocument)){return e.contentDocument}if(ve(e,"template")){e=e.content||e}return pe.merge([],e.childNodes)}},function(i,r){pe.fn[i]=function(e,t){var n=pe.map(this,r,e);if(i.slice(-5)!=="Until"){t=e}if(t&&typeof t==="string"){n=pe.filter(t,n)}if(this.length>1){if(!Y[i]){pe.uniqueSort(n)}if(V.test(i)){n.reverse()}}return this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function Z(e){var n={};pe.each(e.match(k)||[],function(e,t){n[t]=true});return n}pe.Callbacks=function(i){i=typeof i==="string"?Z(i):pe.extend({},i);var r,e,t,n,o=[],s=[],a=-1,u=function(){n=n||i.once;t=r=true;for(;s.length;a=-1){e=s.shift();while(++a<o.length){if(o[a].apply(e[0],e[1])===false&&i.stopOnFalse){a=o.length;e=false}}}if(!i.memory){e=false}r=false;if(n){if(e){o=[]}else{o=""}}},l={add:function(){if(o){if(e&&!r){a=o.length-1;s.push(e)}(function n(e){pe.each(e,function(e,t){if(v(t)){if(!i.unique||!l.has(t)){o.push(t)}}else if(t&&t.length&&y(t)!=="string"){n(t)}})})(arguments);if(e&&!r){u()}}return this},remove:function(){pe.each(arguments,function(e,t){var n;while((n=pe.inArray(t,o,n))>-1){o.splice(n,1);if(n<=a){a--}}});return this},has:function(e){return e?pe.inArray(e,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){n=s=[];o=e="";return this},disabled:function(){return!o},lock:function(){n=s=[];if(!e&&!r){o=e=""}return this},locked:function(){return!!n},fireWith:function(e,t){if(!n){t=t||[];t=[e,t.slice?t.slice():t];s.push(t);if(!r){u()}}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!t}};return l};function c(e){return e}function K(e){throw e}function $(e,t,n,i){var r;try{if(e&&v(r=e.promise)){r.call(e).done(t).fail(n)}else if(e&&v(r=e.then)){r.call(e,t,n)}else{t.apply(undefined,[e].slice(i))}}catch(e){n.apply(undefined,[e])}}pe.extend({Deferred:function(e){var o=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){a.done(arguments).fail(arguments);return this},"catch":function(e){return s.then(null,e)},pipe:function(){var r=arguments;return pe.Deferred(function(i){pe.each(o,function(e,t){var n=v(r[t[4]])&&r[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);if(e&&v(e.promise)){e.promise().progress(i.notify).done(i.resolve).fail(i.reject)}else{i[t[0]+"With"](this,n?[e]:arguments)}})});r=null}).promise()},then:function(t,n,i){var l=0;function f(o,s,a,u){return function(){var n=this,i=arguments,t=function(){var e,t;if(o<l){return}e=a.apply(n,i);if(e===s.promise()){throw new TypeError("Thenable self-resolution")}t=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(v(t)){if(u){t.call(e,f(l,s,c,u),f(l,s,K,u))}else{l++;t.call(e,f(l,s,c,u),f(l,s,K,u),f(l,s,c,s.notifyWith))}}else{if(a!==c){n=undefined;i=[e]}(u||s.resolveWith)(n,i)}},r=u?t:function(){try{t()}catch(e){if(pe.Deferred.exceptionHook){pe.Deferred.exceptionHook(e,r.error)}if(o+1>=l){if(a!==K){n=undefined;i=[e]}s.rejectWith(n,i)}}};if(o){r()}else{if(pe.Deferred.getErrorHook){r.error=pe.Deferred.getErrorHook()}else if(pe.Deferred.getStackHook){r.error=pe.Deferred.getStackHook()}ue.setTimeout(r)}}}return pe.Deferred(function(e){o[0][3].add(f(0,e,v(i)?i:c,e.notifyWith));o[1][3].add(f(0,e,v(t)?t:c));o[2][3].add(f(0,e,v(n)?n:K))}).promise()},promise:function(e){return e!=null?pe.extend(e,s):s}},a={};pe.each(o,function(e,t){var n=t[2],i=t[5];s[t[1]]=n.add;if(i){n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock)}n.add(t[3].fire);a[t[0]]=function(){a[t[0]+"With"](this===a?undefined:this,arguments);return this};a[t[0]+"With"]=n.fireWith});s.promise(a);if(e){e.call(a,a)}return a},when:function(e){var n=arguments.length,t=n,i=Array(t),r=fe.call(arguments),o=pe.Deferred(),s=function(t){return function(e){i[t]=this;r[t]=arguments.length>1?fe.call(arguments):e;if(!--n){o.resolveWith(i,r)}}};if(n<=1){$(e,o.done(s(t)).resolve,o.reject,!n);if(o.state()==="pending"||v(r[t]&&r[t].then)){return o.then()}}while(t--){$(r[t],s(t),o.reject)}return o.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(e,t){if(ue.console&&ue.console.warn&&e&&Q.test(e.name)){ue.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)}};pe.readyException=function(e){ue.setTimeout(function(){throw e})};var ee=pe.Deferred();pe.fn.ready=function(e){ee.then(e)["catch"](function(e){pe.readyException(e)});return this};pe.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--pe.readyWait:pe.isReady){return}pe.isReady=true;if(e!==true&&--pe.readyWait>0){return}ee.resolveWith(C,[pe])}});pe.ready.then=ee.then;function te(){C.removeEventListener("DOMContentLoaded",te);ue.removeEventListener("load",te);pe.ready()}if(C.readyState==="complete"||C.readyState!=="loading"&&!C.documentElement.doScroll){ue.setTimeout(pe.ready)}else{C.addEventListener("DOMContentLoaded",te);ue.addEventListener("load",te)}var f=function(e,t,n,i,r,o,s){var a=0,u=e.length,l=n==null;if(y(n)==="object"){r=true;for(a in n){f(e,t,a,n[a],true,o,s)}}else if(i!==undefined){r=true;if(!v(i)){s=true}if(l){if(s){t.call(e,i);t=null}else{l=t;t=function(e,t,n){return l.call(pe(e),n)}}}if(t){for(;a<u;a++){t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)))}}}if(r){return e}if(l){return t.call(e)}return u?t(e[0],n):o};var ne=/^-ms-/,ie=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function h(e){return e.replace(ne,"ms-").replace(ie,re)}var oe=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function se(){this.expando=pe.expando+se.uid++}se.uid=1;se.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(oe(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,n){var i,r=this.cache(e);if(typeof t==="string"){r[h(t)]=n}else{for(i in t){r[h(i)]=t[i]}}return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){if(t===undefined||t&&typeof t==="string"&&n===undefined){return this.get(e,t)}this.set(e,t,n);return n!==undefined?n:t},remove:function(e,t){var n,i=e[this.expando];if(i===undefined){return}if(t!==undefined){if(Array.isArray(t)){t=t.map(h)}else{t=h(t);t=t in i?[t]:t.match(k)||[]}n=t.length;while(n--){delete i[t[n]]}}if(t===undefined||pe.isEmptyObject(i)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!pe.isEmptyObject(t)}};var g=new se;var l=new se;var ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/[A-Z]/g;function Ce(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return+e}if(ae.test(e)){return JSON.parse(e)}return e}function ke(e,t,n){var i;if(n===undefined&&e.nodeType===1){i="data-"+t.replace(be,"-$&").toLowerCase();n=e.getAttribute(i);if(typeof n==="string"){try{n=Ce(n)}catch(r){}l.set(e,t,n)}else{n=undefined}}return n}pe.extend({hasData:function(e){return l.hasData(e)||g.hasData(e)},data:function(e,t,n){return l.access(e,t,n)},removeData:function(e,t){l.remove(e,t)},_data:function(e,t,n){return g.access(e,t,n)},_removeData:function(e,t){g.remove(e,t)}});pe.fn.extend({data:function(n,e){var t,i,r,o=this[0],s=o&&o.attributes;if(n===undefined){if(this.length){r=l.get(o);if(o.nodeType===1&&!g.get(o,"hasDataAttrs")){t=s.length;while(t--){if(s[t]){i=s[t].name;if(i.indexOf("data-")===0){i=h(i.slice(5));ke(o,i,r[i])}}}g.set(o,"hasDataAttrs",true)}}return r}if(typeof n==="object"){return this.each(function(){l.set(this,n)})}return f(this,function(e){var t;if(o&&e===undefined){t=l.get(o,n);if(t!==undefined){return t}t=ke(o,n);if(t!==undefined){return t}return}this.each(function(){l.set(this,n,e)})},null,e,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){l.remove(this,e)})}});pe.extend({queue:function(e,t,n){var i;if(e){t=(t||"fx")+"queue";i=g.get(e,t);if(n){if(!i||Array.isArray(n)){i=g.access(e,t,pe.makeArray(n))}else{i.push(n)}}return i||[]}},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,r=n.shift(),o=pe._queueHooks(e,t),s=function(){pe.dequeue(e,t)};if(r==="inprogress"){r=n.shift();i--}if(r){if(t==="fx"){n.unshift("inprogress")}delete o.stop;r.call(e,s,o)}if(!i&&o){o.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return g.get(e,n)||g.access(e,n,{empty:pe.Callbacks("once memory").add(function(){g.remove(e,[t+"queue",n])})})}});pe.fn.extend({queue:function(t,n){var e=2;if(typeof t!=="string"){n=t;t="fx";e--}if(arguments.length<e){return pe.queue(this[0],t)}return n===undefined?this:this.each(function(){var e=pe.queue(this,t,n);pe._queueHooks(this,t);if(t==="fx"&&e[0]!=="inprogress"){pe.dequeue(this,t)}})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=pe.Deferred(),o=this,s=this.length,a=function(){if(!--i){r.resolveWith(o,[o])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(s--){n=g.get(o[s],e+"queueHooks");if(n&&n.empty){i++;n.empty.add(a)}}a();return r.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var Re=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i");var d=["Top","Right","Bottom","Left"];var S=C.documentElement;var w=function(e){return pe.contains(e.ownerDocument,e)},xe={composed:true};if(S.getRootNode){w=function(e){return pe.contains(e.ownerDocument,e)||e.getRootNode(xe)===e.ownerDocument}}var Ie=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&w(e)&&pe.css(e,"display")==="none"};function De(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},u=a(),l=n&&n[3]||(pe.cssNumber[t]?"":"px"),f=e.nodeType&&(pe.cssNumber[t]||l!=="px"&&+u)&&Re.exec(pe.css(e,t));if(f&&f[3]!==l){u=u/2;l=l||f[3];f=+u||1;while(s--){pe.style(e,t,f+l);if((1-o)*(1-(o=a()/u||.5))<=0){s=0}f=f/o}f=f*2;pe.style(e,t,f+l);n=n||[]}if(n){f=+f||+u||0;r=n[1]?f+(n[1]+1)*n[2]:+n[2];if(i){i.unit=l;i.start=f;i.end=r}}return r}var Ee={};function qe(e){var t,n=e.ownerDocument,i=e.nodeName,r=Ee[i];if(r){return r}t=n.body.appendChild(n.createElement(i));r=pe.css(t,"display");t.parentNode.removeChild(t);if(r==="none"){r="block"}Ee[i]=r;return r}function P(e,t){var n,i,r=[],o=0,s=e.length;for(;o<s;o++){i=e[o];if(!i.style){continue}n=i.style.display;if(t){if(n==="none"){r[o]=g.get(i,"display")||null;if(!r[o]){i.style.display=""}}if(i.style.display===""&&Ie(i)){r[o]=qe(i)}}else{if(n!=="none"){r[o]="none";g.set(i,"display",n)}}}for(o=0;o<s;o++){if(r[o]!=null){e[o].style.display=r[o]}}return e}pe.fn.extend({show:function(){return P(this,true)},hide:function(){return P(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(Ie(this)){pe(this).show()}else{pe(this).hide()}})}});var Oe=/^(?:checkbox|radio)$/i;var Ae=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var Le=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=C.createDocumentFragment(),t=e.appendChild(C.createElement("div")),n=C.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");t.appendChild(n);de.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";de.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue;t.innerHTML="<option></option>";de.option=!!t.lastChild})();var _={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_.tbody=_.tfoot=_.colgroup=_.caption=_.thead;_.th=_.td;if(!de.option){_.optgroup=_.option=[1,"<select multiple='multiple'>","</select>"]}function b(e,t){var n;if(typeof e.getElementsByTagName!=="undefined"){n=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){n=e.querySelectorAll(t||"*")}else{n=[]}if(t===undefined||t&&ve(e,t)){return pe.merge([e],n)}return n}function Me(e,t){var n=0,i=e.length;for(;n<i;n++){g.set(e[n],"globalEval",!t||g.get(t[n],"globalEval"))}}var Fe=/<|&#?\w+;/;function We(e,t,n,i,r){var o,s,a,u,l,f,c=t.createDocumentFragment(),h=[],d=0,p=e.length;for(;d<p;d++){o=e[d];if(o||o===0){if(y(o)==="object"){pe.merge(h,o.nodeType?[o]:o)}else if(!Fe.test(o)){h.push(t.createTextNode(o))}else{s=s||c.appendChild(t.createElement("div"));a=(Ae.exec(o)||["",""])[1].toLowerCase();u=_[a]||_._default;s.innerHTML=u[1]+pe.htmlPrefilter(o)+u[2];f=u[0];while(f--){s=s.lastChild}pe.merge(h,s.childNodes);s=c.firstChild;s.textContent=""}}}c.textContent="";d=0;while(o=h[d++]){if(i&&pe.inArray(o,i)>-1){if(r){r.push(o)}continue}l=w(o);s=b(c.appendChild(o),"script");if(l){Me(s)}if(n){f=0;while(o=s[f++]){if(Le.test(o.type||"")){n.push(o)}}}}return c}var Be=/^([^.]*)(?:\.(.+)|)/;function r(){return true}function u(){return false}function Ne(e,t,n,i,r,o){var s,a;if(typeof t==="object"){if(typeof n!=="string"){i=i||n;n=undefined}for(a in t){Ne(e,a,n,i,t[a],o)}return e}if(i==null&&r==null){r=n;i=n=undefined}else if(r==null){if(typeof n==="string"){r=i;i=undefined}else{r=i;i=n;n=undefined}}if(r===false){r=u}else if(!r){return e}if(o===1){s=r;r=function(e){pe().off(e);return s.apply(this,arguments)};r.guid=s.guid||(s.guid=pe.guid++)}return e.each(function(){pe.event.add(this,t,r,i,n)})}pe.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,f,c,h,d,p,v,m=g.get(t);if(!oe(t)){return}if(n.handler){o=n;n=o.handler;r=o.selector}if(r){pe.find.matchesSelector(S,r)}if(!n.guid){n.guid=pe.guid++}if(!(u=m.events)){u=m.events=Object.create(null)}if(!(s=m.handle)){s=m.handle=function(e){return typeof pe!=="undefined"&&pe.event.triggered!==e.type?pe.event.dispatch.apply(t,arguments):undefined}}e=(e||"").match(k)||[""];l=e.length;while(l--){a=Be.exec(e[l])||[];d=v=a[1];p=(a[2]||"").split(".").sort();if(!d){continue}c=pe.event.special[d]||{};d=(r?c.delegateType:c.bindType)||d;c=pe.event.special[d]||{};f=pe.extend({type:d,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:p.join(".")},o);if(!(h=u[d])){h=u[d]=[];h.delegateCount=0;if(!c.setup||c.setup.call(t,i,p,s)===false){if(t.addEventListener){t.addEventListener(d,s)}}}if(c.add){c.add.call(t,f);if(!f.handler.guid){f.handler.guid=n.guid}}if(r){h.splice(h.delegateCount++,0,f)}else{h.push(f)}pe.event.global[d]=true}},remove:function(e,t,n,i,r){var o,s,a,u,l,f,c,h,d,p,v,m=g.hasData(e)&&g.get(e);if(!m||!(u=m.events)){return}t=(t||"").match(k)||[""];l=t.length;while(l--){a=Be.exec(t[l])||[];d=v=a[1];p=(a[2]||"").split(".").sort();if(!d){for(d in u){pe.event.remove(e,d+t[l],n,i,true)}continue}c=pe.event.special[d]||{};d=(i?c.delegateType:c.bindType)||d;h=u[d]||[];a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");s=o=h.length;while(o--){f=h[o];if((r||v===f.origType)&&(!n||n.guid===f.guid)&&(!a||a.test(f.namespace))&&(!i||i===f.selector||i==="**"&&f.selector)){h.splice(o,1);if(f.selector){h.delegateCount--}if(c.remove){c.remove.call(e,f)}}}if(s&&!h.length){if(!c.teardown||c.teardown.call(e,p,m.handle)===false){pe.removeEvent(e,d,m.handle)}delete u[d]}}if(pe.isEmptyObject(u)){g.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),u=pe.event.fix(e),l=(g.get(this,"events")||Object.create(null))[u.type]||[],f=pe.event.special[u.type]||{};a[0]=u;for(t=1;t<arguments.length;t++){a[t]=arguments[t]}u.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,u)===false){return}s=pe.event.handlers.call(this,u,l);t=0;while((r=s[t++])&&!u.isPropagationStopped()){u.currentTarget=r.elem;n=0;while((o=r.handlers[n++])&&!u.isImmediatePropagationStopped()){if(!u.rnamespace||o.namespace===false||u.rnamespace.test(o.namespace)){u.handleObj=o;u.data=o.data;i=((pe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a);if(i!==undefined){if((u.result=i)===false){u.preventDefault();u.stopPropagation()}}}}}if(f.postDispatch){f.postDispatch.call(this,u)}return u.result},handlers:function(e,t){var n,i,r,o,s,a=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(e.type==="click"&&e.button>=1)){for(;l!==this;l=l.parentNode||this){if(l.nodeType===1&&!(e.type==="click"&&l.disabled===true)){o=[];s={};for(n=0;n<u;n++){i=t[n];r=i.selector+" ";if(s[r]===undefined){s[r]=i.needsContext?pe(r,this).index(l)>-1:pe.find(r,this,null,[l]).length}if(s[r]){o.push(i)}}if(o.length){a.push({elem:l,handlers:o})}}}}l=this;if(u<t.length){a.push({elem:l,handlers:t.slice(u)})}return a},addProp:function(t,e){Object.defineProperty(pe.Event.prototype,t,{enumerable:true,configurable:true,get:v(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(e){Object.defineProperty(this,t,{enumerable:true,configurable:true,writable:true,value:e})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:true},click:{setup:function(e){var t=this||e;if(Oe.test(t.type)&&t.click&&ve(t,"input")){ze(t,"click",true)}return false},trigger:function(e){var t=this||e;if(Oe.test(t.type)&&t.click&&ve(t,"input")){ze(t,"click")}return true},_default:function(e){var t=e.target;return Oe.test(t.type)&&t.click&&ve(t,"input")&&g.get(t,"click")||ve(t,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};function ze(e,i,t){if(!t){if(g.get(e,i)===undefined){pe.event.add(e,i,r)}return}g.set(e,i,false);pe.event.add(e,i,{namespace:false,handler:function(e){var t,n=g.get(this,i);if(e.isTrigger&1&&this[i]){if(!n){n=fe.call(arguments);g.set(this,i,n);this[i]();t=g.get(this,i);g.set(this,i,false);if(n!==t){e.stopImmediatePropagation();e.preventDefault();return t}}else if((pe.event.special[i]||{}).delegateType){e.stopPropagation()}}else if(n){g.set(this,i,pe.event.trigger(n[0],n.slice(1),this));e.stopPropagation();e.isImmediatePropagationStopped=r}}})}pe.removeEvent=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n)}};pe.Event=function(e,t){if(!(this instanceof pe.Event)){return new pe.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?r:u;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){pe.extend(this,t)}this.timeStamp=e&&e.timeStamp||Date.now();this[pe.expando]=true};pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=r;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=r;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=r;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};pe.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:true},pe.event.addProp);pe.each({focus:"focusin",blur:"focusout"},function(i,r){function o(e){if(C.documentMode){var t=g.get(this,"handle"),n=pe.event.fix(e);n.type=e.type==="focusin"?"focus":"blur";n.isSimulated=true;t(e);if(n.target===n.currentTarget){t(n)}}else{pe.event.simulate(r,e.target,pe.event.fix(e))}}pe.event.special[i]={setup:function(){var e;ze(this,i,true);if(C.documentMode){e=g.get(this,r);if(!e){this.addEventListener(r,o)}g.set(this,r,(e||0)+1)}else{return false}},trigger:function(){ze(this,i);return true},teardown:function(){var e;if(C.documentMode){e=g.get(this,r)-1;if(!e){this.removeEventListener(r,o);g.remove(this,r)}else{g.set(this,r,e)}}else{return false}},_default:function(e){return g.get(e.target,i)},delegateType:r};pe.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=g.get(t,r);if(!n){if(C.documentMode){this.addEventListener(r,o)}else{e.addEventListener(i,o,true)}}g.set(t,r,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=g.get(t,r)-1;if(!n){if(C.documentMode){this.removeEventListener(r,o)}else{e.removeEventListener(i,o,true)}g.remove(t,r)}else{g.set(t,r,n)}}}});pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){pe.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=this,i=e.relatedTarget,r=e.handleObj;if(!i||i!==n&&!pe.contains(n,i)){e.type=r.origType;t=r.handler.apply(this,arguments);e.type=o}return t}}});pe.fn.extend({on:function(e,t,n,i){return Ne(this,e,t,n,i)},one:function(e,t,n,i){return Ne(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof e==="object"){for(r in e){this.off(r,t,e[r])}return this}if(t===false||typeof t==="function"){n=t;t=undefined}if(n===false){n=u}return this.each(function(){pe.event.remove(this,e,n,t)})}});var Je=/<script|<style|<link/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){if(ve(e,"table")&&ve(t.nodeType!==11?t:t.firstChild,"tr")){return pe(e).children("tbody")[0]||e}return e}function Ge(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function Ve(e){if((e.type||"").slice(0,5)==="true/"){e.type=e.type.slice(5)}else{e.removeAttribute("type")}return e}function Ye(e,t){var n,i,r,o,s,a,u;if(t.nodeType!==1){return}if(g.hasData(e)){o=g.get(e);u=o.events;if(u){g.remove(t,"handle events");for(r in u){for(n=0,i=u[r].length;n<i;n++){pe.event.add(t,r,u[r][n])}}}}if(l.hasData(e)){s=l.access(e);a=pe.extend({},s);l.set(t,a)}}function Xe(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&Oe.test(e.type)){t.checked=e.checked}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}}function T(n,i,r,o){i=D(i);var e,t,s,a,u,l,f=0,c=n.length,h=c-1,d=i[0],p=v(d);if(p||c>1&&typeof d==="string"&&!de.checkClone&&Ue.test(d)){return n.each(function(e){var t=n.eq(e);if(p){i[0]=d.call(this,e,t.html())}T(t,i,r,o)})}if(c){e=We(i,n[0].ownerDocument,false,n,o);t=e.firstChild;if(e.childNodes.length===1){e=t}if(t||o){s=pe.map(b(e,"script"),Ge);a=s.length;for(;f<c;f++){u=e;if(f!==h){u=pe.clone(u,true,true);if(a){pe.merge(s,b(u,"script"))}}r.call(n[f],u,f)}if(a){l=s[s.length-1].ownerDocument;pe.map(s,Ve);for(f=0;f<a;f++){u=s[f];if(Le.test(u.type||"")&&!g.access(u,"globalEval")&&pe.contains(l,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(pe._evalUrl&&!u.noModule){pe._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l)}}else{L(u.textContent.replace(He,""),u,l)}}}}}}return n}function Ze(e,t,n){var i,r=t?pe.filter(t,e):e,o=0;for(;(i=r[o])!=null;o++){if(!n&&i.nodeType===1){pe.cleanData(b(i))}if(i.parentNode){if(n&&w(i)){Me(b(i,"script"))}i.parentNode.removeChild(i)}}return e}pe.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(true),u=w(e);if(!de.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!pe.isXMLDoc(e)){s=b(a);o=b(e);for(i=0,r=o.length;i<r;i++){Xe(o[i],s[i])}}if(t){if(n){o=o||b(e);s=s||b(a);for(i=0,r=o.length;i<r;i++){Ye(o[i],s[i])}}else{Ye(e,a)}}s=b(a,"script");if(s.length>0){Me(s,!u&&b(e,"script"))}return a},cleanData:function(e){var t,n,i,r=pe.event.special,o=0;for(;(n=e[o])!==undefined;o++){if(oe(n)){if(t=n[g.expando]){if(t.events){for(i in t.events){if(r[i]){pe.event.remove(n,i)}else{pe.removeEvent(n,i,t.handle)}}}n[g.expando]=undefined}if(n[l.expando]){n[l.expando]=undefined}}}}});pe.fn.extend({detach:function(e){return Ze(this,e,true)},remove:function(e){return Ze(this,e)},text:function(e){return f(this,function(e){return e===undefined?pe.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=je(this,e);t.appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return T(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){pe.cleanData(b(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return pe.clone(this,e,t)})},html:function(e){return f(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!Je.test(e)&&!_[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<i;n++){t=this[n]||{};if(t.nodeType===1){pe.cleanData(b(t,false));t.innerHTML=e}}t=0}catch(r){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var n=[];return T(this,arguments,function(e){var t=this.parentNode;if(pe.inArray(this,n)<0){pe.cleanData(b(this));if(t){t.replaceChild(e,this)}}},n)}});pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){pe.fn[e]=function(e){var t,n=[],i=pe(e),r=i.length-1,o=0;for(;o<=r;o++){t=o===r?this:this.clone(true);pe(i[o])[s](t);a.apply(n,t.get())}return this.pushStack(n)}});var Ke=new RegExp("^("+Te+")(?!px)[a-z%]+$","i");var $e=/^--/;var Qe=function(e){var t=e.ownerDocument.defaultView;if(!t||!t.opener){t=ue}return t.getComputedStyle(e)};var et=function(e,t,n){var i,r,o={};for(r in t){o[r]=e.style[r];e.style[r]=t[r]}i=n.call(e);for(r in t){e.style[r]=o[r]}return i};var tt=new RegExp(d.join("|"),"i");(function(){function e(){if(!l){return}u.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";S.appendChild(u).appendChild(l);var e=ue.getComputedStyle(l);n=e.top!=="1%";a=t(e.marginLeft)===12;l.style.right="60%";o=t(e.right)===36;i=t(e.width)===36;l.style.position="absolute";r=t(l.offsetWidth/3)===12;S.removeChild(u);l=null}function t(e){return Math.round(parseFloat(e))}var n,i,r,o,s,a,u=C.createElement("div"),l=C.createElement("div");if(!l.style){return}l.style.backgroundClip="content-box";l.cloneNode(true).style.backgroundClip="";de.clearCloneStyle=l.style.backgroundClip==="content-box";pe.extend(de,{boxSizingReliable:function(){e();return i},pixelBoxStyles:function(){e();return o},pixelPosition:function(){e();return n},reliableMarginLeft:function(){e();return a},scrollboxSize:function(){e();return r},reliableTrDimensions:function(){var e,t,n,i;if(s==null){e=C.createElement("table");t=C.createElement("tr");n=C.createElement("div");e.style.cssText="position:absolute;left:-11111px;border-collapse:separate";t.style.cssText="box-sizing:content-box;border:1px solid";t.style.height="1px";n.style.height="9px";n.style.display="block";S.appendChild(e).appendChild(t).appendChild(n);i=ue.getComputedStyle(t);s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight;S.removeChild(e)}return s}})})();function nt(e,t,n){var i,r,o,s,a=$e.test(t),u=e.style;n=n||Qe(e);if(n){s=n.getPropertyValue(t)||n[t];if(a&&s){s=s.replace(ye,"$1")||undefined}if(s===""&&!w(e)){s=pe.style(e,t)}if(!de.pixelBoxStyles()&&Ke.test(s)&&tt.test(t)){i=u.width;r=u.minWidth;o=u.maxWidth;u.minWidth=u.maxWidth=u.width=s;s=n.width;u.width=i;u.minWidth=r;u.maxWidth=o}}return s!==undefined?s+"":s}function it(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var rt=["Webkit","Moz","ms"],ot=C.createElement("div").style,st={};function at(e){var t=e[0].toUpperCase()+e.slice(1),n=rt.length;while(n--){e=rt[n]+t;if(e in ot){return e}}}function ut(e){var t=pe.cssProps[e]||st[e];if(t){return t}if(e in ot){return e}return st[e]=at(e)||e}var lt=/^(none|table(?!-c[ea]).+)/,ft={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"};function ht(e,t,n){var i=Re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function dt(e,t,n,i,r,o){var s=t==="width"?1:0,a=0,u=0,l=0;if(n===(i?"border":"content")){return 0}for(;s<4;s+=2){if(n==="margin"){l+=pe.css(e,n+d[s],true,r)}if(!i){u+=pe.css(e,"padding"+d[s],true,r);if(n!=="padding"){u+=pe.css(e,"border"+d[s]+"Width",true,r)}else{a+=pe.css(e,"border"+d[s]+"Width",true,r)}}else{if(n==="content"){u-=pe.css(e,"padding"+d[s],true,r)}if(n!=="margin"){u-=pe.css(e,"border"+d[s]+"Width",true,r)}}}if(!i&&o>=0){u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-a-.5))||0}return u+l}function pt(e,t,n){var i=Qe(e),r=!de.boxSizingReliable()||n,o=r&&pe.css(e,"boxSizing",false,i)==="border-box",s=o,a=nt(e,t,i),u="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n){return a}a="auto"}if((!de.boxSizingReliable()&&o||!de.reliableTrDimensions()&&ve(e,"tr")||a==="auto"||!parseFloat(a)&&pe.css(e,"display",false,i)==="inline")&&e.getClientRects().length){o=pe.css(e,"boxSizing",false,i)==="border-box";s=u in e;if(s){a=e[u]}}a=parseFloat(a)||0;return a+dt(e,t,n||(o?"border":"content"),s,i,a)+"px"}pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:true,aspectRatio:true,borderImageSlice:true,columnCount:true,flexGrow:true,flexShrink:true,fontWeight:true,gridArea:true,gridColumn:true,gridColumnEnd:true,gridColumnStart:true,gridRow:true,gridRowEnd:true,gridRowStart:true,lineHeight:true,opacity:true,order:true,orphans:true,scale:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeMiterlimit:true,strokeOpacity:true},cssProps:{},style:function(e,t,n,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var r,o,s,a=h(t),u=$e.test(t),l=e.style;if(!u){t=ut(a)}s=pe.cssHooks[t]||pe.cssHooks[a];if(n!==undefined){o=typeof n;if(o==="string"&&(r=Re.exec(n))&&r[1]){n=De(e,t,r);o="number"}if(n==null||n!==n){return}if(o==="number"&&!u){n+=r&&r[3]||(pe.cssNumber[a]?"":"px")}if(!de.clearCloneStyle&&n===""&&t.indexOf("background")===0){l[t]="inherit"}if(!s||!("set"in s)||(n=s.set(e,n,i))!==undefined){if(u){l.setProperty(t,n)}else{l[t]=n}}}else{if(s&&"get"in s&&(r=s.get(e,false,i))!==undefined){return r}return l[t]}},css:function(e,t,n,i){var r,o,s,a=h(t),u=$e.test(t);if(!u){t=ut(a)}s=pe.cssHooks[t]||pe.cssHooks[a];if(s&&"get"in s){r=s.get(e,true,n)}if(r===undefined){r=nt(e,t,i)}if(r==="normal"&&t in ct){r=ct[t]}if(n===""||n){o=parseFloat(r);return n===true||isFinite(o)?o||0:r}return r}});pe.each(["height","width"],function(e,l){pe.cssHooks[l]={get:function(e,t,n){if(t){return lt.test(pe.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?et(e,ft,function(){return pt(e,l,n)}):pt(e,l,n)}},set:function(e,t,n){var i,r=Qe(e),o=!de.scrollboxSize()&&r.position==="absolute",s=o||n,a=s&&pe.css(e,"boxSizing",false,r)==="border-box",u=n?dt(e,l,n,a,r):0;if(a&&o){u-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(r[l])-dt(e,l,"border",false,r)-.5)}if(u&&(i=Re.exec(t))&&(i[3]||"px")!=="px"){e.style[l]=t;t=pe.css(e,l)}return ht(e,t,u)}}});pe.cssHooks.marginLeft=it(de.reliableMarginLeft,function(e,t){if(t){return(parseFloat(nt(e,"marginLeft"))||e.getBoundingClientRect().left-et(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});pe.each({margin:"",padding:"",border:"Width"},function(r,o){pe.cssHooks[r+o]={expand:function(e){var t=0,n={},i=typeof e==="string"?e.split(" "):[e];for(;t<4;t++){n[r+d[t]+o]=i[t]||i[t-2]||i[0]}return n}};if(r!=="margin"){pe.cssHooks[r+o].set=ht}});pe.fn.extend({css:function(e,t){return f(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){i=Qe(e);r=t.length;for(;s<r;s++){o[t[s]]=pe.css(e,t[s],false,i)}return o}return n!==undefined?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)}});function o(e,t,n,i,r){return new o.prototype.init(e,t,n,i,r)}pe.Tween=o;o.prototype={constructor:o,init:function(e,t,n,i,r,o){this.elem=e;this.prop=n;this.easing=r||pe.easing._default;this.options=t;this.start=this.now=this.cur();this.end=i;this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=o.propHooks[this.prop];return e&&e.get?e.get(this):o.propHooks._default.get(this)},run:function(e){var t,n=o.propHooks[this.prop];if(this.options.duration){this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{o.propHooks._default.set(this)}return this}};o.prototype.init.prototype=o.prototype;o.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=pe.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(pe.fx.step[e.prop]){pe.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(pe.cssHooks[e.prop]||e.elem.style[ut(e.prop)]!=null)){pe.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};o.propHooks.scrollTop=o.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};pe.fx=o.prototype.init;pe.fx.step={};var p,vt,mt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;function gt(){if(vt){if(C.hidden===false&&ue.requestAnimationFrame){ue.requestAnimationFrame(gt)}else{ue.setTimeout(gt,pe.fx.interval)}pe.fx.tick()}}function St(){ue.setTimeout(function(){p=undefined});return p=Date.now()}function wt(e,t){var n,i=0,r={height:e};t=t?1:0;for(;i<4;i+=2-t){n=d[i];r["margin"+n]=r["padding"+n]=e}if(t){r.opacity=r.width=e}return r}function Pt(e,t,n){var i,r=(R.tweeners[t]||[]).concat(R.tweeners["*"]),o=0,s=r.length;for(;o<s;o++){if(i=r[o].call(n,t,e)){return i}}}function _t(e,t,n){var i,r,o,s,a,u,l,f,c="width"in t||"height"in t,h=this,d={},p=e.style,v=e.nodeType&&Ie(e),m=g.get(e,"fxshow");if(!n.queue){s=pe._queueHooks(e,"fx");if(s.unqueued==null){s.unqueued=0;a=s.empty.fire;s.empty.fire=function(){if(!s.unqueued){a()}}}s.unqueued++;h.always(function(){h.always(function(){s.unqueued--;if(!pe.queue(e,"fx").length){s.empty.fire()}})})}for(i in t){r=t[i];if(mt.test(r)){delete t[i];o=o||r==="toggle";if(r===(v?"hide":"show")){if(r==="show"&&m&&m[i]!==undefined){v=true}else{continue}}d[i]=m&&m[i]||pe.style(e,i)}}u=!pe.isEmptyObject(t);if(!u&&pe.isEmptyObject(d)){return}if(c&&e.nodeType===1){n.overflow=[p.overflow,p.overflowX,p.overflowY];l=m&&m.display;if(l==null){l=g.get(e,"display")}f=pe.css(e,"display");if(f==="none"){if(l){f=l}else{P([e],true);l=e.style.display||l;f=pe.css(e,"display");P([e])}}if(f==="inline"||f==="inline-block"&&l!=null){if(pe.css(e,"float")==="none"){if(!u){h.done(function(){p.display=l});if(l==null){f=p.display;l=f==="none"?"":f}}p.display="inline-block"}}}if(n.overflow){p.overflow="hidden";h.always(function(){p.overflow=n.overflow[0];p.overflowX=n.overflow[1];p.overflowY=n.overflow[2]})}u=false;for(i in d){if(!u){if(m){if("hidden"in m){v=m.hidden}}else{m=g.access(e,"fxshow",{display:l})}if(o){m.hidden=!v}if(v){P([e],true)}h.done(function(){if(!v){P([e])}g.remove(e,"fxshow");for(i in d){pe.style(e,i,d[i])}})}u=Pt(v?m[i]:0,i,h);if(!(i in m)){m[i]=u.start;if(v){u.end=u.start;u.start=0}}}}function bt(e,t){var n,i,r,o,s;for(n in e){i=h(n);r=t[i];o=e[n];if(Array.isArray(o)){r=o[1];o=e[n]=o[0]}if(n!==i){e[i]=o;delete e[n]}s=pe.cssHooks[i];if(s&&"expand"in s){o=s.expand(o);delete e[i];for(n in o){if(!(n in e)){e[n]=o[n];t[n]=r}}}else{t[i]=r}}}function R(s,e,t){var n,a,i=0,r=R.prefilters.length,u=pe.Deferred().always(function(){delete o.elem}),o=function(){if(a){return false}var e=p||St(),t=Math.max(0,l.startTime+l.duration-e),n=t/l.duration||0,i=1-n,r=0,o=l.tweens.length;for(;r<o;r++){l.tweens[r].run(i)}u.notifyWith(s,[l,i,t]);if(i<1&&o){return t}if(!o){u.notifyWith(s,[l,1,0])}u.resolveWith(s,[l]);return false},l=u.promise({elem:s,props:pe.extend({},e),opts:pe.extend(true,{specialEasing:{},easing:pe.easing._default},t),originalProperties:e,originalOptions:t,startTime:p||St(),duration:t.duration,tweens:[],createTween:function(e,t){var n=pe.Tween(s,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);l.tweens.push(n);return n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a){return this}a=true;for(;t<n;t++){l.tweens[t].run(1)}if(e){u.notifyWith(s,[l,1,0]);u.resolveWith(s,[l,e])}else{u.rejectWith(s,[l,e])}return this}}),f=l.props;bt(f,l.opts.specialEasing);for(;i<r;i++){n=R.prefilters[i].call(l,s,f,l.opts);if(n){if(v(n.stop)){pe._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)}return n}}pe.map(f,Pt,l);if(v(l.opts.start)){l.opts.start.call(s,l)}l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always);pe.fx.timer(pe.extend(o,{elem:s,anim:l,queue:l.opts.queue}));return l}pe.Animation=pe.extend(R,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);De(n.elem,e,Re.exec(t),n);return n}]},tweener:function(e,t){if(v(e)){t=e;e=["*"]}else{e=e.match(k)}var n,i=0,r=e.length;for(;i<r;i++){n=e[i];R.tweeners[n]=R.tweeners[n]||[];R.tweeners[n].unshift(t)}},prefilters:[_t],prefilter:function(e,t){if(t){R.prefilters.unshift(e)}else{R.prefilters.push(e)}}});pe.speed=function(e,t,n){var i=e&&typeof e==="object"?pe.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};if(pe.fx.off){i.duration=0}else{if(typeof i.duration!=="number"){if(i.duration in pe.fx.speeds){i.duration=pe.fx.speeds[i.duration]}else{i.duration=pe.fx.speeds._default}}}if(i.queue==null||i.queue===true){i.queue="fx"}i.old=i.complete;i.complete=function(){if(v(i.old)){i.old.call(this)}if(i.queue){pe.dequeue(this,i.queue)}};return i};pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ie).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=pe.isEmptyObject(t),o=pe.speed(e,n,i),s=function(){var e=R(this,pe.extend({},t),o);if(r||g.get(this,"finish")){e.stop(true)}};s.finish=s;return r||o.queue===false?this.each(s):this.queue(o.queue,s)},stop:function(r,e,o){var s=function(e){var t=e.stop;delete e.stop;t(o)};if(typeof r!=="string"){o=e;e=r;r=undefined}if(e){this.queue(r||"fx",[])}return this.each(function(){var e=true,t=r!=null&&r+"queueHooks",n=pe.timers,i=g.get(this);if(t){if(i[t]&&i[t].stop){s(i[t])}}else{for(t in i){if(i[t]&&i[t].stop&&yt.test(t)){s(i[t])}}}for(t=n.length;t--;){if(n[t].elem===this&&(r==null||n[t].queue===r)){n[t].anim.stop(o);e=false;n.splice(t,1)}}if(e||!o){pe.dequeue(this,r)}})},finish:function(s){if(s!==false){s=s||"fx"}return this.each(function(){var e,t=g.get(this),n=t[s+"queue"],i=t[s+"queueHooks"],r=pe.timers,o=n?n.length:0;t.finish=true;pe.queue(this,s,[]);if(i&&i.stop){i.stop.call(this,true)}for(e=r.length;e--;){if(r[e].elem===this&&r[e].queue===s){r[e].anim.stop(true);r.splice(e,1)}}for(e=0;e<o;e++){if(n[e]&&n[e].finish){n[e].finish.call(this)}}delete t.finish})}});pe.each(["toggle","show","hide"],function(e,i){var r=pe.fn[i];pe.fn[i]=function(e,t,n){return e==null||typeof e==="boolean"?r.apply(this,arguments):this.animate(wt(i,true),e,t,n)}});pe.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){pe.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}});pe.timers=[];pe.fx.tick=function(){var e,t=0,n=pe.timers;p=Date.now();for(;t<n.length;t++){e=n[t];if(!e()&&n[t]===e){n.splice(t--,1)}}if(!n.length){pe.fx.stop()}p=undefined};pe.fx.timer=function(e){pe.timers.push(e);pe.fx.start()};pe.fx.interval=13;pe.fx.start=function(){if(vt){return}vt=true;gt()};pe.fx.stop=function(){vt=null};pe.fx.speeds={slow:600,fast:200,_default:400};pe.fn.delay=function(i,e){i=pe.fx?pe.fx.speeds[i]||i:i;e=e||"fx";return this.queue(e,function(e,t){var n=ue.setTimeout(e,i);t.stop=function(){ue.clearTimeout(n)}})};(function(){var e=C.createElement("input"),t=C.createElement("select"),n=t.appendChild(C.createElement("option"));e.type="checkbox";de.checkOn=e.value!=="";de.optSelected=n.selected;e=C.createElement("input");e.value="t";e.type="radio";de.radioValue=e.value==="t"})();var Ct,kt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return f(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}});pe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(typeof e.getAttribute==="undefined"){return pe.prop(e,t,n)}if(o!==1||!pe.isXMLDoc(e)){r=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?Ct:undefined)}if(n!==undefined){if(n===null){pe.removeAttr(e,t);return}if(r&&"set"in r&&(i=r.set(e,n,t))!==undefined){return i}e.setAttribute(t,n+"");return n}if(r&&"get"in r&&(i=r.get(e,t))!==null){return i}i=pe.find.attr(e,t);return i==null?undefined:i},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&t==="radio"&&ve(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(k);if(r&&e.nodeType===1){while(n=r[i++]){e.removeAttribute(n)}}}});Ct={set:function(e,t,n){if(t===false){pe.removeAttr(e,n)}else{e.setAttribute(n,n)}return n}};pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var s=kt[t]||pe.find.attr;kt[t]=function(e,t,n){var i,r,o=t.toLowerCase();if(!n){r=kt[o];kt[o]=i;i=s(e,t,n)!=null?o:null;kt[o]=r}return i}});var Tt=/^(?:input|select|textarea|button)$/i,Rt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return f(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}});pe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!pe.isXMLDoc(e)){t=pe.propFix[t]||t;r=pe.propHooks[t]}if(n!==undefined){if(r&&"set"in r&&(i=r.set(e,n,t))!==undefined){return i}return e[t]=n}if(r&&"get"in r&&(i=r.get(e,t))!==null){return i}return e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");if(t){return parseInt(t,10)}if(Tt.test(e.nodeName)||Rt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{"for":"htmlFor","class":"className"}});if(!de.optSelected){pe.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this});function x(e){var t=e.match(k)||[];return t.join(" ")}function I(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){if(Array.isArray(e)){return e}if(typeof e==="string"){return e.match(k)||[]}return[]}pe.fn.extend({addClass:function(t){var e,n,i,r,o,s;if(v(t)){return this.each(function(e){pe(this).addClass(t.call(this,e,I(this)))})}e=xt(t);if(e.length){return this.each(function(){i=I(this);n=this.nodeType===1&&" "+x(i)+" ";if(n){for(o=0;o<e.length;o++){r=e[o];if(n.indexOf(" "+r+" ")<0){n+=r+" "}}s=x(n);if(i!==s){this.setAttribute("class",s)}}})}return this},removeClass:function(t){var e,n,i,r,o,s;if(v(t)){return this.each(function(e){pe(this).removeClass(t.call(this,e,I(this)))})}if(!arguments.length){return this.attr("class","")}e=xt(t);if(e.length){return this.each(function(){i=I(this);n=this.nodeType===1&&" "+x(i)+" ";if(n){for(o=0;o<e.length;o++){r=e[o];while(n.indexOf(" "+r+" ")>-1){n=n.replace(" "+r+" "," ")}}s=x(n);if(i!==s){this.setAttribute("class",s)}}})}return this},toggleClass:function(t,n){var e,i,r,o,s=typeof t,a=s==="string"||Array.isArray(t);if(v(t)){return this.each(function(e){pe(this).toggleClass(t.call(this,e,I(this),n),n)})}if(typeof n==="boolean"&&a){return n?this.addClass(t):this.removeClass(t)}e=xt(t);return this.each(function(){if(a){o=pe(this);for(r=0;r<e.length;r++){i=e[r];if(o.hasClass(i)){o.removeClass(i)}else{o.addClass(i)}}}else if(t===undefined||s==="boolean"){i=I(this);if(i){g.set(this,"__className__",i)}if(this.setAttribute){this.setAttribute("class",i||t===false?"":g.get(this,"__className__")||"")}}})},hasClass:function(e){var t,n,i=0;t=" "+e+" ";while(n=this[i++]){if(n.nodeType===1&&(" "+x(I(n))+" ").indexOf(t)>-1){return true}}return false}});var It=/\r/g;pe.fn.extend({val:function(n){var i,e,r,t=this[0];if(!arguments.length){if(t){i=pe.valHooks[t.type]||pe.valHooks[t.nodeName.toLowerCase()];if(i&&"get"in i&&(e=i.get(t,"value"))!==undefined){return e}e=t.value;if(typeof e==="string"){return e.replace(It,"")}return e==null?"":e}return}r=v(n);return this.each(function(e){var t;if(this.nodeType!==1){return}if(r){t=n.call(this,e,pe(this).val())}else{t=n}if(t==null){t=""}else if(typeof t==="number"){t+=""}else if(Array.isArray(t)){t=pe.map(t,function(e){return e==null?"":e+""})}i=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()];if(!i||!("set"in i)||i.set(this,t,"value")===undefined){this.value=t}})}});pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return t!=null?t:x(pe.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s=e.type==="select-one",a=s?null:[],u=s?o+1:r.length;if(o<0){i=u}else{i=s?o:0}for(;i<u;i++){n=r[i];if((n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!ve(n.parentNode,"optgroup"))){t=pe(n).val();if(s){return t}a.push(t)}}return a},set:function(e,t){var n,i,r=e.options,o=pe.makeArray(t),s=r.length;while(s--){i=r[s];if(i.selected=pe.inArray(pe.valHooks.option.get(i),o)>-1){n=true}}if(!n){e.selectedIndex=-1}return o}}}});pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=pe.inArray(pe(e).val(),t)>-1}}};if(!de.checkOn){pe.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var Dt=ue.location;var Et={guid:Date.now()};var qt=/\?/;pe.parseXML=function(e){var t,n;if(!e||typeof e!=="string"){return null}try{t=(new ue.DOMParser).parseFromString(e,"text/xml")}catch(i){}n=t&&t.getElementsByTagName("parsererror")[0];if(!t||n){pe.error("Invalid XML: "+(n?pe.map(n.childNodes,function(e){return e.textContent}).join("\n"):e))}return t};var Ot=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};pe.extend(pe.event,{trigger:function(e,t,n,i){var r,o,s,a,u,l,f,c,h=[n||C],d=he.call(e,"type")?e.type:e,p=he.call(e,"namespace")?e.namespace.split("."):[];o=c=s=n=n||C;if(n.nodeType===3||n.nodeType===8){return}if(Ot.test(d+pe.event.triggered)){return}if(d.indexOf(".")>-1){p=d.split(".");d=p.shift();p.sort()}u=d.indexOf(":")<0&&"on"+d;e=e[pe.expando]?e:new pe.Event(d,typeof e==="object"&&e);e.isTrigger=i?2:3;e.namespace=p.join(".");e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;e.result=undefined;if(!e.target){e.target=n}t=t==null?[e]:pe.makeArray(t,[e]);f=pe.event.special[d]||{};if(!i&&f.trigger&&f.trigger.apply(n,t)===false){return}if(!i&&!f.noBubble&&!m(n)){a=f.delegateType||d;if(!Ot.test(a+d)){o=o.parentNode}for(;o;o=o.parentNode){h.push(o);s=o}if(s===(n.ownerDocument||C)){h.push(s.defaultView||s.parentWindow||ue)}}r=0;while((o=h[r++])&&!e.isPropagationStopped()){c=o;e.type=r>1?a:f.bindType||d;l=(g.get(o,"events")||Object.create(null))[e.type]&&g.get(o,"handle");if(l){l.apply(o,t)}l=u&&o[u];if(l&&l.apply&&oe(o)){e.result=l.apply(o,t);if(e.result===false){e.preventDefault()}}}e.type=d;if(!i&&!e.isDefaultPrevented()){if((!f._default||f._default.apply(h.pop(),t)===false)&&oe(n)){if(u&&v(n[d])&&!m(n)){s=n[u];if(s){n[u]=null}pe.event.triggered=d;if(e.isPropagationStopped()){c.addEventListener(d,At)}n[d]();if(e.isPropagationStopped()){c.removeEventListener(d,At)}pe.event.triggered=undefined;if(s){n[u]=s}}}}return e.result},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:true});pe.event.trigger(i,null,t)}});pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return pe.event.trigger(e,t,n,true)}}});var Lt=/\[\]$/,Mt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,Wt=/^(?:input|select|textarea|keygen)/i;function Bt(n,e,i,r){var t;if(Array.isArray(e)){pe.each(e,function(e,t){if(i||Lt.test(n)){r(n,t)}else{Bt(n+"["+(typeof t==="object"&&t!=null?e:"")+"]",t,i,r)}})}else if(!i&&y(e)==="object"){for(t in e){Bt(n+"["+t+"]",e[t],i,r)}}else{r(n,e)}}pe.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(n==null?"":n)};if(e==null){return""}if(Array.isArray(e)||e.jquery&&!pe.isPlainObject(e)){pe.each(e,function(){r(this.name,this.value)})}else{for(n in e){Bt(n,e[n],t,r)}}return i.join("&")};pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&Wt.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=pe(this).val();if(n==null){return null}if(Array.isArray(n)){return pe.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}})}return{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Nt=/%20/g,zt=/#.*$/,Jt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Vt={},Yt={},Xt="*/".concat("*"),Zt=C.createElement("a");Zt.href=Dt.href;function Kt(o){return function(e,t){if(typeof e!=="string"){t=e;e="*"}var n,i=0,r=e.toLowerCase().match(k)||[];if(v(t)){while(n=r[i++]){if(n[0]==="+"){n=n.slice(1)||"*";(o[n]=o[n]||[]).unshift(t)}else{(o[n]=o[n]||[]).push(t)}}}}}function $t(t,r,o,s){var a={},u=t===Yt;function l(e){var i;a[e]=true;pe.each(t[e]||[],function(e,t){var n=t(r,o,s);if(typeof n==="string"&&!u&&!a[n]){r.dataTypes.unshift(n);l(n);return false}else if(u){return!(i=n)}});return i}return l(r.dataTypes[0])||!a["*"]&&l("*")}function Qt(e,t){var n,i,r=pe.ajaxSettings.flatOptions||{};for(n in t){if(t[n]!==undefined){(r[n]?e:i||(i={}))[n]=t[n]}}if(i){pe.extend(true,e,i)}return e}function en(e,t,n){var i,r,o,s,a=e.contents,u=e.dataTypes;while(u[0]==="*"){u.shift();if(i===undefined){i=e.mimeType||t.getResponseHeader("Content-Type")}}if(i){for(r in a){if(a[r]&&a[r].test(i)){u.unshift(r);break}}}if(u[0]in n){o=u[0]}else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}if(!s){s=r}}o=o||s}if(o){if(o!==u[0]){u.unshift(o)}return n[o]}}function tn(e,t,n,i){var r,o,s,a,u,l={},f=e.dataTypes.slice();if(f[1]){for(s in e.converters){l[s.toLowerCase()]=e.converters[s]}}o=f.shift();while(o){if(e.responseFields[o]){n[e.responseFields[o]]=t}if(!u&&i&&e.dataFilter){t=e.dataFilter(t,e.dataType)}u=o;o=f.shift();if(o){if(o==="*"){o=u}else if(u!=="*"&&u!==o){s=l[u+" "+o]||l["* "+o];if(!s){for(r in l){a=r.split(" ");if(a[1]===o){s=l[u+" "+a[0]]||l["* "+a[0]];if(s){if(s===true){s=l[r]}else if(l[r]!==true){o=a[0];f.unshift(a[1])}break}}}}if(s!==true){if(s&&e["throws"]){t=s(t)}else{try{t=s(t)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+u+" to "+o}}}}}}}return{state:"success",data:t}}pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:Ht.test(Dt.protocol),global:true,processData:true,"async":true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?Qt(Qt(e,pe.ajaxSettings),t):Qt(pe.ajaxSettings,e)},ajaxPrefilter:Kt(Vt),ajaxTransport:Kt(Yt),ajax:function(e,t){if(typeof e==="object"){t=e;e=undefined}t=t||{};var f,c,h,n,d,i,p,v,r,o,m=pe.ajaxSetup({},t),y=m.context||m,g=m.context&&(y.nodeType||y.jquery)?pe(y):pe.event,S=pe.Deferred(),w=pe.Callbacks("once memory"),P=m.statusCode||{},s={},a={},u="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n){n={};while(t=Ut.exec(h)){n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}}t=n[e.toLowerCase()+" "]}return t==null?null:t.join(", ")},getAllResponseHeaders:function(){return p?h:null},setRequestHeader:function(e,t){if(p==null){e=a[e.toLowerCase()]=a[e.toLowerCase()]||e;s[e]=t}return this},overrideMimeType:function(e){if(p==null){m.mimeType=e}return this},statusCode:function(e){var t;if(e){if(p){_.always(e[_.status])}else{for(t in e){P[t]=[P[t],e[t]]}}}return this},abort:function(e){var t=e||u;if(f){f.abort(t)}l(0,t);return this}};S.promise(_);m.url=((e||m.url||Dt.href)+"").replace(Gt,Dt.protocol+"//");m.type=t.method||t.type||m.method||m.type;m.dataTypes=(m.dataType||"*").toLowerCase().match(k)||[""];if(m.crossDomain==null){i=C.createElement("a");try{i.href=m.url;i.href=i.href;m.crossDomain=Zt.protocol+"//"+Zt.host!==i.protocol+"//"+i.host}catch(b){m.crossDomain=true}}if(m.data&&m.processData&&typeof m.data!=="string"){m.data=pe.param(m.data,m.traditional)}$t(Vt,m,t,_);if(p){return _}v=pe.event&&m.global;if(v&&pe.active++===0){pe.event.trigger("ajaxStart")}m.type=m.type.toUpperCase();m.hasContent=!jt.test(m.type);c=m.url.replace(zt,"");if(!m.hasContent){o=m.url.slice(c.length);if(m.data&&(m.processData||typeof m.data==="string")){c+=(qt.test(c)?"&":"?")+m.data;delete m.data}if(m.cache===false){c=c.replace(Jt,"$1");o=(qt.test(c)?"&":"?")+"_="+Et.guid+++o}m.url=c+o}else if(m.data&&m.processData&&(m.contentType||"").indexOf("application/x-www-form-urlencoded")===0){m.data=m.data.replace(Nt,"+")}if(m.ifModified){if(pe.lastModified[c]){_.setRequestHeader("If-Modified-Since",pe.lastModified[c])}if(pe.etag[c]){_.setRequestHeader("If-None-Match",pe.etag[c])}}if(m.data&&m.hasContent&&m.contentType!==false||t.contentType){_.setRequestHeader("Content-Type",m.contentType)}_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", "+Xt+"; q=0.01":""):m.accepts["*"]);for(r in m.headers){_.setRequestHeader(r,m.headers[r])}if(m.beforeSend&&(m.beforeSend.call(y,_,m)===false||p)){return _.abort()}u="abort";w.add(m.complete);_.done(m.success);_.fail(m.error);f=$t(Yt,m,t,_);if(!f){l(-1,"No Transport")}else{_.readyState=1;if(v){g.trigger("ajaxSend",[_,m])}if(p){return _}if(m["async"]&&m.timeout>0){d=ue.setTimeout(function(){_.abort("timeout")},m.timeout)}try{p=false;f.send(s,l)}catch(b){if(p){throw b}l(-1,b)}}function l(e,t,n,i){var r,o,s,a,u,l=t;if(p){return}p=true;if(d){ue.clearTimeout(d)}f=undefined;h=i||"";_.readyState=e>0?4:0;r=e>=200&&e<300||e===304;if(n){a=en(m,_,n)}if(!r&&pe.inArray("script",m.dataTypes)>-1&&pe.inArray("json",m.dataTypes)<0){m.converters["text script"]=function(){}}a=tn(m,a,_,r);if(r){if(m.ifModified){u=_.getResponseHeader("Last-Modified");if(u){pe.lastModified[c]=u}u=_.getResponseHeader("etag");if(u){pe.etag[c]=u}}if(e===204||m.type==="HEAD"){l="nocontent"}else if(e===304){l="notmodified"}else{l=a.state;o=a.data;s=a.error;r=!s}}else{s=l;if(e||!l){l="error";if(e<0){e=0}}}_.status=e;_.statusText=(t||l)+"";if(r){S.resolveWith(y,[o,l,_])}else{S.rejectWith(y,[_,l,s])}_.statusCode(P);P=undefined;if(v){g.trigger(r?"ajaxSuccess":"ajaxError",[_,m,r?o:s])}w.fireWith(y,[_,l]);if(v){g.trigger("ajaxComplete",[_,m]);if(!--pe.active){pe.event.trigger("ajaxStop")}}}return _},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,undefined,t,"script")}});pe.each(["get","post"],function(e,r){pe[r]=function(e,t,n,i){if(v(t)){i=i||n;n=t;t=undefined}return pe.ajax(pe.extend({url:e,type:r,dataType:i,data:t,success:n},pe.isPlainObject(e)&&e))}});pe.ajaxPrefilter(function(e){var t;for(t in e.headers){if(t.toLowerCase()==="content-type"){e.contentType=e.headers[t]||""}}});pe._evalUrl=function(e,t,n){return pe.ajax({url:e,type:"GET",dataType:"script",cache:true,"async":false,global:false,converters:{"text script":function(){}},dataFilter:function(e){pe.globalEval(e,t,n)}})};pe.fn.extend({wrapAll:function(e){var t;if(this[0]){if(v(e)){e=e.call(this[0])}t=pe(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(n){if(v(n)){return this.each(function(e){pe(this).wrapInner(n.call(this,e))})}return this.each(function(){var e=pe(this),t=e.contents();if(t.length){t.wrapAll(n)}else{e.append(n)}})},wrap:function(t){var n=v(t);return this.each(function(e){pe(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)});return this}});pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)};pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};pe.ajaxSettings.xhr=function(){try{return new ue.XMLHttpRequest}catch(e){}};var nn={0:200,1223:204},rn=pe.ajaxSettings.xhr();de.cors=!!rn&&"withCredentials"in rn;de.ajax=rn=!!rn;pe.ajaxTransport(function(o){var s,a;if(de.cors||rn&&!o.crossDomain){return{send:function(e,t){var n,i=o.xhr();i.open(o.type,o.url,o["async"],o.username,o.password);if(o.xhrFields){for(n in o.xhrFields){i[n]=o.xhrFields[n]}}if(o.mimeType&&i.overrideMimeType){i.overrideMimeType(o.mimeType)}if(!o.crossDomain&&!e["X-Requested-With"]){e["X-Requested-With"]="XMLHttpRequest"}for(n in e){i.setRequestHeader(n,e[n])}s=function(e){return function(){if(s){s=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null;if(e==="abort"){i.abort()}else if(e==="error"){if(typeof i.status!=="number"){t(0,"error")}else{t(i.status,i.statusText)}}else{t(nn[i.status]||i.status,i.statusText,(i.responseType||"text")!=="text"||typeof i.responseText!=="string"?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders())}}}};i.onload=s();a=i.onerror=i.ontimeout=s("error");if(i.onabort!==undefined){i.onabort=a}else{i.onreadystatechange=function(){if(i.readyState===4){ue.setTimeout(function(){if(s){a()}})}}}s=s("abort");try{i.send(o.hasContent&&o.data||null)}catch(r){if(s){throw r}}},abort:function(){if(s){s()}}}}});pe.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){pe.globalEval(e);return e}}});pe.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});pe.ajaxTransport("script",function(n){if(n.crossDomain||n.scriptAttrs){var i,r;return{send:function(e,t){i=pe("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove();r=null;if(e){t(e.type==="error"?404:200,e.type)}});C.head.appendChild(i[0])},abort:function(){if(r){r()}}}}});var on=[],sn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=on.pop()||pe.expando+"_"+Et.guid++;this[e]=true;return e}});pe.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,s=e.jsonp!==false&&(sn.test(e.url)?"url":typeof e.data==="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&sn.test(e.data)&&"data");if(s||e.dataTypes[0]==="jsonp"){i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback;if(s){e[s]=e[s].replace(sn,"$1"+i)}else if(e.jsonp!==false){e.url+=(qt.test(e.url)?"&":"?")+e.jsonp+"="+i}e.converters["script json"]=function(){if(!o){pe.error(i+" was not called")}return o[0]};e.dataTypes[0]="json";r=ue[i];ue[i]=function(){o=arguments};n.always(function(){if(r===undefined){pe(ue).removeProp(i)}else{ue[i]=r}if(e[i]){e.jsonpCallback=t.jsonpCallback;on.push(i)}if(o&&v(r)){r(o[0])}o=r=undefined});return"script"}});de.createHTMLDocument=function(){var e=C.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();pe.parseHTML=function(e,t,n){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){n=t;t=false}var i,r,o;if(!t){if(de.createHTMLDocument){t=C.implementation.createHTMLDocument("");i=t.createElement("base");i.href=C.location.href;t.head.appendChild(i)}else{t=C}}r=J.exec(e);o=!n&&[];if(r){return[t.createElement(r[1])]}r=We([e],t,o);if(o&&o.length){pe(o).remove()}return pe.merge([],r.childNodes)};pe.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");if(a>-1){i=x(e.slice(a));e=e.slice(0,a)}if(v(t)){n=t;t=undefined}else if(t&&typeof t==="object"){r="POST"}if(s.length>0){pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments;s.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})})}return this};pe.expr.pseudos.animated=function(t){return pe.grep(pe.timers,function(e){return t===e.elem}).length};pe.offset={setOffset:function(e,t,n){var i,r,o,s,a,u,l,f=pe.css(e,"position"),c=pe(e),h={};if(f==="static"){e.style.position="relative"}a=c.offset();o=pe.css(e,"top");u=pe.css(e,"left");l=(f==="absolute"||f==="fixed")&&(o+u).indexOf("auto")>-1;if(l){i=c.position();s=i.top;r=i.left}else{s=parseFloat(o)||0;r=parseFloat(u)||0}if(v(t)){t=t.call(e,n,pe.extend({},a))}if(t.top!=null){h.top=t.top-a.top+s}if(t.left!=null){h.left=t.left-a.left+r}if("using"in t){t.using.call(e,h)}else{c.css(h)}}};pe.fn.extend({offset:function(t){if(arguments.length){return t===undefined?this:this.each(function(e){pe.offset.setOffset(this,t,e)})}var e,n,i=this[0];if(!i){return}if(!i.getClientRects().length){return{top:0,left:0}}e=i.getBoundingClientRect();n=i.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}},position:function(){if(!this[0]){return}var e,t,n,i=this[0],r={top:0,left:0};if(pe.css(i,"position")==="fixed"){t=i.getBoundingClientRect()}else{t=this.offset();n=i.ownerDocument;e=i.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&pe.css(e,"position")==="static"){e=e.parentNode}if(e&&e!==i&&e.nodeType===1){r=pe(e).offset();r.top+=pe.css(e,"borderTopWidth",true);r.left+=pe.css(e,"borderLeftWidth",true)}}return{top:t.top-r.top-pe.css(i,"marginTop",true),left:t.left-r.left-pe.css(i,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&pe.css(e,"position")==="static"){e=e.offsetParent}return e||S})}});pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;pe.fn[t]=function(e){return f(this,function(e,t,n){var i;if(m(e)){i=e}else if(e.nodeType===9){i=e.defaultView}if(n===undefined){return i?i[r]:e[t]}if(i){i.scrollTo(!o?n:i.pageXOffset,o?n:i.pageYOffset)}else{e[t]=n}},t,e,arguments.length)}});pe.each(["top","left"],function(e,n){pe.cssHooks[n]=it(de.pixelPosition,function(e,t){if(t){t=nt(e,n);return Ke.test(t)?pe(e).position()[n]+"px":t}})});pe.each({Height:"height",Width:"width"},function(s,a){pe.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){pe.fn[o]=function(e,t){var n=arguments.length&&(i||typeof e!=="boolean"),r=i||(e===true||t===true?"margin":"border");return f(this,function(e,t,n){var i;if(m(e)){return o.indexOf("outer")===0?e["inner"+s]:e.document.documentElement["client"+s]}if(e.nodeType===9){i=e.documentElement;return Math.max(e.body["scroll"+s],i["scroll"+s],e.body["offset"+s],i["offset"+s],i["client"+s])}return n===undefined?pe.css(e,t,r):pe.style(e,t,n,r)},a,n?e:undefined,n)}})});pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}});pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}});pe.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,n){pe.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}});var an=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;pe.proxy=function(e,t){var n,i,r;if(typeof t==="string"){n=e[t];t=e;e=n}if(!v(e)){return undefined}i=fe.call(arguments,2);r=function(){return e.apply(t||this,i.concat(fe.call(arguments)))};r.guid=e.guid=e.guid||pe.guid++;return r};pe.holdReady=function(e){if(e){pe.readyWait++}else{pe.ready(true)}};pe.isArray=Array.isArray;pe.parseJSON=JSON.parse;pe.nodeName=ve;pe.isFunction=v;pe.isWindow=m;pe.camelCase=h;pe.type=y;pe.now=Date.now;pe.isNumeric=function(e){var t=pe.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))};pe.trim=function(e){return e==null?"":(e+"").replace(an,"$1")};if(true){!(hn=[],dn=function(){return pe}.apply(cn,hn),dn!==undefined&&(fn.exports=dn))}var un=ue.jQuery,ln=ue.$;pe.noConflict=function(e){if(ue.$===pe){ue.$=ln}if(e&&ue.jQuery===pe){ue.jQuery=un}return pe};if(typeof e==="undefined"){ue.jQuery=ue.$=pe}return pe})},function(w,e,P){(function(){var i,h,n,r,o,d,t,s,a,e,u,l,f,c,p,v,m,y,g,S={}.hasOwnProperty;g=P(3),y=g.isObject,m=g.isFunction,v=g.isEmpty,p=g.getValue;s=null;n=null;r=null;o=null;d=null;f=null;c=null;l=null;t=null;h=null;u=null;a=null;i=null;w.exports=e=function(){function e(e){this.parent=e;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}this.value=null;this.children=[];this.baseURI=null;if(!s){s=P(20);n=P(22);r=P(23);o=P(24);d=P(25);f=P(30);c=P(31);l=P(32);t=P(49);h=P(0);u=P(94);a=P(21);i=P(95)}}Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}});Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}});Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}});Object.defineProperty(e.prototype,"childNodes",{get:function(){if(!this.childNodeList||!this.childNodeList.nodes){this.childNodeList=new u(this.children)}return this.childNodeList}});Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}});Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}});Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;e=this.parent.children.indexOf(this);return this.parent.children[e-1]||null}});Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;e=this.parent.children.indexOf(this);return this.parent.children[e+1]||null}});Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}});Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,n,i,r;if(this.nodeType===h.Element||this.nodeType===h.DocumentFragment){r="";i=this.children;for(t=0,n=i.length;t<n;t++){e=i[t];if(e.textContent){r+=e.textContent}}return r}else{return null}},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}});e.prototype.setParent=function(e){var t,n,i,r,o;this.parent=e;if(e){this.options=e.options;this.stringify=e.stringify}r=this.children;o=[];for(n=0,i=r.length;n<i;n++){t=r[n];o.push(t.setParent(this))}return o};e.prototype.element=function(e,t,n){var i,r,o,s,a,u,l,f,c,h,d;u=null;if(t===null&&n==null){c=[{},null],t=c[0],n=c[1]}if(t==null){t={}}t=p(t);if(!y(t)){h=[t,n],n=h[0],t=h[1]}if(e!=null){e=p(e)}if(Array.isArray(e)){for(o=0,l=e.length;o<l;o++){r=e[o];u=this.element(r)}}else if(m(e)){u=this.element(e.apply())}else if(y(e)){for(a in e){if(!S.call(e,a))continue;d=e[a];if(m(d)){d=d.apply()}if(!this.options.ignoreDecorators&&this.stringify.convertAttKey&&a.indexOf(this.stringify.convertAttKey)===0){u=this.attribute(a.substr(this.stringify.convertAttKey.length),d)}else if(!this.options.separateArrayItems&&Array.isArray(d)&&v(d)){u=this.dummy()}else if(y(d)&&v(d)){u=this.element(a)}else if(!this.options.keepNullNodes&&d==null){u=this.dummy()}else if(!this.options.separateArrayItems&&Array.isArray(d)){for(s=0,f=d.length;s<f;s++){r=d[s];i={};i[a]=r;u=this.element(i)}}else if(y(d)){if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&a.indexOf(this.stringify.convertTextKey)===0){u=this.element(d)}else{u=this.element(a);u.element(d)}}else{u=this.element(a,d)}}}else if(!this.options.keepNullNodes&&n===null){u=this.dummy()}else{if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&e.indexOf(this.stringify.convertTextKey)===0){u=this.text(n)}else if(!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&e.indexOf(this.stringify.convertCDataKey)===0){u=this.cdata(n)}else if(!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&e.indexOf(this.stringify.convertCommentKey)===0){u=this.comment(n)}else if(!this.options.ignoreDecorators&&this.stringify.convertRawKey&&e.indexOf(this.stringify.convertRawKey)===0){u=this.raw(n)}else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&e.indexOf(this.stringify.convertPIKey)===0){u=this.instruction(e.substr(this.stringify.convertPIKey.length),n)}else{u=this.node(e,t,n)}}if(u==null){throw new Error("Could not create any elements with: "+e+". "+this.debugInfo())}return u};e.prototype.insertBefore=function(e,t,n){var i,r,o,s,a;if(e!=null?e.type:void 0){o=e;s=t;o.setParent(this);if(s){r=children.indexOf(s);a=children.splice(r);children.push(o);Array.prototype.push.apply(children,a)}else{children.push(o)}return o}else{if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(e))}r=this.parent.children.indexOf(this);a=this.parent.children.splice(r);i=this.parent.element(e,t,n);Array.prototype.push.apply(this.parent.children,a);return i}};e.prototype.insertAfter=function(e,t,n){var i,r,o;if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(e))}r=this.parent.children.indexOf(this);o=this.parent.children.splice(r+1);i=this.parent.element(e,t,n);Array.prototype.push.apply(this.parent.children,o);return i};e.prototype.remove=function(){var e,t;if(this.isRoot){throw new Error("Cannot remove the root element. "+this.debugInfo())}e=this.parent.children.indexOf(this);[].splice.apply(this.parent.children,[e,e-e+1].concat(t=[])),t;return this.parent};e.prototype.node=function(e,t,n){var i,r;if(e!=null){e=p(e)}t||(t={});t=p(t);if(!y(t)){r=[t,n],n=r[0],t=r[1]}i=new s(this,e,t);if(n!=null){i.text(n)}this.children.push(i);return i};e.prototype.text=function(e){var t;if(y(e)){this.element(e)}t=new c(this,e);this.children.push(t);return this};e.prototype.cdata=function(e){var t;t=new n(this,e);this.children.push(t);return this};e.prototype.comment=function(e){var t;t=new r(this,e);this.children.push(t);return this};e.prototype.commentBefore=function(e){var t,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n);t=this.parent.comment(e);Array.prototype.push.apply(this.parent.children,i);return this};e.prototype.commentAfter=function(e){var t,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n+1);t=this.parent.comment(e);Array.prototype.push.apply(this.parent.children,i);return this};e.prototype.raw=function(e){var t;t=new f(this,e);this.children.push(t);return this};e.prototype.dummy=function(){var e;e=new t(this);return e};e.prototype.instruction=function(e,t){var n,i,r,o,s;if(e!=null){e=p(e)}if(t!=null){t=p(t)}if(Array.isArray(e)){for(o=0,s=e.length;o<s;o++){n=e[o];this.instruction(n)}}else if(y(e)){for(n in e){if(!S.call(e,n))continue;i=e[n];this.instruction(n,i)}}else{if(m(t)){t=t.apply()}r=new l(this,e,t);this.children.push(r)}return this};e.prototype.instructionBefore=function(e,t){var n,i,r;i=this.parent.children.indexOf(this);r=this.parent.children.splice(i);n=this.parent.instruction(e,t);Array.prototype.push.apply(this.parent.children,r);return this};e.prototype.instructionAfter=function(e,t){var n,i,r;i=this.parent.children.indexOf(this);r=this.parent.children.splice(i+1);n=this.parent.instruction(e,t);Array.prototype.push.apply(this.parent.children,r);return this};e.prototype.declaration=function(e,t,n){var i,r;i=this.document();r=new o(i,e,t,n);if(i.children.length===0){i.children.unshift(r)}else if(i.children[0].type===h.Declaration){i.children[0]=r}else{i.children.unshift(r)}return i.root()||i};e.prototype.dtd=function(e,t){var n,i,r,o,s,a,u,l,f,c;i=this.document();r=new d(i,e,t);f=i.children;for(o=s=0,u=f.length;s<u;o=++s){n=f[o];if(n.type===h.DocType){i.children[o]=r;return r}}c=i.children;for(o=a=0,l=c.length;a<l;o=++a){n=c[o];if(n.isRoot){i.children.splice(o,0,r);return r}}i.children.push(r);return r};e.prototype.up=function(){if(this.isRoot){throw new Error("The root node has no parent. Use doc() if you need to get the document object.")}return this.parent};e.prototype.root=function(){var e;e=this;while(e){if(e.type===h.Document){return e.rootObject}else if(e.isRoot){return e}else{e=e.parent}}};e.prototype.document=function(){var e;e=this;while(e){if(e.type===h.Document){return e}else{e=e.parent}}};e.prototype.end=function(e){return this.document().end(e)};e.prototype.prev=function(){var e;e=this.parent.children.indexOf(this);if(e<1){throw new Error("Already at the first node. "+this.debugInfo())}return this.parent.children[e-1]};e.prototype.next=function(){var e;e=this.parent.children.indexOf(this);if(e===-1||e===this.parent.children.length-1){throw new Error("Already at the last node. "+this.debugInfo())}return this.parent.children[e+1]};e.prototype.importDocument=function(e){var t;t=e.root().clone();t.parent=this;t.isRoot=false;this.children.push(t);return this};e.prototype.debugInfo=function(e){var t,n;e=e||this.name;if(e==null&&!((t=this.parent)!=null?t.name:void 0)){return""}else if(e==null){return"parent: <"+this.parent.name+">"}else if(!((n=this.parent)!=null?n.name:void 0)){return"node: <"+e+">"}else{return"node: <"+e+">, parent: <"+this.parent.name+">"}};e.prototype.ele=function(e,t,n){return this.element(e,t,n)};e.prototype.nod=function(e,t,n){return this.node(e,t,n)};e.prototype.txt=function(e){return this.text(e)};e.prototype.dat=function(e){return this.cdata(e)};e.prototype.com=function(e){return this.comment(e)};e.prototype.ins=function(e,t){return this.instruction(e,t)};e.prototype.doc=function(){return this.document()};e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)};e.prototype.e=function(e,t,n){return this.element(e,t,n)};e.prototype.n=function(e,t,n){return this.node(e,t,n)};e.prototype.t=function(e){return this.text(e)};e.prototype.d=function(e){return this.cdata(e)};e.prototype.c=function(e){return this.comment(e)};e.prototype.r=function(e){return this.raw(e)};e.prototype.i=function(e,t){return this.instruction(e,t)};e.prototype.u=function(){return this.up()};e.prototype.importXMLBuilder=function(e){return this.importDocument(e)};e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.hasChildNodes=function(){return this.children.length!==0};e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.isSupported=function(e,t){return true};e.prototype.hasAttributes=function(){return this.attribs.length!==0};e.prototype.compareDocumentPosition=function(e){var t,n;t=this;if(t===e){return 0}else if(this.document()!==e.document()){n=i.Disconnected|i.ImplementationSpecific;if(Math.random()<.5){n|=i.Preceding}else{n|=i.Following}return n}else if(t.isAncestor(e)){return i.Contains|i.Preceding}else if(t.isDescendant(e)){return i.Contains|i.Following}else if(t.isPreceding(e)){return i.Preceding}else{return i.Following}};e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.isEqualNode=function(e){var t,n,i;if(e.nodeType!==this.nodeType){return false}if(e.children.length!==this.children.length){return false}for(t=n=0,i=this.children.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(!this.children[t].isEqualNode(e.children[t])){return false}}return true};e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};e.prototype.contains=function(e){if(!e){return false}return e===this||this.isDescendant(e)};e.prototype.isDescendant=function(e){var t,n,i,r,o;o=this.children;for(i=0,r=o.length;i<r;i++){t=o[i];if(e===t){return true}n=t.isDescendant(e);if(n){return true}}return false};e.prototype.isAncestor=function(e){return e.isDescendant(this)};e.prototype.isPreceding=function(e){var t,n;t=this.treePosition(e);n=this.treePosition(this);if(t===-1||n===-1){return false}else{return t<n}};e.prototype.isFollowing=function(e){var t,n;t=this.treePosition(e);n=this.treePosition(this);if(t===-1||n===-1){return false}else{return t>n}};e.prototype.treePosition=function(t){var n,i;i=0;n=false;this.foreachTreeNode(this.document(),function(e){i++;if(!n&&e===t){return n=true}});if(n){return i}else{return-1}};e.prototype.foreachTreeNode=function(e,t){var n,i,r,o,s;e||(e=this.document());o=e.children;for(i=0,r=o.length;i<r;i++){n=o[i];if(s=t(n)){return s}else{s=this.foreachTreeNode(n,t);if(s){return s}}}};return e}()}).call(this)},function(l,e){(function(){var e,t,n,i,s,r,o,a=[].slice,u={}.hasOwnProperty;e=function(){var e,t,n,i,r,o;o=arguments[0],r=2<=arguments.length?a.call(arguments,1):[];if(s(Object.assign)){Object.assign.apply(null,arguments)}else{for(e=0,n=r.length;e<n;e++){i=r[e];if(i!=null){for(t in i){if(!u.call(i,t))continue;o[t]=i[t]}}}}return o};s=function(e){return!!e&&Object.prototype.toString.call(e)==="[object Function]"};r=function(e){var t;return!!e&&((t=typeof e)==="function"||t==="object")};n=function(e){if(s(Array.isArray)){return Array.isArray(e)}else{return Object.prototype.toString.call(e)==="[object Array]"}};i=function(e){var t;if(n(e)){return!e.length}else{for(t in e){if(!u.call(e,t))continue;return false}return true}};o=function(e){var t,n;return r(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&typeof t==="function"&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)};t=function(e){if(s(e.valueOf)){return e.valueOf()}else{return e}};l.exports.assign=e;l.exports.isFunction=s;l.exports.isObject=r;l.exports.isArray=n;l.exports.isEmpty=i;l.exports.isPlainObject=o;l.exports.getValue=t}).call(this)},function(e,t,n){"use strict";var i=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var n=t.shift();if(!n){continue}if(typeof n!=="object"){throw new TypeError(n+"must be non-object")}for(var i in n){if(r(n,i)){e[i]=n[i]}}}return e};t.shrinkBuf=function(e,t){if(e.length===t){return e}if(e.subarray){return e.subarray(0,t)}e.length=t;return e};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+i),r);return}for(var o=0;o<i;o++){e[r+o]=t[n+o]}},flattenChunks:function(e){var t,n,i,r,o,s;i=0;for(t=0,n=e.length;t<n;t++){i+=e[t].length}s=new Uint8Array(i);r=0;for(t=0,n=e.length;t<n;t++){o=e[t];s.set(o,r);r+=o.length}return s}};var s={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++){e[r+o]=t[n+o]}},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){if(e){t.Buf8=Uint8Array;t.Buf16=Uint16Array;t.Buf32=Int32Array;t.assign(t,o)}else{t.Buf8=Array;t.Buf16=Array;t.Buf32=Array;t.assign(t,s)}};t.setTyped(i)},function(e,t,n){"use strict";var i=n(15);var r=Object.keys||function(e){var t=[];for(var n in e){t.push(n)}return t};e.exports=c;var o=Object.create(n(9));o.inherits=n(7);var s=n(53);var a=n(36);o.inherits(c,s);{var u=r(a.prototype);for(var l=0;l<u.length;l++){var f=u[l];if(!c.prototype[f])c.prototype[f]=a.prototype[f]}}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e);a.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function h(){if(this.allowHalfOpen||this._writableState.ended)return;i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});c.prototype._destroy=function(e,t){this.push(null);this.end();i.nextTick(t,e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){if(typeof window==="object")n=window}e.exports=n},function(e,t){if(typeof Object.create==="function"){e.exports=function i(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function i(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}}}},function(e,t,n){var i=n(64);var r=n(65);var o=r;o.v1=i;o.v4=r;e.exports=o},function(e,t,n){function i(e){if(Array.isArray){return Array.isArray(e)}return y(e)==="[object Array]"}t.isArray=i;function r(e){return typeof e==="boolean"}t.isBoolean=r;function o(e){return e===null}t.isNull=o;function s(e){return e==null}t.isNullOrUndefined=s;function a(e){return typeof e==="number"}t.isNumber=a;function u(e){return typeof e==="string"}t.isString=u;function l(e){return typeof e==="symbol"}t.isSymbol=l;function f(e){return e===void 0}t.isUndefined=f;function c(e){return y(e)==="[object RegExp]"}t.isRegExp=c;function h(e){return typeof e==="object"&&e!==null}t.isObject=h;function d(e){return y(e)==="[object Date]"}t.isDate=d;function p(e){return y(e)==="[object Error]"||e instanceof Error}t.isError=p;function v(e){return typeof e==="function"}t.isFunction=v;function m(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=m;t.isBuffer=n(34).Buffer.isBuffer;function y(e){return Object.prototype.toString.call(e)}},function(e,r,t){"use strict";(function(R){Object.defineProperty(r,"__esModule",{value:true});var n=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var e=function(){function e(){i(this,e)}n(e,[{key:"browser",value:function f(){var e=/(edge)[/]([\w.]+)/;var t=/(chrome)[/]([\w.]+)/;var n=/(safari)[/]([\w.]+)/;var i=/(opera)(?:.*version)?[/]([\w.]+)/;var r=/(msie) ([\w.]+)/;var o=/(trident.*rv:)([\w.]+)/;var s=/(mozilla)(?:.*? rv:([\w.]+))?/;var a=navigator.userAgent.toLowerCase();var u=e.exec(a)||t.exec(a)||n.exec(a)||i.exec(a)||r.exec(a)||o.exec(a)||a.indexOf("compatible")<0&&s.exec(a)||["unknow","0"];if(u.length>0&&u[1].indexOf("trident")>-1){u[1]="msie"}var l={};l[u[1]]=true;l.version=u[2];return l}},{key:"getCreateWndMode",value:function o(){var e=navigator.userAgent;var t=navigator.platform;var n="Win64"===t||"Win32"===t||"Windows"===t;var i=this.browser();var r=true;if(window.top!==window){r=false}else{if(n){if(e.indexOf("Windows NT 10.0")>-1&&i.mozilla){r=false}if(i.edge){r=false}}else{r=false}}return r}},{key:"getWndPostion",value:function T(e,t,n,i,r,o){var s=0;var a=0;var u=e.offset();var l=this.getDevicePixelRatio();var f=parseInt(e.css("border-left-width"),10);var c=parseInt(e.css("border-top-width"),10);if(t){if(this.browser().msie){var h=window.outerWidth-window.innerWidth-(window.screenLeft-window.screenX);s=u.left+(window.screenLeft-window.screenX)+f-h;a=u.top+(window.screenTop-window.screenY)+c}else{var d=0;var p=0;var v=Math.round((window.outerWidth-window.innerWidth)/2);if(this.browser().chrome){if(-8===v||0===window.screen.height-window.outerHeight){if(-8===v){d=8;p=8}}else if(8===v){d=-5}else if(0===v){p=8}}if(this.browser().mozilla){if(7===v||6===v){d=-6}else if(8===v){d=-8}else if(0===v){}if(window.opener){d=d-8;p=p-30;if(8===v){d=d+8}}}s=u.left+v+f+d;a=u.top+(window.outerHeight-window.innerHeight-v)+c+p}}else{if(this.browser().msie){var m=window.outerWidth-window.innerWidth-(window.screenLeft-window.screenX);s=u.left+(window.screenLeft-window.screenX)+f-m;a=u.top+(window.screenTop-window.screenY)+c}else{var y=(window.outerWidth-window.innerWidth)/2;s=u.left+y+f;a=u.top+(window.outerHeight-window.innerHeight-y)+c;if(this.browser().chrome){if(0===y){s+=8;a+=8}}}}if(this.browser().chrome){s=u.left+f;a=u.top+c}var g=0;var S=0;if(n&&R("#"+n).length){var w=R("#"+n).offset();if(!this.browser().msie){g=window.scrollX;S=window.scrollY}var P=Math.round((w.left-g)*l);var _=Math.round((w.top-S)*l);s+=P;a+=_}else{if(!this.browser().msie){g=window.scrollX;S=window.scrollY}s=Math.round((s-g)*l);a=Math.round((a-S)*l)}if(i){var b=parent.$("#"+r).offset();s+=b.left;a+=b.top;g=0;S=0;if(!this.browser().msie){g=parent.window.scrollX;S=parent.window.scrollY}s=Math.round((s-g)*l);a=Math.round((a-S)*l)}if(o&&o.length){var C;for(var k=0;k<o.length;++k){if(C){C=C.parent}else{C=parent}b=C.$("#"+o[k]).offset();s+=b.left;a+=b.top;g=0;S=0;if(!this.browser().msie){g=C.window.scrollX;S=C.window.scrollY}s=Math.round((s-g)*l);a=Math.round((a-S)*l)}}return{left:s,top:a}}},{key:"detectPort",value:function d(e,t,i){var r=this;var o=[];var n=null;if(sessionStorage){n=parseInt(sessionStorage.getItem("LocalServiceControlPort"),10);if(n!==null){if(e<=n&&n<=t){n=parseInt(n,10)}else{sessionStorage.removeItem("LocalServiceControlPort");n=null}}}for(var s=e;s<=t;s++){if(s===n){continue}o.push(s)}if(n!==null){o.unshift(n)}var a=0;var u=function u(){a++;if(o.length===a&&i.error){i.error()}};var l=function l(e){if(sessionStorage){sessionStorage.setItem("LocalServiceControlPort",e)}if(i.success){i.success(e)}};var f=(new Date).getTime();if(o.length){r.createWebsocketDetectPort(o[0],{oSessionInfo:i.oSessionInfo,timeStamp:f+0,success:function c(e){l(e)},error:function h(){u();var n=function n(e,t){setTimeout(function(){r.createWebsocketDetectPort(o[t],{oSessionInfo:i.oSessionInfo,timeStamp:f+t,success:function c(e){l(e)},error:function h(){u()}})},100)};for(var e=1,t=o.length;e<t;e++){n(t,e)}}})}}},{key:"createImageHttp",value:function s(e,t){var n=new Image;n.onload=function(){if(t.success){t.success(e)}};n.onerror=function(){if(t.error){t.error()}};n.onabort=function(){if(t.abort){t.abort()}};var i="http://127.0.0.1:"+e+"/imghttp/local?update="+t.timeStamp;var r=t.oSessionInfo;if(r){i+="&sessionID="+r.sessionID+"&user="+encodeURIComponent(r.user)+"&challenge="+r.challenge+"&iterations="+r.iterations+"&random="+r.random;n.src=i}}},{key:"createWebsocketDetectPort",value:function a(t,n){var i=n.oSessionInfo;if(i){var e="ws://127.0.0.1:"+t;var r=new WebSocket(e);var o=-1;r.onopen=function(){var e={cmd:"detectport",sessionID:i.sessionID,user:encodeURIComponent(i.user),challenge:i.challenge,iterations:i.iterations,random:i.random};r.send(JSON.stringify(e));o=setTimeout(function(){n.error();r.close()},2e3)};r.onmessage=function(e){if(JSON.parse(e.data)&&JSON.parse(e.data).errorCode===0){n.success(t)}else{n.error()}r.close();clearTimeout(o);o=-1};r.onerror=function(){n.error();clearTimeout(o);o=-1}}}},{key:"utf8to16",value:function u(e){var t="";var n=0;var i=void 0;var r=void 0;var o=void 0;var s=void 0;i=e.length;while(n<i){r=e.charCodeAt(n++);switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:o=e.charCodeAt(n++);t+=String.fromCharCode((r&31)<<6|o&63);break;case 14:o=e.charCodeAt(n++);s=e.charCodeAt(n++);t+=String.fromCharCode((r&15)<<12|(o&63)<<6|(s&63)<<0);break;default:break}}return t}},{key:"createEventScript",value:function r(e,t,n){var i=document.createElement("script");i.htmlFor=e;i.event=t;i.innerHTML=n;document.getElementById(e).appendChild(i)}},{key:"getDevicePixelRatio",value:function t(){var e=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI;return e}},{key:"createxmlDoc",value:function l(){var e;var t=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"];for(var n=0,i=t.length;n<i;n++){try{e=new ActiveXObject(t[n]);break}catch(r){e=document.implementation.createDocument("","",null);break}}e["async"]="false";return e}},{key:"parseXmlFromStr",value:function c(e,t){if(null===e||""===e){return null}if(t&&e[0]==="{"){return e}e=e.replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;");var n=null;try{if(window.navigator.userAgent.indexOf("MSIE 9.0")>0){n=new ActiveXObject("Microsoft.XMLDOM");n["async"]=false;n.loadXML(e)}else{var i=new DOMParser;n=i.parseFromString(e,"text/xml")}}catch(r){n=new ActiveXObject("Microsoft.XMLDOM");n["async"]=false;n.loadXML(e)}return n}}]);return e}();var t=r.oUtils=new e}).call(this,t(1))},function(i,e,o){(function(){var e,t,n=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;t=o(2);i.exports=e=function(e){n(t,e);function t(e){t.__super__.constructor.call(this,e);this.value=""}Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}});Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}});Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}});t.prototype.clone=function(){return Object.create(this)};t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.isEqualNode=function(e){if(!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.data!==this.data){return false}return true};return t}(t)}).call(this)},function(e,t){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},function(e,t,n){"use strict";var i=typeof Reflect==="object"?Reflect:null;var f=i&&typeof i.apply==="function"?i.apply:function f(e,t,n){return Function.prototype.apply.call(e,t,n)};var r;if(i&&typeof i.ownKeys==="function"){r=i.ownKeys}else if(Object.getOwnPropertySymbols){r=function r(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}}else{r=function r(e){return Object.getOwnPropertyNames(e)}}function u(e){if(console&&console.warn)console.warn(e)}var o=Number.isNaN||function o(e){return e!==e};function s(){s.init.call(this)}e.exports=s;e.exports.once=w;s.EventEmitter=s;s.prototype._events=undefined;s.prototype._eventsCount=0;s.prototype._maxListeners=undefined;var a=10;function l(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:true,get:function(){return a},set:function(e){if(typeof e!=="number"||e<0||o(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}a=e}});s.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};s.prototype.setMaxListeners=function b(e){if(typeof e!=="number"||e<0||o(e)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".")}this._maxListeners=e;return this};function c(e){if(e._maxListeners===undefined)return s.defaultMaxListeners;return e._maxListeners}s.prototype.getMaxListeners=function C(){return c(this)};s.prototype.emit=function k(e){var t=[];for(var n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error";var r=this._events;if(r!==undefined)i=i&&r.error===undefined;else if(!i)return false;if(i){var o;if(t.length>0)o=t[0];if(o instanceof Error){throw o}var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));s.context=o;throw s}var a=r[e];if(a===undefined)return false;if(typeof a==="function"){f(a,this,t)}else{var u=a.length;var l=y(a,u);for(var n=0;n<u;++n)f(l[n],this,t)}return true};function h(e,t,n,i){var r;var o;var s;l(n);o=e._events;if(o===undefined){o=e._events=Object.create(null);e._eventsCount=0}else{if(o.newListener!==undefined){e.emit("newListener",t,n.listener?n.listener:n);o=e._events}s=o[t]}if(s===undefined){s=o[t]=n;++e._eventsCount}else{if(typeof s==="function"){s=o[t]=i?[n,s]:[s,n]}else if(i){s.unshift(n)}else{s.push(n)}r=c(e);if(r>0&&s.length>r&&!s.warned){s.warned=true;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");a.name="MaxListenersExceededWarning";a.emitter=e;a.type=t;a.count=s.length;u(a)}}return e}s.prototype.addListener=function T(e,t){return h(this,e,t,false)};s.prototype.on=s.prototype.addListener;s.prototype.prependListener=function R(e,t){return h(this,e,t,true)};function d(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function p(e,t,n){var i={fired:false,wrapFn:undefined,target:e,type:t,listener:n};var r=d.bind(i);r.listener=n;i.wrapFn=r;return r}s.prototype.once=function w(e,t){l(t);this.on(e,p(this,e,t));return this};s.prototype.prependOnceListener=function x(e,t){l(t);this.prependListener(e,p(this,e,t));return this};s.prototype.removeListener=function I(e,t){var n,i,r,o,s;l(t);i=this._events;if(i===undefined)return this;n=i[e];if(n===undefined)return this;if(n===t||n.listener===t){if(--this._eventsCount===0)this._events=Object.create(null);else{delete i[e];if(i.removeListener)this.emit("removeListener",e,n.listener||t)}}else if(typeof n!=="function"){r=-1;for(o=n.length-1;o>=0;o--){if(n[o]===t||n[o].listener===t){s=n[o].listener;r=o;break}}if(r<0)return this;if(r===0)n.shift();else{g(n,r)}if(n.length===1)i[e]=n[0];if(i.removeListener!==undefined)this.emit("removeListener",e,s||t)}return this};s.prototype.off=s.prototype.removeListener;s.prototype.removeAllListeners=function D(e){var t,n,i;n=this._events;if(n===undefined)return this;if(n.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(n[e]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete n[e]}return this}if(arguments.length===0){var r=Object.keys(n);var o;for(i=0;i<r.length;++i){o=r[i];if(o==="removeListener")continue;this.removeAllListeners(o)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}t=n[e];if(typeof t==="function"){this.removeListener(e,t)}else if(t!==undefined){for(i=t.length-1;i>=0;i--){this.removeListener(e,t[i])}}return this};function v(e,t,n){var i=e._events;if(i===undefined)return[];var r=i[t];if(r===undefined)return[];if(typeof r==="function")return n?[r.listener||r]:[r];return n?S(r):y(r,r.length)}s.prototype.listeners=function E(e){return v(this,e,true)};s.prototype.rawListeners=function q(e){return v(this,e,false)};s.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return m.call(e,t)}};s.prototype.listenerCount=m;function m(e){var t=this._events;if(t!==undefined){var n=t[e];if(typeof n==="function"){return 1}else if(n!==undefined){return n.length}}return 0}s.prototype.eventNames=function O(){return this._eventsCount>0?r(this._events):[]};function y(e,t){var n=new Array(t);for(var i=0;i<t;++i)n[i]=e[i];return n}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function S(e){var t=new Array(e.length);for(var n=0;n<t.length;++n){t[n]=e[n].listener||e[n]}return t}function w(r,o){return new Promise(function(e,t){function n(e){r.removeListener(o,i);t(e)}function i(){if(typeof r.removeListener==="function"){r.removeListener("error",n)}e([].slice.call(arguments))}_(r,o,i,{once:true});if(o!=="error"){P(r,n,{once:true})}})}function P(e,t,n){if(typeof e.on==="function"){_(e,"error",t,n)}}function _(t,n,i,r){if(typeof t.on==="function"){if(r.once){t.once(n,i)}else{t.on(n,i)}}else if(typeof t.addEventListener==="function"){t.addEventListener(n,function o(e){if(r.once){t.removeEventListener(n,o)}i(e)})}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}}},function(e,t){var n=e.exports={};var i;var r;function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(e){i=o}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=s}}catch(e){r=s}})();function a(e){if(i===setTimeout){return setTimeout(e,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function u(e){if(r===clearTimeout){return clearTimeout(e)}if((r===s||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(e)}try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}var l=[];var f=false;var c;var h=-1;function d(){if(!f||!c){return}f=false;if(c.length){l=c.concat(l)}else{h=-1}if(l.length){p()}}function p(){if(f){return}var e=a(d);f=true;var t=l.length;while(t){c=l;l=[];while(++h<t){if(c){c[h].run()}}h=-1;t=l.length}c=null;f=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new v(e,t));if(l.length===1&&!f){a(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e,n){"use strict";(function(c){if(typeof c==="undefined"||!c.version||c.version.indexOf("v0.")===0||c.version.indexOf("v1.")===0&&c.version.indexOf("v1.8.")!==0){t.exports={nextTick:e}}else{t.exports=c}function e(e,t,n,i){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var r=arguments.length;var o,s;switch(r){case 0:case 1:return c.nextTick(e);case 2:return c.nextTick(function a(){e.call(null,t)});case 3:return c.nextTick(function u(){e.call(null,t,n)});case 4:return c.nextTick(function l(){e.call(null,t,n,i)});default:o=new Array(r-1);s=0;while(s<o.length){o[s++]=arguments[s]}return c.nextTick(function f(){e.apply(null,o)})}}}).call(this,n(14))},function(e,t,n){var i=n(34);var r=i.Buffer;function o(e,t){for(var n in e){t[n]=e[n]}}if(r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow){e.exports=i}else{o(i,t);t.Buffer=s}function s(e,t,n){return r(e,t,n)}o(r,s);s.from=function(e,t,n){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return r(e,t,n)};s.alloc=function(e,t,n){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=r(e);if(t!==undefined){if(typeof n==="string"){i.fill(t,n)}else{i.fill(t)}}else{i.fill(0)}return i};s.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return r(e)};s.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,s,a){(function(){"use strict";var e,t,n,i,r=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=a(19);e=a(89);n=a(98);i=a(58);s.defaults=t.defaults;s.processors=i;s.ValidationError=function(e){r(t,e);function t(e){this.message=e}return t}(Error);s.Builder=e.Builder;s.Parser=n.Parser;s.parseString=n.parseString;s.parseStringPromise=n.parseStringPromise}).call(this)},function(e,t){(function(){t.defaults={.1:{explicitCharkey:false,trim:true,normalize:true,normalizeTags:false,attrkey:"@",charkey:"#",explicitArray:false,ignoreAttrs:false,mergeAttrs:false,explicitRoot:false,validator:null,xmlns:false,explicitChildren:false,childkey:"@@",charsAsChildren:false,includeWhiteChars:false,"async":false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:false,trim:false,normalize:false,normalizeTags:false,attrkey:"$",charkey:"_",explicitArray:true,ignoreAttrs:false,mergeAttrs:false,explicitRoot:true,validator:null,xmlns:false,explicitChildren:false,preserveChildrenOrder:false,childkey:"$$",charsAsChildren:false,includeWhiteChars:false,"async":false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:true},doctype:null,renderOpts:{pretty:true,indent:"  ",newline:"\n"},headless:false,chunkSize:1e4,emptyTag:"",cdata:false}}}).call(this)},function(a,e,h){(function(){var u,r,e,t,n,o,s,l,i,f=function(e,t){for(var n in t){if(c.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},c={}.hasOwnProperty;i=h(3),l=i.isObject,s=i.isFunction,o=i.getValue;n=h(2);u=h(0);r=h(48);t=h(21);a.exports=e=function(e){f(a,e);function a(e,t,n){var i,r,o,s;a.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing element name. "+this.debugInfo())}this.name=this.stringify.name(t);this.type=u.Element;this.attribs={};this.schemaTypeInfo=null;if(n!=null){this.attribute(n)}if(e.type===u.Document){this.isRoot=true;this.documentObject=e;e.rootObject=this;if(e.children){s=e.children;for(r=0,o=s.length;r<o;r++){i=s[r];if(i.type===u.DocType){i.name=this.name;break}}}}}Object.defineProperty(a.prototype,"tagName",{get:function(){return this.name}});Object.defineProperty(a.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(a.prototype,"prefix",{get:function(){return""}});Object.defineProperty(a.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(a.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(a.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(a.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(a.prototype,"attributes",{get:function(){if(!this.attributeMap||!this.attributeMap.nodes){this.attributeMap=new t(this.attribs)}return this.attributeMap}});a.prototype.clone=function(){var e,t,n,i;n=Object.create(this);if(n.isRoot){n.documentObject=null}n.attribs={};i=this.attribs;for(t in i){if(!c.call(i,t))continue;e=i[t];n.attribs[t]=e.clone()}n.children=[];this.children.forEach(function(e){var t;t=e.clone();t.parent=n;return n.children.push(t)});return n};a.prototype.attribute=function(e,t){var n,i;if(e!=null){e=o(e)}if(l(e)){for(n in e){if(!c.call(e,n))continue;i=e[n];this.attribute(n,i)}}else{if(s(t)){t=t.apply()}if(this.options.keepNullAttributes&&t==null){this.attribs[e]=new r(this,e,"")}else if(t!=null){this.attribs[e]=new r(this,e,t)}}return this};a.prototype.removeAttribute=function(e){var t,n,i;if(e==null){throw new Error("Missing attribute name. "+this.debugInfo())}e=o(e);if(Array.isArray(e)){for(n=0,i=e.length;n<i;n++){t=e[n];delete this.attribs[t]}}else{delete this.attribs[e]}return this};a.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))};a.prototype.att=function(e,t){return this.attribute(e,t)};a.prototype.a=function(e,t){return this.attribute(e,t)};a.prototype.getAttribute=function(e){if(this.attribs.hasOwnProperty(e)){return this.attribs[e].value}else{return null}};a.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getAttributeNode=function(e){if(this.attribs.hasOwnProperty(e)){return this.attribs[e]}else{return null}};a.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)};a.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.setIdAttribute=function(e,t){if(this.attribs.hasOwnProperty(e)){return this.attribs[e].isId}else{return t}};a.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};a.prototype.isEqualNode=function(e){var t,n,i;if(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.namespaceURI!==this.namespaceURI){return false}if(e.prefix!==this.prefix){return false}if(e.localName!==this.localName){return false}if(e.attribs.length!==this.attribs.length){return false}for(t=n=0,i=this.attribs.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(!this.attribs[t].isEqualNode(e.attribs[t])){return false}}return true};return a}(n)}).call(this)},function(t,e){(function(){var e;t.exports=e=function(){function e(e){this.nodes=e}Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}});e.prototype.clone=function(){return this.nodes=null};e.prototype.getNamedItem=function(e){return this.nodes[e]};e.prototype.setNamedItem=function(e){var t;t=this.nodes[e.nodeName];this.nodes[e.nodeName]=e;return t||null};e.prototype.removeNamedItem=function(e){var t;t=this.nodes[e];delete this.nodes[e];return t||null};e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null};e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")};e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")};e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")};return e}()}).call(this)},function(n,e,s){(function(){var i,e,t,r=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=s(0);t=s(11);n.exports=e=function(e){r(n,e);function n(e,t){n.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing CDATA text. "+this.debugInfo())}this.name="#cdata-section";this.type=i.CData;this.value=this.stringify.cdata(t)}n.prototype.clone=function(){return Object.create(this)};n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))};return n}(t)}).call(this)},function(n,e,s){(function(){var i,e,t,r=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=s(0);e=s(11);n.exports=t=function(e){r(n,e);function n(e,t){n.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing comment text. "+this.debugInfo())}this.name="#comment";this.type=i.Comment;this.value=this.stringify.comment(t)}n.prototype.clone=function(){return Object.create(this)};n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))};return n}(e)}).call(this)},function(i,e,o){(function(){var s,e,t,a,n=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;a=o(3).isObject;t=o(2);s=o(0);i.exports=e=function(e){n(o,e);function o(e,t,n,i){var r;o.__super__.constructor.call(this,e);if(a(t)){r=t,t=r.version,n=r.encoding,i=r.standalone}if(!t){t="1.0"}this.type=s.Declaration;this.version=this.stringify.xmlVersion(t);if(n!=null){this.encoding=this.stringify.xmlEncoding(n)}if(i!=null){this.standalone=this.stringify.xmlStandalone(i)}}o.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))};return o}(t)}).call(this)},function(l,e,h){(function(){var f,s,i,r,o,e,a,t,c,n=function(e,t){for(var n in t){if(u.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},u={}.hasOwnProperty;c=h(3).isObject;t=h(2);f=h(0);s=h(26);r=h(27);i=h(28);o=h(29);a=h(21);l.exports=e=function(e){n(l,e);function l(e,t,n){var i,r,o,s,a,u;l.__super__.constructor.call(this,e);this.type=f.DocType;if(e.children){s=e.children;for(r=0,o=s.length;r<o;r++){i=s[r];if(i.type===f.Element){this.name=i.name;break}}}this.documentObject=e;if(c(t)){a=t,t=a.pubID,n=a.sysID}if(n==null){u=[t,n],n=u[0],t=u[1]}if(t!=null){this.pubID=this.stringify.dtdPubID(t)}if(n!=null){this.sysID=this.stringify.dtdSysID(n)}}Object.defineProperty(l.prototype,"entities",{get:function(){var e,t,n,i,r;i={};r=this.children;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.type===f.EntityDeclaration&&!e.pe){i[e.name]=e}}return new a(i)}});Object.defineProperty(l.prototype,"notations",{get:function(){var e,t,n,i,r;i={};r=this.children;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.type===f.NotationDeclaration){i[e.name]=e}}return new a(i)}});Object.defineProperty(l.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(l.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(l.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});l.prototype.element=function(e,t){var n;n=new i(this,e,t);this.children.push(n);return this};l.prototype.attList=function(e,t,n,i,r){var o;o=new s(this,e,t,n,i,r);this.children.push(o);return this};l.prototype.entity=function(e,t){var n;n=new r(this,false,e,t);this.children.push(n);return this};l.prototype.pEntity=function(e,t){var n;n=new r(this,true,e,t);this.children.push(n);return this};l.prototype.notation=function(e,t){var n;n=new o(this,e,t);this.children.push(n);return this};l.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))};l.prototype.ele=function(e,t){return this.element(e,t)};l.prototype.att=function(e,t,n,i,r){return this.attList(e,t,n,i,r)};l.prototype.ent=function(e,t){return this.entity(e,t)};l.prototype.pent=function(e,t){return this.pEntity(e,t)};l.prototype.not=function(e,t){return this.notation(e,t)};l.prototype.up=function(){return this.root()||this.documentObject};l.prototype.isEqualNode=function(e){if(!l.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.name!==this.name){return false}if(e.publicId!==this.publicId){return false}if(e.systemId!==this.systemId){return false}return true};return l}(t)}).call(this)},function(i,e,o){(function(){var a,e,t,n=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;t=o(2);a=o(0);i.exports=e=function(e){n(s,e);function s(e,t,n,i,r,o){s.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(n==null){throw new Error("Missing DTD attribute name. "+this.debugInfo(t))}if(!i){throw new Error("Missing DTD attribute type. "+this.debugInfo(t))}if(!r){throw new Error("Missing DTD attribute default. "+this.debugInfo(t))}if(r.indexOf("#")!==0){r="#"+r}if(!r.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)){throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(t))}if(o&&!r.match(/^(#FIXED|#DEFAULT)$/)){throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(t))}this.elementName=this.stringify.name(t);this.type=a.AttributeDeclaration;this.attributeName=this.stringify.name(n);this.attributeType=this.stringify.dtdAttType(i);if(o){this.defaultValue=this.stringify.dtdAttDefault(o)}this.defaultValueType=r}s.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))};return s}(t)}).call(this)},function(i,e,a){(function(){var o,e,t,s,n=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;s=a(3).isObject;t=a(2);o=a(0);i.exports=e=function(e){n(r,e);function r(e,t,n,i){r.__super__.constructor.call(this,e);if(n==null){throw new Error("Missing DTD entity name. "+this.debugInfo(n))}if(i==null){throw new Error("Missing DTD entity value. "+this.debugInfo(n))}this.pe=!!t;this.name=this.stringify.name(n);this.type=o.EntityDeclaration;if(!s(i)){this.value=this.stringify.dtdEntityValue(i);this.internal=true}else{if(!i.pubID&&!i.sysID){throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n))}if(i.pubID&&!i.sysID){throw new Error("System identifier is required for a public external entity. "+this.debugInfo(n))}this.internal=false;if(i.pubID!=null){this.pubID=this.stringify.dtdPubID(i.pubID)}if(i.sysID!=null){this.sysID=this.stringify.dtdSysID(i.sysID)}if(i.nData!=null){this.nData=this.stringify.dtdNData(i.nData)}if(this.pe&&this.nData){throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}}}Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}});Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}});Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}});r.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))};return r}(t)}).call(this)},function(i,e,s){(function(){var r,e,t,n=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=s(2);r=s(0);i.exports=e=function(e){n(i,e);function i(e,t,n){i.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(!n){n="(#PCDATA)"}if(Array.isArray(n)){n="("+n.join(",")+")"}this.name=this.stringify.name(t);this.type=r.ElementDeclaration;this.value=this.stringify.dtdElementValue(n)}i.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))};return i}(t)}).call(this)},function(i,e,s){(function(){var r,e,t,n=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=s(2);r=s(0);i.exports=e=function(e){n(i,e);function i(e,t,n){i.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing DTD notation name. "+this.debugInfo(t))}if(!n.pubID&&!n.sysID){throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(t))}this.name=this.stringify.name(t);this.type=r.NotationDeclaration;if(n.pubID!=null){this.pubID=this.stringify.dtdPubID(n.pubID)}if(n.sysID!=null){this.sysID=this.stringify.dtdSysID(n.sysID)}}Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}});i.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))};return i}(t)}).call(this)},function(n,e,s){(function(){var i,e,t,r=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=s(0);e=s(2);n.exports=t=function(e){r(n,e);function n(e,t){n.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing raw text. "+this.debugInfo())}this.type=i.Raw;this.value=this.stringify.raw(t)}n.prototype.clone=function(){return Object.create(this)};n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))};return n}(e)}).call(this)},function(n,e,s){(function(){var i,e,t,r=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=s(0);e=s(11);n.exports=t=function(e){r(n,e);function n(e,t){n.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing element text. "+this.debugInfo())}this.name="#text";this.type=i.Text;this.value=this.stringify.text(t)}Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(n.prototype,"wholeText",{get:function(){var e,t,n;n="";t=this.previousSibling;while(t){n=t.data+n;t=t.previousSibling}n+=this.data;e=this.nextSibling;while(e){n=n+e.data;e=e.nextSibling}return n}});n.prototype.clone=function(){return Object.create(this)};n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))};n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};return n}(e)}).call(this)},function(i,e,s){(function(){var r,e,t,n=function(e,t){for(var n in t){if(o.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},o={}.hasOwnProperty;r=s(0);e=s(11);i.exports=t=function(e){n(i,e);function i(e,t,n){i.__super__.constructor.call(this,e);if(t==null){throw new Error("Missing instruction target. "+this.debugInfo())}this.type=r.ProcessingInstruction;this.target=this.stringify.insTarget(t);this.name=this.target;if(n){this.value=this.stringify.insValue(n)}}i.prototype.clone=function(){return Object.create(this)};i.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))};i.prototype.isEqualNode=function(e){if(!i.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.target!==this.target){return false}return true};return i}(e)}).call(this)},function(i,e,o){(function(){var e,t,n=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;t=o(51);i.exports=e=function(e){n(t,e);function t(e){t.__super__.constructor.call(this,e)}t.prototype.document=function(e,t){var n,i,r,o,s;t=this.filterOptions(t);o="";s=e.children;for(i=0,r=s.length;i<r;i++){n=s[i];o+=this.writeChildNode(n,t,0)}if(t.pretty&&o.slice(-t.newline.length)===t.newline){o=o.slice(0,-t.newline.length)}return o};return t}(t)}).call(this)},function(e,et,tt){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=tt(100);var o=tt(101);var s=tt(52);et.Buffer=c;et.SlowBuffer=y;et.INSPECT_MAX_BYTES=50;c.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:t();et.kMaxLength=n();function t(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(t){return false}}function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t){throw new RangeError("Invalid typed array length")}if(c.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=c.prototype}else{if(e===null){e=new c(t)}e.length=t}return e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c)){return new c(e,t,n)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return f(this,e)}return r(this,e,t,n)}c.poolSize=8192;c._augment=function(e){e.__proto__=c.prototype;return e};function r(e,t,n,i){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return p(e,t,n,i)}if(typeof t==="string"){return h(e,t,n)}return v(e,t)}c.from=function(e,t,n){return r(null,e,t,n)};if(c.TYPED_ARRAY_SUPPORT){c.prototype.__proto__=Uint8Array.prototype;c.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&c[Symbol.species]===c){Object.defineProperty(c,Symbol.species,{value:null,configurable:true})}}function u(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function l(e,t,n,i){u(t);if(t<=0){return a(e,t)}if(n!==undefined){return typeof i==="string"?a(e,t).fill(n,i):a(e,t).fill(n)}return a(e,t)}c.alloc=function(e,t,n){return l(null,e,t,n)};function f(e,t){u(t);e=a(e,t<0?0:m(t)|0);if(!c.TYPED_ARRAY_SUPPORT){for(var n=0;n<t;++n){e[n]=0}}return e}c.allocUnsafe=function(e){return f(null,e)};c.allocUnsafeSlow=function(e){return f(null,e)};function h(e,t,n){if(typeof n!=="string"||n===""){n="utf8"}if(!c.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}var i=g(t,n)|0;e=a(e,i);var r=e.write(t,n);if(r!==i){e=e.slice(0,r)}return e}function d(e,t){var n=t.length<0?0:m(t.length)|0;e=a(e,n);for(var i=0;i<n;i+=1){e[i]=t[i]&255}return e}function p(e,t,n,i){t.byteLength;if(n<0||t.byteLength<n){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<n+(i||0)){throw new RangeError("'length' is out of bounds")}if(n===undefined&&i===undefined){t=new Uint8Array(t)}else if(i===undefined){t=new Uint8Array(t,n)}else{t=new Uint8Array(t,n,i)}if(c.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=c.prototype}else{e=d(e,t)}return e}function v(e,t){if(c.isBuffer(t)){var n=m(t.length)|0;e=a(e,n);if(e.length===0){return e}t.copy(e,0,0,n);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||ee(t.length)){return a(e,0)}return d(e,t)}if(t.type==="Buffer"&&s(t.data)){return d(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=n()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+n().toString(16)+" bytes")}return e|0}function y(e){if(+e!=e){e=0}return c.alloc(+e)}c.isBuffer=function te(e){return!!(e!=null&&e._isBuffer)};c.compare=function L(e,t){if(!c.isBuffer(e)||!c.isBuffer(t)){throw new TypeError("Arguments must be Buffers")}if(e===t)return 0;var n=e.length;var i=t.length;for(var r=0,o=Math.min(n,i);r<o;++r){if(e[r]!==t[r]){n=e[r];i=t[r];break}}if(n<i)return-1;if(i<n)return 1;return 0};c.isEncoding=function ne(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};c.concat=function ie(e,t){if(!s(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return c.alloc(0)}var n;if(t===undefined){t=0;for(n=0;n<e.length;++n){t+=e[n].length}}var i=c.allocUnsafe(t);var r=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o)){throw new TypeError('"list" argument must be an Array of Buffers')}o.copy(i,r);r+=o.length}return i};function g(e,t){if(c.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var n=e.length;if(n===0)return 0;var i=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return O(e).length;default:if(i)return q(e).length;t=(""+t).toLowerCase();i=true}}}c.byteLength=g;function M(e,t,n){var i=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(n===undefined||n>this.length){n=this.length}if(n<=0){return""}n>>>=0;t>>>=0;if(n<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return G(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return H(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return J(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=true}}}c.prototype._isBuffer=true;function S(e,t,n){var i=e[t];e[t]=e[n];e[n]=i}c.prototype.swap16=function re(){var e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var t=0;t<e;t+=2){S(this,t,t+1)}return this};c.prototype.swap32=function oe(){var e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var t=0;t<e;t+=4){S(this,t,t+3);S(this,t+1,t+2)}return this};c.prototype.swap64=function se(){var e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var t=0;t<e;t+=8){S(this,t,t+7);S(this,t+1,t+6);S(this,t+2,t+5);S(this,t+3,t+4)}return this};c.prototype.toString=function ae(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return b(this,0,e);return M.apply(this,arguments)};c.prototype.equals=function ue(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return c.compare(this,e)===0};c.prototype.inspect=function le(){var e="";var t=et.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};c.prototype.compare=function L(e,t,n,i,r){if(!c.isBuffer(e)){throw new TypeError("Argument must be a Buffer")}if(t===undefined){t=0}if(n===undefined){n=e?e.length:0}if(i===undefined){i=0}if(r===undefined){r=this.length}if(t<0||n>e.length||i<0||r>this.length){throw new RangeError("out of range index")}if(i>=r&&t>=n){return 0}if(i>=r){return-1}if(t>=n){return 1}t>>>=0;n>>>=0;i>>>=0;r>>>=0;if(this===e)return 0;var o=r-i;var s=n-t;var a=Math.min(o,s);var u=this.slice(i,r);var l=e.slice(t,n);for(var f=0;f<a;++f){if(u[f]!==l[f]){o=u[f];s=l[f];break}}if(o<s)return-1;if(s<o)return 1;return 0};function w(e,t,n,i,r){if(e.length===0)return-1;if(typeof n==="string"){i=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=r?0:e.length-1}if(n<0)n=e.length+n;if(n>=e.length){if(r)return-1;else n=e.length-1}else if(n<0){if(r)n=0;else return-1}if(typeof t==="string"){t=c.from(t,i)}if(c.isBuffer(t)){if(t.length===0){return-1}return P(e,t,n,i,r)}else if(typeof t==="number"){t=t&255;if(c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(r){return Uint8Array.prototype.indexOf.call(e,t,n)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,n)}}return P(e,[t],n,i,r)}throw new TypeError("val must be string, number or Buffer")}function P(e,t,n,i,r){var o=1;var s=e.length;var a=t.length;if(i!==undefined){i=String(i).toLowerCase();if(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le"){if(e.length<2||t.length<2){return-1}o=2;s/=2;a/=2;n/=2}}function u(e,t){if(o===1){return e[t]}else{return e.readUInt16BE(t*o)}}var l;if(r){var f=-1;for(l=n;l<s;l++){if(u(e,l)===u(t,f===-1?0:l-f)){if(f===-1)f=l;if(l-f+1===a)return f*o}else{if(f!==-1)l-=l-f;f=-1}}}else{if(n+a>s)n=s-a;for(l=n;l>=0;l--){var c=true;for(var h=0;h<a;h++){if(u(e,l+h)!==u(t,h)){c=false;break}}if(c)return l}}return-1}c.prototype.includes=function fe(e,t,n){return this.indexOf(e,t,n)!==-1};c.prototype.indexOf=function ce(e,t,n){return w(this,e,t,n,true)};c.prototype.lastIndexOf=function he(e,t,n){return w(this,e,t,n,false)};function F(e,t,n,i){n=Number(n)||0;var r=e.length-n;if(!i){i=r}else{i=Number(i);if(i>r){i=r}}var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(i>o/2){i=o/2}for(var s=0;s<i;++s){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function W(e,t,n,i){return A(q(t,e.length-n),e,n,i)}function _(e,t,n,i){return A($(t),e,n,i)}function B(e,t,n,i){return _(e,t,n,i)}function N(e,t,n,i){return A(O(t),e,n,i)}function z(e,t,n,i){return A(Q(t,e.length-n),e,n,i)}c.prototype.write=function de(e,t,n,i){if(t===undefined){i="utf8";n=this.length;t=0}else if(n===undefined&&typeof t==="string"){i=t;n=this.length;t=0}else if(isFinite(t)){t=t|0;if(isFinite(n)){n=n|0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var r=this.length-t;if(n===undefined||n>r)n=r;if(e.length>0&&(n<0||t<0)||t>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var o=false;for(;;){switch(i){case"hex":return F(this,e,t,n);case"utf8":case"utf-8":return W(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return B(this,e,t,n);case"base64":return N(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();o=true}}};c.prototype.toJSON=function pe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(e,t,n){if(t===0&&n===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,n))}}function b(e,t,n){n=Math.min(e.length,n);var i=[];var r=t;while(r<n){var o=e[r];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var u,l,f,c;switch(a){case 1:if(o<128){s=o}break;case 2:u=e[r+1];if((u&192)===128){c=(o&31)<<6|u&63;if(c>127){s=c}}break;case 3:u=e[r+1];l=e[r+2];if((u&192)===128&&(l&192)===128){c=(o&15)<<12|(u&63)<<6|l&63;if(c>2047&&(c<55296||c>57343)){s=c}}break;case 4:u=e[r+1];l=e[r+2];f=e[r+3];if((u&192)===128&&(l&192)===128&&(f&192)===128){c=(o&15)<<18|(u&63)<<12|(l&63)<<6|f&63;if(c>65535&&c<1114112){s=c}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;i.push(s>>>10&1023|55296);s=56320|s&1023}i.push(s);r+=a}return U(i)}var C=4096;function U(e){var t=e.length;if(t<=C){return String.fromCharCode.apply(String,e)}var n="";var i=0;while(i<t){n+=String.fromCharCode.apply(String,e.slice(i,i+=C))}return n}function H(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r){i+=String.fromCharCode(e[r]&127)}return i}function j(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r){i+=String.fromCharCode(e[r])}return i}function G(e,t,n){var i=e.length;if(!t||t<0)t=0;if(!n||n<0||n>i)n=i;var r="";for(var o=t;o<n;++o){r+=K(e[o])}return r}function V(e,t,n){var i=e.slice(t,n);var r="";for(var o=0;o<i.length;o+=2){r+=String.fromCharCode(i[o]+i[o+1]*256)}return r}c.prototype.slice=function ve(e,t){var n=this.length;e=~~e;t=t===undefined?n:~~t;if(e<0){e+=n;if(e<0)e=0}else if(e>n){e=n}if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(t<e)t=e;var i;if(c.TYPED_ARRAY_SUPPORT){i=this.subarray(e,t);i.__proto__=c.prototype}else{var r=t-e;i=new c(r,undefined);for(var o=0;o<r;++o){i[o]=this[o+e]}}return i};function k(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function me(e,t,n){e=e|0;t=t|0;if(!n)k(e,t,this.length);var i=this[e];var r=1;var o=0;while(++o<t&&(r*=256)){i+=this[e+o]*r}return i};c.prototype.readUIntBE=function ye(e,t,n){e=e|0;t=t|0;if(!n){k(e,t,this.length)}var i=this[e+--t];var r=1;while(t>0&&(r*=256)){i+=this[e+--t]*r}return i};c.prototype.readUInt8=function ge(e,t){if(!t)k(e,1,this.length);return this[e]};c.prototype.readUInt16LE=function Se(e,t){if(!t)k(e,2,this.length);return this[e]|this[e+1]<<8};c.prototype.readUInt16BE=function we(e,t){if(!t)k(e,2,this.length);return this[e]<<8|this[e+1]};c.prototype.readUInt32LE=function Pe(e,t){if(!t)k(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};c.prototype.readUInt32BE=function _e(e,t){if(!t)k(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};c.prototype.readIntLE=function be(e,t,n){e=e|0;t=t|0;if(!n)k(e,t,this.length);var i=this[e];var r=1;var o=0;while(++o<t&&(r*=256)){i+=this[e+o]*r}r*=128;if(i>=r)i-=Math.pow(2,8*t);return i};c.prototype.readIntBE=function Ce(e,t,n){e=e|0;t=t|0;if(!n)k(e,t,this.length);var i=t;var r=1;var o=this[e+--i];while(i>0&&(r*=256)){o+=this[e+--i]*r}r*=128;if(o>=r)o-=Math.pow(2,8*t);return o};c.prototype.readInt8=function ke(e,t){if(!t)k(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};c.prototype.readInt16LE=function Te(e,t){if(!t)k(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};c.prototype.readInt16BE=function Re(e,t){if(!t)k(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};c.prototype.readInt32LE=function xe(e,t){if(!t)k(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};c.prototype.readInt32BE=function Ie(e,t){if(!t)k(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};c.prototype.readFloatLE=function De(e,t){if(!t)k(e,4,this.length);return o.read(this,e,true,23,4)};c.prototype.readFloatBE=function Ee(e,t){if(!t)k(e,4,this.length);return o.read(this,e,false,23,4)};c.prototype.readDoubleLE=function qe(e,t){if(!t)k(e,8,this.length);return o.read(this,e,true,52,8)};c.prototype.readDoubleBE=function Oe(e,t){if(!t)k(e,8,this.length);return o.read(this,e,false,52,8)};function T(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function Ae(e,t,n,i){e=+e;t=t|0;n=n|0;if(!i){var r=Math.pow(2,8*n)-1;T(this,e,t,n,r,0)}var o=1;var s=0;this[t]=e&255;while(++s<n&&(o*=256)){this[t+s]=e/o&255}return t+n};c.prototype.writeUIntBE=function Le(e,t,n,i){e=+e;t=t|0;n=n|0;if(!i){var r=Math.pow(2,8*n)-1;T(this,e,t,n,r,0)}var o=n-1;var s=1;this[t+o]=e&255;while(--o>=0&&(s*=256)){this[t+o]=e/s&255}return t+n};c.prototype.writeUInt8=function Me(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,1,255,0);if(!c.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e&255;return t+1};function R(e,t,n,i){if(t<0)t=65535+t+1;for(var r=0,o=Math.min(e.length-n,2);r<o;++r){e[n+r]=(t&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}}c.prototype.writeUInt16LE=function Fe(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,2,65535,0);if(c.TYPED_ARRAY_SUPPORT){this[t]=e&255;this[t+1]=e>>>8}else{R(this,e,t,true)}return t+2};c.prototype.writeUInt16BE=function We(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,2,65535,0);if(c.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e&255}else{R(this,e,t,false)}return t+2};function x(e,t,n,i){if(t<0)t=4294967295+t+1;for(var r=0,o=Math.min(e.length-n,4);r<o;++r){e[n+r]=t>>>(i?r:3-r)*8&255}}c.prototype.writeUInt32LE=function Be(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,4,4294967295,0);if(c.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e&255}else{x(this,e,t,true)}return t+4};c.prototype.writeUInt32BE=function Ne(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,4,4294967295,0);if(c.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e&255}else{x(this,e,t,false)}return t+4};c.prototype.writeIntLE=function ze(e,t,n,i){e=+e;t=t|0;if(!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=0;var s=1;var a=0;this[t]=e&255;while(++o<n&&(s*=256)){if(e<0&&a===0&&this[t+o-1]!==0){a=1}this[t+o]=(e/s>>0)-a&255}return t+n};c.prototype.writeIntBE=function Je(e,t,n,i){e=+e;t=t|0;if(!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=n-1;var s=1;var a=0;this[t+o]=e&255;while(--o>=0&&(s*=256)){if(e<0&&a===0&&this[t+o+1]!==0){a=1}this[t+o]=(e/s>>0)-a&255}return t+n};c.prototype.writeInt8=function Ue(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,1,127,-128);if(!c.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e&255;return t+1};c.prototype.writeInt16LE=function He(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,2,32767,-32768);if(c.TYPED_ARRAY_SUPPORT){this[t]=e&255;this[t+1]=e>>>8}else{R(this,e,t,true)}return t+2};c.prototype.writeInt16BE=function je(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,2,32767,-32768);if(c.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e&255}else{R(this,e,t,false)}return t+2};c.prototype.writeInt32LE=function Ge(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,4,2147483647,-2147483648);if(c.TYPED_ARRAY_SUPPORT){this[t]=e&255;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else{x(this,e,t,true)}return t+4};c.prototype.writeInt32BE=function Ve(e,t,n){e=+e;t=t|0;if(!n)T(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(c.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e&255}else{x(this,e,t,false)}return t+4};function I(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,i,r){if(!r){I(e,t,n,4,34028234663852886e22,-34028234663852886e22)}o.write(e,t,n,i,23,4);return n+4}c.prototype.writeFloatLE=function Ye(e,t,n){return D(this,e,t,true,n)};c.prototype.writeFloatBE=function Xe(e,t,n){return D(this,e,t,false,n)};function E(e,t,n,i,r){if(!r){I(e,t,n,8,17976931348623157e292,-17976931348623157e292)}o.write(e,t,n,i,52,8);return n+8}c.prototype.writeDoubleLE=function Ze(e,t,n){return E(this,e,t,true,n)};c.prototype.writeDoubleBE=function Ke(e,t,n){return E(this,e,t,false,n)};c.prototype.copy=function $e(e,t,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-t<i-n){i=e.length-t+n}var r=i-n;var o;if(this===e&&n<t&&t<i){for(o=r-1;o>=0;--o){e[o+t]=this[o+n]}}else if(r<1e3||!c.TYPED_ARRAY_SUPPORT){for(o=0;o<r;++o){e[o+t]=this[o+n]}}else{Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t)}return r};c.prototype.fill=function Qe(e,t,n,i){if(typeof e==="string"){if(typeof t==="string"){i=t;t=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(e.length===1){var r=e.charCodeAt(0);if(r<256){e=r}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!c.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof e==="number"){e=e&255}if(t<0||this.length<t||this.length<n){throw new RangeError("Out of range index")}if(n<=t){return this}t=t>>>0;n=n===undefined?this.length:n>>>0;if(!e)e=0;var o;if(typeof e==="number"){for(o=t;o<n;++o){this[o]=e}}else{var s=c.isBuffer(e)?e:q(new c(e,i).toString());var a=s.length;for(o=0;o<n-t;++o){this[o+t]=s[o%a]}}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function X(e){e=Z(e).replace(Y,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function Z(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function K(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function q(e,t){t=t||Infinity;var n;var i=e.length;var r=null;var o=[];for(var s=0;s<i;++s){n=e.charCodeAt(s);if(n>55295&&n<57344){if(!r){if(n>56319){if((t-=3)>-1)o.push(239,191,189);continue}else if(s+1===i){if((t-=3)>-1)o.push(239,191,189);continue}r=n;continue}if(n<56320){if((t-=3)>-1)o.push(239,191,189);r=n;continue}n=(r-55296<<10|n-56320)+65536}else if(r){if((t-=3)>-1)o.push(239,191,189)}r=null;if(n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error("Invalid code point")}}return o}function $(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.charCodeAt(n)&255)}return t}function Q(e,t){var n,i,r;var o=[];for(var s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s);i=n>>8;r=n%256;o.push(r);o.push(i)}return o}function O(e){return i.toByteArray(X(e))}function A(e,t,n,i){for(var r=0;r<i;++r){if(r+n>=t.length||r>=e.length)break;t[r+n]=e[r]}return r}function ee(e){return e!==e}}).call(this,tt(6))},function(e,t,n){t=e.exports=n(53);t.Stream=t;t.Readable=t;t.Writable=n(36);t.Duplex=n(5);t.Transform=n(57);t.PassThrough=n(108)},function(B,e,N){"use strict";(function(e,t,n){var s=N(15);B.exports=g;function M(e,t,n){this.chunk=e;this.encoding=t;this.callback=n;this.next=null}function h(e){var t=this;this.next=null;this.entry=null;this.finish=function(){L(t,e)}}var a=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?t:s.nextTick;var u;g.WritableState=m;var i=Object.create(N(9));i.inherits=N(7);var r={deprecate:N(107)};var o=N(54);var l=N(16).Buffer;var f=(typeof n!=="undefined"?n:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function c(e){return l.from(e)}function d(e){return l.isBuffer(e)||e instanceof f}var p=N(55);i.inherits(g,o);function v(){}function m(e,t){u=u||N(5);e=e||{};var n=t instanceof u;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.writableObjectMode;var i=e.highWaterMark;var r=e.writableHighWaterMark;var o=this.objectMode?16:16*1024;if(i||i===0)this.highWaterMark=i;else if(n&&(r||r===0))this.highWaterMark=r;else this.highWaterMark=o;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var s=e.decodeStrings===false;this.decodeStrings=!s;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){T(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new h(this)}m.prototype.getBuffer=function F(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(m.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var y;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){y=Function.prototype[Symbol.hasInstance];Object.defineProperty(g,Symbol.hasInstance,{value:function(e){if(y.call(this,e))return true;if(this!==g)return false;return e&&e._writableState instanceof m}})}else{y=function(e){return e instanceof this}}function g(e){u=u||N(5);if(!y.call(g,this)&&!(this instanceof u)){return new g(e)}this._writableState=new m(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e["final"]==="function")this._final=e["final"]}o.call(this)}g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function S(e,t){var n=new Error("write after end");e.emit("error",n);s.nextTick(t,n)}function w(e,t,n,i){var r=true;var o=false;if(n===null){o=new TypeError("May not write null values to stream")}else if(typeof n!=="string"&&n!==undefined&&!t.objectMode){o=new TypeError("Invalid non-string/buffer chunk")}if(o){e.emit("error",o);s.nextTick(i,o);r=false}return r}g.prototype.write=function(e,t,n){var i=this._writableState;var r=false;var o=!i.objectMode&&d(e);if(o&&!l.isBuffer(e)){e=c(e)}if(typeof t==="function"){n=t;t=null}if(o)t="buffer";else if(!t)t=i.defaultEncoding;if(typeof n!=="function")n=v;if(i.ended)S(this,n);else if(o||w(this,i,e,n)){i.pendingcb++;r=_(this,i,o,e,t,n)}return r};g.prototype.cork=function(){var e=this._writableState;e.corked++};g.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)I(this,e)}};g.prototype.setDefaultEncoding=function W(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e;return this};function P(e,t,n){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=l.from(t,n)}return t}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function _(e,t,n,i,r,o){if(!n){var s=P(t,i,r);if(i!==s){n=true;r="buffer";i=s}}var a=t.objectMode?1:i.length;t.length+=a;var u=t.length<t.highWaterMark;if(!u)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null};if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{b(e,t,false,a,i,r,o)}return u}function b(e,t,n,i,r,o,s){t.writelen=i;t.writecb=s;t.writing=true;t.sync=true;if(n)e._writev(r,t.onwrite);else e._write(r,o,t.onwrite);t.sync=false}function C(e,t,n,i,r){--t.pendingcb;if(n){s.nextTick(r,i);s.nextTick(O,e,t);e._writableState.errorEmitted=true;e.emit("error",i)}else{r(i);e._writableState.errorEmitted=true;e.emit("error",i);O(e,t)}}function k(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function T(e,t){var n=e._writableState;var i=n.sync;var r=n.writecb;k(n);if(t)C(e,n,i,t,r);else{var o=D(n);if(!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest){I(e,n)}if(i){a(R,e,n,o,r)}else{R(e,n,o,r)}}}function R(e,t,n,i){if(!n)x(e,t);t.pendingcb--;i();O(e,t)}function x(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function I(e,t){t.bufferProcessing=true;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount;var r=new Array(i);var o=t.corkedRequestsFree;o.entry=n;var s=0;var a=true;while(n){r[s]=n;if(!n.isBuf)a=false;n=n.next;s+=1}r.allBuffers=a;b(e,t,true,t.length,r,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else{t.corkedRequestsFree=new h(t)}t.bufferedRequestCount=0}else{while(n){var u=n.chunk;var l=n.encoding;var f=n.callback;var c=t.objectMode?1:u.length;b(e,t,false,c,u,l,f);n=n.next;t.bufferedRequestCount--;if(t.writing){break}}if(n===null)t.lastBufferedRequest=null}t.bufferedRequest=n;t.bufferProcessing=false}g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))};g.prototype._writev=null;g.prototype.end=function(e,t,n){var i=this._writableState;if(typeof e==="function"){n=e;e=null;t=null}else if(typeof t==="function"){n=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(i.corked){i.corked=1;this.uncork()}if(!i.ending)A(this,i,n)};function D(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function E(t,n){t._final(function(e){n.pendingcb--;if(e){t.emit("error",e)}n.prefinished=true;t.emit("prefinish");O(t,n)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;s.nextTick(E,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function O(e,t){var n=D(t);if(n){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return n}function A(e,t,n){t.ending=true;O(e,t);if(n){if(t.finished)s.nextTick(n);else e.once("finish",n)}t.ended=true;e.writable=false}function L(e,t,n){var i=e.entry;e.entry=null;while(i){var r=i.callback;t.pendingcb--;r(n);i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(g.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});g.prototype.destroy=p.destroy;g.prototype._undestroy=p.undestroy;g.prototype._destroy=function(e,t){this.end();t(e)}}).call(this,N(14),N(56).setImmediate,N(6))},function(e,t,n){"use strict";var i=n(16).Buffer;var r=i.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function o(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function s(e){var t=o(e);if(typeof t!=="string"&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}t.StringDecoder=a;function a(e){this.encoding=s(e);var t;switch(this.encoding){case"utf16le":this.text=p;this.end=v;t=4;break;case"utf8":this.fillLast=c;t=4;break;case"base64":this.text=m;this.end=y;t=3;break;default:this.write=g;this.end=S;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=i.allocUnsafe(t)}a.prototype.write=function(e){if(e.length===0)return"";var t;var n;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";n=this.lastNeed;this.lastNeed=0}else{n=0}if(n<e.length)return t?t+this.text(e,n):this.text(e,n);return t||""};a.prototype.end=d;a.prototype.text=h;a.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function u(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function l(e,t,n){var i=t.length-1;if(i<n)return 0;var r=u(t[i]);if(r>=0){if(r>0)e.lastNeed=r-1;return r}if(--i<n||r===-2)return 0;r=u(t[i]);if(r>=0){if(r>0)e.lastNeed=r-2;return r}if(--i<n||r===-2)return 0;r=u(t[i]);if(r>=0){if(r>0){if(r===2)r=0;else e.lastNeed=r-3}return r}return 0}function f(e,t,n){if((t[0]&192)!==128){e.lastNeed=0;return"ï¿½"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"ï¿½"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"ï¿½"}}}}function c(e){var t=this.lastTotal-this.lastNeed;var n=f(this,e,t);if(n!==undefined)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function h(e,t){var n=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",t,i)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"ï¿½";return t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function v(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;if(n===0)return e.toString("base64",t);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-n)}function y(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function g(e){return e.toString(this.encoding)}function S(e){return e&&e.length?this.write(e):""}},function(e,i,t){"use strict";(function(p){Object.defineProperty(i,"__esModule",{value:true});var v=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var n=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var e=function(){function e(){m(this,e);this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}n(e,[{key:"$",value:function p(e){var t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;var n=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(t.test(e)){var i=t.exec(e);return document.getElementById(i[2])}else if(n.test(e)){var r=n.exec(e);var o=document.getElementsByTagName("*");var s=[];for(var a=0,u=o.length;a<u;a++){if(o[a].className.match(new RegExp("(\\s|^)"+r[2]+"(\\s|$)"))){s.push(o[a])}}return s}}},{key:"dateFormat",value:function r(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(y+)/.test(t)){t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))}for(var i in n){if(new RegExp("("+i+")").test(t)){t=t.replace(RegExp.$1,RegExp.$1.length===1?n[i]:("00"+n[i]).substr((""+n[i]).length))}}return t}},{key:"downloadFile",value:function s(e,t){var n=e;if(!(e instanceof Blob||e instanceof File)){n=new Blob([e])}var i=window.URL.createObjectURL(n);var r=window.document.createElement("a");r.href=i;r.download=t;var o=document.createEvent("MouseEvents");o.initEvent("click",true,true);r.dispatchEvent(o)}},{key:"createxmlDoc",value:function o(){var e;var t=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"];for(var n=0,i=t.length;n<i;n++){try{e=new ActiveXObject(t[n]);break}catch(r){e=document.implementation.createDocument("","",null);break}}e["async"]="false";return e}},{key:"parseXmlFromStr",value:function i(e){if(null===e||""===e){return null}var t=this.createxmlDoc();if(navigator.appName==="Netscape"||navigator.appName==="Opera"){var n=new DOMParser;t=n.parseFromString(e,"text/xml")}else{t.loadXML(e)}return t}},{key:"encode",value:function f(e){var t="";var n;var i;var r;var o;var s;var a;var u;var l=0;e=this._utf8_encode(e);while(l<e.length){n=e.charCodeAt(l++);i=e.charCodeAt(l++);r=e.charCodeAt(l++);o=n>>2;s=(n&3)<<4|i>>4;a=(i&15)<<2|r>>6;u=r&63;if(isNaN(i)){a=u=64}else if(isNaN(r)){u=64}t=t+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(u)}return t}},{key:"decode",value:function c(e){var t="";var n;var i;var r;var o;var s;var a;var u;var l=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(l<e.length){o=this._keyStr.indexOf(e.charAt(l++));s=this._keyStr.indexOf(e.charAt(l++));a=this._keyStr.indexOf(e.charAt(l++));u=this._keyStr.indexOf(e.charAt(l++));n=o<<2|s>>4;i=(s&15)<<4|a>>2;r=(a&3)<<6|u;t=t+String.fromCharCode(n);if(a!==64){t=t+String.fromCharCode(i)}if(u!==64){t=t+String.fromCharCode(r)}}t=this._utf8_decode(t);return t}},{key:"_utf8_encode",value:function a(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i)}else if(i>127&&i<2048){t+=String.fromCharCode(i>>6|192);t+=String.fromCharCode(i&63|128)}else{t+=String.fromCharCode(i>>12|224);t+=String.fromCharCode(i>>6&63|128);t+=String.fromCharCode(i&63|128)}}return t}},{key:"_utf8_decode",value:function u(e){var t="";var n=0;var i=0;var r=0;while(n<e.length){i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i);n++}else if(i>191&&i<224){r=e.charCodeAt(n+1);t+=String.fromCharCode((i&31)<<6|r&63);n+=2}else{r=e.charCodeAt(n+1);var o=e.charCodeAt(n+2);t+=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63);n+=3}}return t}},{key:"isFirefox",value:function l(){var e=false;var t=navigator.userAgent.toLowerCase();var n="";var i=-1;if(t.match(/firefox\/([\d.]+)/)){n=t.match(/firefox\/([\d.]+)/)[1];i=parseInt(n.split(".")[0],10);if(i>-1){e=true}}return e}},{key:"isSafari",value:function h(){var e=false;var t=navigator.userAgent.toLowerCase();var n="";var i=-1;if(t.match(/version\/([\d.]+).safari./)){n=t.match(/version\/([\d.]+).safari./)[1];i=parseInt(n.split(".")[0],10);if(i>-1){e=true}}return e}},{key:"isEdge",value:function t(){return navigator.userAgent.toLowerCase().indexOf("edge")>-1}},{key:"getStatusCode",value:function d(e){var t=e.responseXML;var n="";try{if(t){n=p(t).find("subStatusCode").text()}else if("object"===v(JSON.parse(e.responseText))){var i=JSON.parse(e.responseText);n=""+i["subStatusCode"]}}catch(r){}return n}}]);return e}();var t=i.oTool=new e}).call(this,t(1))},function(e,t){var n=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function o(){n(i);return i}}else{var r=new Array(16);e.exports=function s(){for(var e=0,t;e<16;e++){if((e&3)===0)t=Math.random()*4294967296;r[e]=t>>>((e&3)<<3)&255}return r}}},function(e,t){var r=[];for(var n=0;n<256;++n){r[n]=(n+256).toString(16).substr(1)}function i(e,t){var n=t||0;var i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){var r=e&65535|0,o=e>>>16&65535|0,s=0;while(n!==0){s=n>2e3?2e3:n;n-=s;do{r=r+t[i++]|0;o=o+r|0}while(--s);r%=65521;o%=65521}return r|o<<16|0}e.exports=i},function(e,t,n){"use strict";function i(){var e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++){e=e&1?3988292384^e>>>1:e>>>1}t[n]=e}return t}var a=i();function r(e,t,n,i){var r=a,o=i+n;e^=-1;for(var s=i;s<o;s++){e=e>>>8^r[(e^t[s])&255]}return e^-1}e.exports=r},function(e,t,n){"use strict";var u=n(4);var r=true;var o=true;try{String.fromCharCode.apply(null,[0])}catch(s){r=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){o=false}var l=new u.Buf8(256);for(var i=0;i<256;i++){l[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}l[254]=l[254]=1;t.string2buf=function(e){var t,n,i,r,o,s=e.length,a=0;for(r=0;r<s;r++){n=e.charCodeAt(r);if((n&64512)===55296&&r+1<s){i=e.charCodeAt(r+1);if((i&64512)===56320){n=65536+(n-55296<<10)+(i-56320);r++}}a+=n<128?1:n<2048?2:n<65536?3:4}t=new u.Buf8(a);for(o=0,r=0;o<a;r++){n=e.charCodeAt(r);if((n&64512)===55296&&r+1<s){i=e.charCodeAt(r+1);if((i&64512)===56320){n=65536+(n-55296<<10)+(i-56320);r++}}if(n<128){t[o++]=n}else if(n<2048){t[o++]=192|n>>>6;t[o++]=128|n&63}else if(n<65536){t[o++]=224|n>>>12;t[o++]=128|n>>>6&63;t[o++]=128|n&63}else{t[o++]=240|n>>>18;t[o++]=128|n>>>12&63;t[o++]=128|n>>>6&63;t[o++]=128|n&63}}return t};function f(e,t){if(t<65534){if(e.subarray&&o||!e.subarray&&r){return String.fromCharCode.apply(null,u.shrinkBuf(e,t))}}var n="";for(var i=0;i<t;i++){n+=String.fromCharCode(e[i])}return n}t.buf2binstring=function(e){return f(e,e.length)};t.binstring2buf=function(e){var t=new u.Buf8(e.length);for(var n=0,i=t.length;n<i;n++){t[n]=e.charCodeAt(n)}return t};t.buf2string=function(e,t){var n,i,r,o;var s=t||e.length;var a=new Array(s*2);for(i=0,n=0;n<s;){r=e[n++];if(r<128){a[i++]=r;continue}o=l[r];if(o>4){a[i++]=65533;n+=o-1;continue}r&=o===2?31:o===3?15:7;while(o>1&&n<s){r=r<<6|e[n++]&63;o--}if(o>1){a[i++]=65533;continue}if(r<65536){a[i++]=r}else{r-=65536;a[i++]=55296|r>>10&1023;a[i++]=56320|r&1023}}return f(a,i)};t.utf8border=function(e,t){var n;t=t||e.length;if(t>e.length){t=e.length}n=t-1;while(n>=0&&(e[n]&192)===128){n--}if(n<0){return t}if(n===0){return t}return n+l[e[n]]>t?n:t}},function(e,t,n){"use strict";function i(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}e.exports=i},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){(function(){var e;t.exports=e=function(){function e(){}e.prototype.hasFeature=function(e,t){return true};e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")};e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")};e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")};e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")};return e}()}).call(this)},function(f,e,c){(function(){var r,n,i,e,t,o,s,a,u=function(e,t){for(var n in t){if(l.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},l={}.hasOwnProperty;a=c(3).isPlainObject;i=c(46);n=c(91);t=c(2);r=c(0);s=c(50);o=c(33);f.exports=e=function(e){u(t,e);function t(e){t.__super__.constructor.call(this,null);this.name="#document";this.type=r.Document;this.documentURI=null;this.domConfig=new n;e||(e={});if(!e.writer){e.writer=new o}this.options=e;this.stringify=new s(e)}Object.defineProperty(t.prototype,"implementation",{value:new i});Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t,n,i;i=this.children;for(t=0,n=i.length;t<n;t++){e=i[t];if(e.type===r.DocType){return e}}return null}});Object.defineProperty(t.prototype,"documentElement",{get:function(){return this.rootObject||null}});Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(t.prototype,"strictErrorChecking",{get:function(){return false}});Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){if(this.children.length!==0&&this.children[0].type===r.Declaration){return this.children[0].encoding}else{return null}}});Object.defineProperty(t.prototype,"xmlStandalone",{get:function(){if(this.children.length!==0&&this.children[0].type===r.Declaration){return this.children[0].standalone==="yes"}else{return false}}});Object.defineProperty(t.prototype,"xmlVersion",{get:function(){if(this.children.length!==0&&this.children[0].type===r.Declaration){return this.children[0].version}else{return"1.0"}}});Object.defineProperty(t.prototype,"URL",{get:function(){return this.documentURI}});Object.defineProperty(t.prototype,"origin",{get:function(){return null}});Object.defineProperty(t.prototype,"compatMode",{get:function(){return null}});Object.defineProperty(t.prototype,"characterSet",{get:function(){return null}});Object.defineProperty(t.prototype,"contentType",{get:function(){return null}});t.prototype.end=function(e){var t;t={};if(!e){e=this.options.writer}else if(a(e)){t=e;e=this.options.writer}return e.document(this,e.filterOptions(t))};t.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))};t.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};t.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())};return t}(t)}).call(this)},function(n,e,r){(function(){var i,e,t;i=r(0);t=r(2);n.exports=e=function(){function e(e,t,n){this.parent=e;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}if(t==null){throw new Error("Missing attribute name. "+this.debugInfo(t))}this.name=this.stringify.name(t);this.value=this.stringify.attValue(n);this.type=i.Attribute;this.isId=false;this.schemaTypeInfo=null}Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}});Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}});Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(e.prototype,"prefix",{get:function(){return""}});Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(e.prototype,"specified",{get:function(){return true}});e.prototype.clone=function(){return Object.create(this)};e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))};e.prototype.debugInfo=function(e){e=e||this.name;if(e==null){return"parent: <"+this.parent.name+">"}else{return"attribute: {"+e+"}, parent: <"+this.parent.name+">"}};e.prototype.isEqualNode=function(e){if(e.namespaceURI!==this.namespaceURI){return false}if(e.prefix!==this.prefix){return false}if(e.localName!==this.localName){return false}if(e.value!==this.value){return false}return true};return e}()}).call(this)},function(o,e,s){(function(){var n,e,t,i=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},r={}.hasOwnProperty;t=s(2);n=s(0);o.exports=e=function(e){i(t,e);function t(e){t.__super__.constructor.call(this,e);this.type=n.Dummy}t.prototype.clone=function(){return Object.create(this)};t.prototype.toString=function(e){return""};return t}(t)}).call(this)},function(t,e){(function(){var e,r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty;t.exports=e=function(){function e(e){this.assertLegalName=r(this.assertLegalName,this);this.assertLegalChar=r(this.assertLegalChar,this);var t,n,i;e||(e={});this.options=e;if(!this.options.version){this.options.version="1.0"}n=e.stringify||{};for(t in n){if(!o.call(n,t))continue;i=n[t];this[t]=i}}e.prototype.name=function(e){if(this.options.noValidation){return e}return this.assertLegalName(""+e||"")};e.prototype.text=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(this.textEscape(""+e||""))};e.prototype.cdata=function(e){if(this.options.noValidation){return e}e=""+e||"";e=e.replace("]]>","]]]]><![CDATA[>");return this.assertLegalChar(e)};e.prototype.comment=function(e){if(this.options.noValidation){return e}e=""+e||"";if(e.match(/--/)){throw new Error("Comment text cannot contain double-hypen: "+e)}return this.assertLegalChar(e)};e.prototype.raw=function(e){if(this.options.noValidation){return e}return""+e||""};e.prototype.attValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(this.attEscape(e=""+e||""))};e.prototype.insTarget=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.insValue=function(e){if(this.options.noValidation){return e}e=""+e||"";if(e.match(/\?>/)){throw new Error("Invalid processing instruction value: "+e)}return this.assertLegalChar(e)};e.prototype.xmlVersion=function(e){if(this.options.noValidation){return e}e=""+e||"";if(!e.match(/1\.[0-9]+/)){throw new Error("Invalid version number: "+e)}return e};e.prototype.xmlEncoding=function(e){if(this.options.noValidation){return e}e=""+e||"";if(!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)){throw new Error("Invalid encoding: "+e)}return this.assertLegalChar(e)};e.prototype.xmlStandalone=function(e){if(this.options.noValidation){return e}if(e){return"yes"}else{return"no"}};e.prototype.dtdPubID=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdSysID=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdElementValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdAttType=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdAttDefault=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdEntityValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.dtdNData=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};e.prototype.convertAttKey="@";e.prototype.convertPIKey="?";e.prototype.convertTextKey="#text";e.prototype.convertCDataKey="#cdata";e.prototype.convertCommentKey="#comment";e.prototype.convertRawKey="#raw";e.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation){return e}t="";if(this.options.version==="1.0"){t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(n=e.match(t)){throw new Error("Invalid character in string: "+e+" at index "+n.index)}}else if(this.options.version==="1.1"){t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(n=e.match(t)){throw new Error("Invalid character in string: "+e+" at index "+n.index)}}return e};e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation){return e}this.assertLegalChar(e);t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;if(!e.match(t)){throw new Error("Invalid character in name")}return e};e.prototype.textEscape=function(e){var t;if(this.options.noValidation){return e}t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")};e.prototype.attEscape=function(e){var t;if(this.options.noValidation){return e}t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")};return e}()}).call(this)},function(v,e,m){(function(){var y,g,e,t,n,i,r,o,s,a,u,l,f,c,h,d,p,S={}.hasOwnProperty;p=m(3).assign;y=m(0);s=m(24);a=m(25);e=m(22);t=m(23);l=m(20);c=m(30);h=m(31);f=m(32);u=m(49);n=m(26);i=m(28);r=m(27);o=m(29);g=m(12);v.exports=d=function(){function e(e){var t,n,i;e||(e={});this.options=e;n=e.writer||{};for(t in n){if(!S.call(n,t))continue;i=n[t];this["_"+t]=this[t];this[t]=i}}e.prototype.filterOptions=function(e){var t,n,i,r,o,s,a,u;e||(e={});e=p({},this.options,e);t={writer:this};t.pretty=e.pretty||false;t.allowEmpty=e.allowEmpty||false;t.indent=(n=e.indent)!=null?n:"  ";t.newline=(i=e.newline)!=null?i:"\n";t.offset=(r=e.offset)!=null?r:0;t.dontPrettyTextNodes=(o=(s=e.dontPrettyTextNodes)!=null?s:e.dontprettytextnodes)!=null?o:0;t.spaceBeforeSlash=(a=(u=e.spaceBeforeSlash)!=null?u:e.spacebeforeslash)!=null?a:"";if(t.spaceBeforeSlash===true){t.spaceBeforeSlash=" "}t.suppressPrettyCount=0;t.user={};t.state=g.None;return t};e.prototype.indent=function(e,t,n){var i;if(!t.pretty||t.suppressPrettyCount){return""}else if(t.pretty){i=(n||0)+t.offset+1;if(i>0){return new Array(i).join(t.indent)}}return""};e.prototype.endline=function(e,t,n){if(!t.pretty||t.suppressPrettyCount){return""}else{return t.newline}};e.prototype.attribute=function(e,t,n){var i;this.openAttribute(e,t,n);i=" "+e.name+'="'+e.value+'"';this.closeAttribute(e,t,n);return i};e.prototype.cdata=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<![CDATA[";t.state=g.InsideTag;i+=e.value;t.state=g.CloseTag;i+="]]>"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.comment=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"\x3c!-- ";t.state=g.InsideTag;i+=e.value;t.state=g.CloseTag;i+=" --\x3e"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.declaration=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<?xml";t.state=g.InsideTag;i+=' version="'+e.version+'"';if(e.encoding!=null){i+=' encoding="'+e.encoding+'"'}if(e.standalone!=null){i+=' standalone="'+e.standalone+'"'}t.state=g.CloseTag;i+=t.spaceBeforeSlash+"?>";i+=this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.docType=function(e,t,n){var i,r,o,s,a;n||(n=0);this.openNode(e,t,n);t.state=g.OpenTag;s=this.indent(e,t,n);s+="<!DOCTYPE "+e.root().name;if(e.pubID&&e.sysID){s+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){s+=' SYSTEM "'+e.sysID+'"'}if(e.children.length>0){s+=" [";s+=this.endline(e,t,n);t.state=g.InsideTag;a=e.children;for(r=0,o=a.length;r<o;r++){i=a[r];s+=this.writeChildNode(i,t,n+1)}t.state=g.CloseTag;s+="]"}t.state=g.CloseTag;s+=t.spaceBeforeSlash+">";s+=this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return s};e.prototype.element=function(e,t,n){var i,r,o,s,a,u,l,f,c,h,d,p,v,m;n||(n=0);h=false;d="";this.openNode(e,t,n);t.state=g.OpenTag;d+=this.indent(e,t,n)+"<"+e.name;p=e.attribs;for(c in p){if(!S.call(p,c))continue;i=p[c];d+=this.attribute(i,t,n)}o=e.children.length;s=o===0?null:e.children[0];if(o===0||e.children.every(function(e){return(e.type===y.Text||e.type===y.Raw)&&e.value===""})){if(t.allowEmpty){d+=">";t.state=g.CloseTag;d+="</"+e.name+">"+this.endline(e,t,n)}else{t.state=g.CloseTag;d+=t.spaceBeforeSlash+"/>"+this.endline(e,t,n)}}else if(t.pretty&&o===1&&(s.type===y.Text||s.type===y.Raw)&&s.value!=null){d+=">";t.state=g.InsideTag;t.suppressPrettyCount++;h=true;d+=this.writeChildNode(s,t,n+1);t.suppressPrettyCount--;h=false;t.state=g.CloseTag;d+="</"+e.name+">"+this.endline(e,t,n)}else{if(t.dontPrettyTextNodes){v=e.children;for(a=0,l=v.length;a<l;a++){r=v[a];if((r.type===y.Text||r.type===y.Raw)&&r.value!=null){t.suppressPrettyCount++;h=true;break}}}d+=">"+this.endline(e,t,n);t.state=g.InsideTag;m=e.children;for(u=0,f=m.length;u<f;u++){r=m[u];d+=this.writeChildNode(r,t,n+1)}t.state=g.CloseTag;d+=this.indent(e,t,n)+"</"+e.name+">";if(h){t.suppressPrettyCount--}d+=this.endline(e,t,n);t.state=g.None}this.closeNode(e,t,n);return d};e.prototype.writeChildNode=function(e,t,n){switch(e.type){case y.CData:return this.cdata(e,t,n);case y.Comment:return this.comment(e,t,n);case y.Element:return this.element(e,t,n);case y.Raw:return this.raw(e,t,n);case y.Text:return this.text(e,t,n);case y.ProcessingInstruction:return this.processingInstruction(e,t,n);case y.Dummy:return"";case y.Declaration:return this.declaration(e,t,n);case y.DocType:return this.docType(e,t,n);case y.AttributeDeclaration:return this.dtdAttList(e,t,n);case y.ElementDeclaration:return this.dtdElement(e,t,n);case y.EntityDeclaration:return this.dtdEntity(e,t,n);case y.NotationDeclaration:return this.dtdNotation(e,t,n);default:throw new Error("Unknown XML node type: "+e.constructor.name)}};e.prototype.processingInstruction=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<?";t.state=g.InsideTag;i+=e.target;if(e.value){i+=" "+e.value}t.state=g.CloseTag;i+=t.spaceBeforeSlash+"?>";i+=this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.raw=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n);t.state=g.InsideTag;i+=e.value;t.state=g.CloseTag;i+=this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.text=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n);t.state=g.InsideTag;i+=e.value;t.state=g.CloseTag;i+=this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.dtdAttList=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<!ATTLIST";t.state=g.InsideTag;i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType;if(e.defaultValueType!=="#DEFAULT"){i+=" "+e.defaultValueType}if(e.defaultValue){i+=' "'+e.defaultValue+'"'}t.state=g.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.dtdElement=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<!ELEMENT";t.state=g.InsideTag;i+=" "+e.name+" "+e.value;t.state=g.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.dtdEntity=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<!ENTITY";t.state=g.InsideTag;if(e.pe){i+=" %"}i+=" "+e.name;if(e.value){i+=' "'+e.value+'"'}else{if(e.pubID&&e.sysID){i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){i+=' SYSTEM "'+e.sysID+'"'}if(e.nData){i+=" NDATA "+e.nData}}t.state=g.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.dtdNotation=function(e,t,n){var i;this.openNode(e,t,n);t.state=g.OpenTag;i=this.indent(e,t,n)+"<!NOTATION";t.state=g.InsideTag;i+=" "+e.name;if(e.pubID&&e.sysID){i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.pubID){i+=' PUBLIC "'+e.pubID+'"'}else if(e.sysID){i+=' SYSTEM "'+e.sysID+'"'}t.state=g.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,n);t.state=g.None;this.closeNode(e,t,n);return i};e.prototype.openNode=function(e,t,n){};e.prototype.closeNode=function(e,t,n){};e.prototype.openAttribute=function(e,t,n){};e.prototype.closeAttribute=function(e,t,n){};return e}()}).call(this)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)=="[object Array]"}},function(G,e,V){"use strict";(function(e,y){var g=V(15);G.exports=v;var i=V(52);var s;v.ReadableState=p;var M=V(13).EventEmitter;var S=function(e,t){return e.listeners(t).length};var r=V(54);var a=V(16).Buffer;var t=(typeof e!=="undefined"?e:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function u(e){return a.from(e)}function o(e){return a.isBuffer(e)||e instanceof t}var n=Object.create(V(9));n.inherits=V(7);var l=V(103);var w=void 0;if(l&&l.debuglog){w=l.debuglog("stream")}else{w=function(){}}var f=V(104);var c=V(55);var h;n.inherits(v,r);var d=["error","close","destroy","pause","resume"];function P(e,t,n){if(typeof e.prependListener==="function")return e.prependListener(t,n);if(!e._events||!e._events[t])e.on(t,n);else if(i(e._events[t]))e._events[t].unshift(n);else e._events[t]=[n,e._events[t]]}function p(e,t){s=s||V(5);e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.readableObjectMode;var i=e.highWaterMark;var r=e.readableHighWaterMark;var o=this.objectMode?16:16*1024;if(i||i===0)this.highWaterMark=i;else if(n&&(r||r===0))this.highWaterMark=r;else this.highWaterMark=o;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new f;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!h)h=V(37).StringDecoder;this.decoder=new h(e.encoding);this.encoding=e.encoding}}function v(e){s=s||V(5);if(!(this instanceof v))return new v(e);this._readableState=new p(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}r.call(this)}Object.defineProperty(v.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});v.prototype.destroy=c.destroy;v.prototype._undestroy=c.undestroy;v.prototype._destroy=function(e,t){this.push(null);t(e)};v.prototype.push=function(e,t){var n=this._readableState;var i;if(!n.objectMode){if(typeof e==="string"){t=t||n.defaultEncoding;if(t!==n.encoding){e=a.from(e,t);t=""}i=true}}else{i=true}return m(this,e,t,false,i)};v.prototype.unshift=function(e){return m(this,e,null,true,false)};function m(e,t,n,i,r){var o=e._readableState;if(t===null){o.reading=false;x(e,o)}else{var s;if(!r)s=b(o,t);if(s){e.emit("error",s)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==a.prototype){t=u(t)}if(i){if(o.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else _(e,o,t,true)}else if(o.ended){e.emit("error",new Error("stream.push() after EOF"))}else{o.reading=false;if(o.decoder&&!n){t=o.decoder.write(t);if(o.objectMode||t.length!==0)_(e,o,t,false);else E(e,o)}else{_(e,o,t,false)}}}else if(!i){o.reading=false}}return C(o)}function _(e,t,n,i){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",n);e.read(0)}else{t.length+=t.objectMode?1:n.length;if(i)t.buffer.unshift(n);else t.buffer.push(n);if(t.needReadable)I(e)}E(e,t)}function b(e,t){var n;if(!o(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){n=new TypeError("Invalid non-string/buffer chunk")}return n}function C(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}v.prototype.isPaused=function(){return this._readableState.flowing===false};v.prototype.setEncoding=function(e){if(!h)h=V(37).StringDecoder;this._readableState.decoder=new h(e);this._readableState.encoding=e;return this};var k=8388608;function T(e){if(e>=k){e=k}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function R(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=T(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}v.prototype.read=function(e){w("read",e);e=parseInt(e,10);var t=this._readableState;var n=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){w("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)A(this);else I(this);return null}e=R(e,t);if(e===0&&t.ended){if(t.length===0)A(this);return null}var i=t.needReadable;w("need readable",i);if(t.length===0||t.length-e<t.highWaterMark){i=true;w("length less than watermark",i)}if(t.ended||t.reading){i=false;w("reading or ended",i)}else if(i){w("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=R(n,t)}var r;if(e>0)r=O(e,t);else r=null;if(r===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(n!==e&&t.ended)A(this)}if(r!==null)this.emit("data",r);return r};function x(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=true;I(e)}function I(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){w("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)g.nextTick(D,e);else D(e)}}function D(e){w("emit readable");e.emit("readable");q(e)}function E(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(F,e,t)}}function F(e,t){var n=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){w("maybeReadMore read 0");e.read(0);if(n===t.length)break;else n=t.length}t.readingMore=false}v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};v.prototype.pipe=function(n,e){var i=this;var r=this._readableState;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n);break}r.pipesCount+=1;w("pipe count=%d opts=%j",r.pipesCount,e);var t=(!e||e.end!==false)&&n!==y.stdout&&n!==y.stderr;var o=t?a:m;if(r.endEmitted)g.nextTick(o);else i.once("end",o);n.on("unpipe",s);function s(e,t){w("onunpipe");if(e===i){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;f()}}}function a(){w("onend");n.end()}var u=W(i);n.on("drain",u);var l=false;function f(){w("cleanup");n.removeListener("close",p);n.removeListener("finish",v);n.removeListener("drain",u);n.removeListener("error",d);n.removeListener("unpipe",s);i.removeListener("end",a);i.removeListener("end",m);i.removeListener("data",h);l=true;if(r.awaitDrain&&(!n._writableState||n._writableState.needDrain))u()}var c=false;i.on("data",h);function h(e){w("ondata");c=false;var t=n.write(e);if(false===t&&!c){if((r.pipesCount===1&&r.pipes===n||r.pipesCount>1&&L(r.pipes,n)!==-1)&&!l){w("false write response, pause",r.awaitDrain);r.awaitDrain++;c=true}i.pause()}}function d(e){w("onerror",e);m();n.removeListener("error",d);if(S(n,"error")===0)n.emit("error",e)}P(n,"error",d);function p(){n.removeListener("finish",v);m()}n.once("close",p);function v(){w("onfinish");n.removeListener("close",p);m()}n.once("finish",v);function m(){w("unpipe");i.unpipe(n)}n.emit("pipe",i);if(!r.flowing){w("pipe resume");i.resume()}return n};function W(t){return function(){var e=t._readableState;w("pipeOnDrain",e.awaitDrain);if(e.awaitDrain)e.awaitDrain--;if(e.awaitDrain===0&&S(t,"data")){e.flowing=true;q(t)}}}v.prototype.unpipe=function(e){var t=this._readableState;var n={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,n);return this}if(!e){var i=t.pipes;var r=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<r;o++){i[o].emit("unpipe",this,{hasUnpiped:false})}return this}var s=L(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,n);return this};v.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var i=this._readableState;if(!i.endEmitted&&!i.readableListening){i.readableListening=i.needReadable=true;i.emittedReadable=false;if(!i.reading){g.nextTick(B,this)}else if(i.length){I(this)}}}return n};v.prototype.addListener=v.prototype.on;function B(e){w("readable nexttick read 0");e.read(0)}v.prototype.resume=function(){var e=this._readableState;if(!e.flowing){w("resume");e.flowing=true;N(this,e)}return this};function N(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(z,e,t)}}function z(e,t){if(!t.reading){w("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");q(e);if(t.flowing&&!t.reading)e.read(0)}v.prototype.pause=function(){w("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){w("pause");this._readableState.flowing=false;this.emit("pause")}return this};function q(e){var t=e._readableState;w("flow",t.flowing);while(t.flowing&&e.read()!==null){}}v.prototype.wrap=function(n){var i=this;var r=this._readableState;var o=false;n.on("end",function(){w("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)i.push(e)}i.push(null)});n.on("data",function(e){w("wrapped data");if(r.decoder)e=r.decoder.write(e);if(r.objectMode&&(e===null||e===undefined))return;else if(!r.objectMode&&(!e||!e.length))return;var t=i.push(e);if(!t){o=true;n.pause()}});for(var e in n){if(this[e]===undefined&&typeof n[e]==="function"){this[e]=function(e){return function(){return n[e].apply(n,arguments)}}(e)}}for(var t=0;t<d.length;t++){n.on(d[t],this.emit.bind(this,d[t]))}this._read=function(e){w("wrapped _read",e);if(o){o=false;n.resume()}};return this};Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});v._fromList=O;function O(e,t){if(t.length===0)return null;var n;if(t.objectMode)n=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)n=t.buffer.join("");else if(t.buffer.length===1)n=t.buffer.head.data;else n=t.buffer.concat(t.length);t.buffer.clear()}else{n=J(e,t.buffer,t.decoder)}return n}function J(e,t,n){var i;if(e<t.head.data.length){i=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){i=t.shift()}else{i=n?U(e,t):H(e,t)}return i}function U(e,t){var n=t.head;var i=1;var r=n.data;e-=r.length;while(n=n.next){var o=n.data;var s=e>o.length?o.length:e;if(s===o.length)r+=o;else r+=o.slice(0,e);e-=s;if(e===0){if(s===o.length){++i;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=o.slice(s)}break}++i}t.length-=i;return r}function H(e,t){var n=a.allocUnsafe(e);var i=t.head;var r=1;i.data.copy(n);e-=i.data.length;while(i=i.next){var o=i.data;var s=e>o.length?o.length:e;o.copy(n,n.length-e,0,s);e-=s;if(e===0){if(s===o.length){++r;if(i.next)t.head=i.next;else t.head=t.tail=null}else{t.head=i;i.data=o.slice(s)}break}++r}t.length-=r;return n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;g.nextTick(j,t,e)}}function j(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function L(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t)return n}return-1}}).call(this,V(6),V(14))},function(e,t,n){e.exports=n(13).EventEmitter},function(e,t,n){"use strict";var o=n(15);function i(e,t){var n=this;var i=this._readableState&&this._readableState.destroyed;var r=this._writableState&&this._writableState.destroyed;if(i||r){if(t){t(e)}else if(e){if(!this._writableState){o.nextTick(s,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;o.nextTick(s,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!n._writableState){o.nextTick(s,n,e)}else if(!n._writableState.errorEmitted){n._writableState.errorEmitted=true;o.nextTick(s,n,e)}}else if(t){t(e)}});return this}function r(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function s(e,t){e.emit("error",t)}e.exports={destroy:i,undestroy:r}},function(e,r,o){(function(e){var t=typeof e!=="undefined"&&e||typeof self!=="undefined"&&self||window;var n=Function.prototype.apply;r.setTimeout=function(){return new i(n.call(setTimeout,t,arguments),clearTimeout)};r.setInterval=function(){return new i(n.call(setInterval,t,arguments),clearInterval)};r.clearTimeout=r.clearInterval=function(e){if(e){e.close()}};function i(e,t){this._id=e;this._clearFn=t}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(t,this._id)};r.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};r.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function n(){if(e._onTimeout)e._onTimeout()},t)}};o(106);r.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof e!=="undefined"&&e.setImmediate||this&&this.setImmediate;r.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof e!=="undefined"&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(6))},function(e,t,n){"use strict";e.exports=s;var i=n(5);var r=Object.create(n(9));r.inherits=n(7);r.inherits(s,i);function o(e,t){var n=this._transformState;n.transforming=false;var i=n.writecb;if(!i){return this.emit("error",new Error("write callback called multiple times"))}n.writechunk=null;n.writecb=null;if(t!=null)this.push(t);i(e);var r=this._readableState;r.reading=false;if(r.needReadable||r.length<r.highWaterMark){this._read(r.highWaterMark)}}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e);this._transformState={afterTransform:o.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",a)}function a(){var n=this;if(typeof this._flush==="function"){this._flush(function(e,t){u(n,e,t)})}else{u(this,null,null)}}s.prototype.push=function(e,t){this._transformState.needTransform=false;return i.prototype.push.call(this,e,t)};s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")};s.prototype._write=function(e,t,n){var i=this._transformState;i.writecb=n;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var r=this._readableState;if(i.needTransform||r.needReadable||r.length<r.highWaterMark)this._read(r.highWaterMark)}};s.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};s.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e);n.emit("close")})};function u(e,t,n){if(t)return e.emit("error",t);if(n!=null)e.push(n);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},function(e,n){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/);n.normalize=function(e){return e.toLowerCase()};n.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)};n.stripPrefix=function(e){return e.replace(t,"")};n.parseNumbers=function(e){if(!isNaN(e)){e=e%1===0?parseInt(e,10):parseFloat(e)}return e};n.parseBooleans=function(e){if(/^(?:true|false)$/i.test(e)){e=e.toLowerCase()==="true"}return e}}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(){p(this,e);this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}h(e,[{key:"browser",value:function d(){var e=/(edge)[/]([\w.]+)/;var t=/(chrome)[/]([\w.]+)/;var n=/(safari)[/]([\w.]+)/;var i=/(opera)(?:.*version)?[/]([\w.]+)/;var r=/(msie) ([\w.]+)/;var o=/(trident.*rv:)([\w.]+)/;var s=/(mozilla)(?:.*? rv:([\w.]+))?/;var a=navigator.userAgent.toLowerCase();var u=e.exec(a)||t.exec(a)||n.exec(a)||i.exec(a)||r.exec(a)||o.exec(a)||a.indexOf("compatible")<0&&s.exec(a)||["unknow","0"];if(u.length>0&&u[1].indexOf("trident")>-1){u[1]="msie"}var l={};l[u[1]]=true;l.version=Math.floor(u[2].split(".")[0]);if(l.safari){var f=a.indexOf("version/")+8;var c=a.indexOf(" safari/");var h=a.slice(f,c);l.version=Math.floor(h.split(".")[0])}return l}},{key:"createEventScript",value:function r(e,t,n){var i=document.createElement("script");i.htmlFor=e;i.event=t;i.innerHTML=n;document.getElementById(e).appendChild(i)}},{key:"createxmlDoc",value:function o(){var e;var t=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"];for(var n=0,i=t.length;n<i;n++){try{e=new ActiveXObject(t[n]);break}catch(r){e=document.implementation.createDocument("","",null);break}}e["async"]="false";return e}},{key:"parseXmlFromStr",value:function s(e,t){if(null===e||""===e){return null}if(t&&e[0]==="{"){return e}e=e.replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;");var n=null;try{if(window.navigator.userAgent.indexOf("MSIE 9.0")>0){n=new ActiveXObject("Microsoft.XMLDOM");n["async"]=false;n.loadXML(e)}else{var i=new DOMParser;n=i.parseFromString(e,"text/xml")}}catch(r){n=new ActiveXObject("Microsoft.XMLDOM");n["async"]=false;n.loadXML(e)}return n}},{key:"isNotSupportNoPlugin",value:function n(){var e=this.browser();var t=false;if(e.edge&&e.version<16){t=true}else if(e.safari&&e.version<11){t=true}else if(e.chrome&&e.version<57){t=true}else if(e.firfox&&e.version<52){t=true}return t}},{key:"encode",value:function f(e){var t="";var n;var i;var r;var o;var s;var a;var u;var l=0;e=this._utf8_encode(e);while(l<e.length){n=e.charCodeAt(l++);i=e.charCodeAt(l++);r=e.charCodeAt(l++);o=n>>2;s=(n&3)<<4|i>>4;a=(i&15)<<2|r>>6;u=r&63;if(isNaN(i)){a=u=64}else if(isNaN(r)){u=64}t=t+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(u)}return t}},{key:"decode",value:function c(e){var t="";var n;var i;var r;var o;var s;var a;var u;var l=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(l<e.length){o=this._keyStr.indexOf(e.charAt(l++));s=this._keyStr.indexOf(e.charAt(l++));a=this._keyStr.indexOf(e.charAt(l++));u=this._keyStr.indexOf(e.charAt(l++));n=o<<2|s>>4;i=(s&15)<<4|a>>2;r=(a&3)<<6|u;t=t+String.fromCharCode(n);if(a!==64){t=t+String.fromCharCode(i)}if(u!==64){t=t+String.fromCharCode(r)}}t=this._utf8_decode(t);return t}},{key:"_utf8_encode",value:function a(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i)}else if(i>127&&i<2048){t+=String.fromCharCode(i>>6|192);t+=String.fromCharCode(i&63|128)}else{t+=String.fromCharCode(i>>12|224);t+=String.fromCharCode(i>>6&63|128);t+=String.fromCharCode(i&63|128)}}return t}},{key:"_utf8_decode",value:function u(e){var t="";var n=0;var i=0;var r=0;while(n<e.length){i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i);n++}else if(i>191&&i<224){r=e.charCodeAt(n+1);t+=String.fromCharCode((i&31)<<6|r&63);n+=2}else{r=e.charCodeAt(n+1);var o=e.charCodeAt(n+2);t+=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63);n+=3}}return t}},{key:"colorTransfer",value:function i(e){var t=parseInt(e,10);var n=t.toString(16);n="0"+n;return n.substring(n.length-2)}},{key:"colorRgb",value:function l(e){var t=e.toLowerCase();var n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(t&&n.test(t)){if(t.length===4){var i="#";for(var r=1;r<4;r+=1){i+=t.slice(r,r+1).concat(t.slice(r,r+1))}t=i}var o=[];for(var s=1;s<7;s+=2){o.push(parseInt("0x"+t.slice(s,s+2),16))}return o}return[0,0,0]}}]);return e}();var r=t.oUtils=new i},function(e,t,n){e.exports=n(61)},function(e,t,n){"use strict";(function(hn){Object.defineProperty(t,"__esModule",{value:true});t.JSVideoPlugin=undefined;var dn=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var pn=n(62);var vn=n(75);var mn=n(114);var yn=n(59);function gn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function Sn(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var wn=[];var e=function(){var e=function(){function n(e){Sn(this,n);var t={szId:"playWnd",iType:0,iWidth:400,iHeight:300,iMaxSplit:4,iCurrentSplit:2,szPlayMode:"normal",szBasePath:"./dist",onConnectSuccess:null,onConnectError:null,oSessionInfo:null,bNewInstance:false,iPluginType:-1,iFoceInitMode:0};this.oOptions=hn.extend(t,e);this.oPlugin=null;this.iPluginMode=0;this._getVideoPlugin()}dn(n,[{key:"initActiveX",value:function i(){var e=this;try{e.oPlugin=new mn.ActiveXControl({szId:e.oOptions.szId,iType:e.oOptions.iType,iWidth:e.oOptions.iWidth,iHeight:e.oOptions.iHeight,iMaxSplit:e.oOptions.iMaxSplit,iCurrentSplit:e.oOptions.iCurrentSplit,szPlayMode:e.oOptions.szPlayMode,szClassId:e.oOptions.szClassId,szIframeId:e.oOptions.szIframeId,szBackgroundColor:e.oOptions.szBackgroundColor,szSubBackgroundColor:e.oOptions.szSubBackgroundColor,szBorderColor:e.oOptions.szBorderColor,szSelectBorderColor:e.oOptions.szSelectBorderColor});e.iPluginMode=0;if(e.oPlugin.oPlugin){setTimeout(function(){e.oOptions.onConnectSuccess&&e.oOptions.onConnectSuccess()},50)}else{setTimeout(function(){e.oOptions.onConnectError&&e.oOptions.onConnectError()},50)}}catch(t){e.oOptions.onConnectError&&e.oOptions.onConnectError(t)}}},{key:"initJSPlugin",value:function r(){var e=this;try{e.oPlugin=new pn.JSPlugin({szId:e.oOptions.szId,iType:e.oOptions.iType,iWidth:e.oOptions.iWidth,iHeight:e.oOptions.iHeight,iMaxSplit:e.oOptions.iMaxSplit,iCurrentSplit:e.oOptions.iCurrentSplit,szBasePath:e.oOptions.szBasePath,szPlayMode:e.oOptions.szPlayMode,oStyle:e.oOptions.oStyle,szIframeId:e.oOptions.szIframeId,szBackgroundColor:e.oOptions.szBackgroundColor?"#"+e.oOptions.szBackgroundColor:"",szSubBackgroundColor:e.oOptions.szSubBackgroundColor?"#"+e.oOptions.szSubBackgroundColor:"",szBorderColor:e.oOptions.szBorderColor?"#"+e.oOptions.szBorderColor:"",szSelectBorderColor:e.oOptions.szSelectBorderColor?"#"+e.oOptions.szSelectBorderColor:""});e.iPluginMode=1;e.oOptions.onConnectSuccess&&e.oOptions.onConnectSuccess()}catch(t){e.oOptions.onConnectError&&e.oOptions.onConnectError()}}},{key:"initLocalService",value:function o(){var t=this;var e={bNoDetectPort:t.oOptions.bNoDetectPort,oSessionInfo:t.oOptions.oSessionInfo,szPluginContainer:t.oOptions.szId,szIframeId:t.oOptions.szIframeId,aIframe:t.oOptions.aIframe,bChildIframe:t.oOptions.bChildIframe,szChildIframeId:t.oOptions.szChildIframeId,szBackgroundColor:t.oOptions.szBackgroundColor,szSubBackgroundColor:t.oOptions.szSubBackgroundColor,szBorderColor:t.oOptions.szBorderColor,szSelectBorderColor:t.oOptions.szSelectBorderColor,szPlayMode:t.oOptions.szPlayMode,cbConnectSuccess:function n(e){t.oPlugin.bLocalServiceRunning=true;wn[t.oOptions.szId]=t.oPlugin;t.iPluginMode=2;if(t.oOptions.iType!==0){t.oPlugin.JS_CreateWnd(t.oOptions.szId,t.oOptions.iWidth,t.oOptions.iHeight).then(function(){setTimeout(function(){t.JS_ArrangeWindow(t.oOptions.iCurrentSplit,[]).then(function(){},function(){});t.oPlugin.szUUID=e;t.oOptions.onConnectSuccess&&t.oOptions.onConnectSuccess(e)},50)},function(){t.oOptions.onConnectSuccess&&t.oOptions.onConnectSuccess("create window error")})}else{setTimeout(function(){t.JS_ArrangeWindow(t.oOptions.iCurrentSplit,[]).then(function(){},function(){});t.oOptions.onConnectSuccess&&t.oOptions.onConnectSuccess()},50)}},cbConnectError:function i(){t.oPlugin.bLocalServiceRunning=false;if(!yn.oUtils.isNotSupportNoPlugin()){setTimeout(function(){t.initJSPlugin()},300)}else{t.oOptions.onConnectError&&t.oOptions.onConnectError()}},cbConnectClose:function r(){t.oPlugin.bLocalServiceRunning=false;t.oOptions.onConnectClose&&t.oOptions.onConnectClose();t.oPlugin=null;delete wn[t.oOptions.szId]},iServicePortStart:t.oOptions.iServicePortStart,iServicePortEnd:t.oOptions.iServicePortEnd,bUseInQT:t.oOptions.bUseInQT};if("bEmbed"in t.oOptions){e.bEmbed=!!t.oOptions.bEmbed}if("beforeCreateWnd"in t.oOptions&&"function"===typeof t.oOptions.beforeCreateWnd){e.beforeCreateWnd=t.oOptions.beforeCreateWnd}t.oPlugin=new vn.LocalServiceControl(e)}},{key:"reInitLocalService",value:function t(){var e=this;e.oPlugin=wn[e.oOptions.szId];e.iPluginMode=2;if(e.oOptions.iType!==0){e.oPlugin.JS_CreateWnd(e.oOptions.szId,e.oOptions.iWidth,e.oOptions.iHeight).then(function(){setTimeout(function(){e.JS_ArrangeWindow(e.oOptions.iCurrentSplit,[]).then(function(){},function(){});e.oOptions.onConnectSuccess&&e.oOptions.onConnectSuccess(e.oPlugin.szUUID)},50)},function(){})}else{setTimeout(function(){e.JS_ArrangeWindow(e.oOptions.iCurrentSplit,[]).then(function(){},function(){});e.oOptions.onConnectSuccess&&e.oOptions.onConnectSuccess(e.oPlugin.szUUID)},50)}}},{key:"_getVideoPlugin",value:function s(){var e=this;if(e.oOptions.iFoceInitMode>0){e.oOptions.iPluginType=e.oOptions.iFoceInitMode}if(e.oOptions.iPluginType>-1){if(e.oOptions.iPluginType===0){e.initActiveX()}else if(e.oOptions.iPluginType===1){setTimeout(function(){e.initJSPlugin()},300)}else if(e.oOptions.iPluginType===2){if(window._oMultiVideoPlugin&&!e.oOptions.bNewInstance){e.reInitLocalService()}else{e.initLocalService()}}return}if(yn.oUtils.browser().msie){e.initActiveX()}else{if(wn[e.oOptions.szId]&&!e.oOptions.bNewInstance){e.reInitLocalService()}else{e.initLocalService()}}}},{key:"JS_GetVideoMode",value:function e(){return this.iPluginMode}},{key:"JS_CreateWnd",value:function a(e,t,n){return this.oPlugin.JS_CreateWnd(e,t,n)}},{key:"JS_ShowWnd",value:function u(){return this.oPlugin.JS_ShowWnd()}},{key:"JS_HideWnd",value:function l(){return this.oPlugin.JS_HideWnd()}},{key:"JS_SetWndCover",value:function f(e,t){return this.oPlugin.JS_SetWndCover(e,t)}},{key:"JS_CheckLocalServiceConnected",value:function c(){return vn.LocalServiceControl.prototype.JS_CheckLocalServiceConnected()}},{key:"JS_SetWindowControlCallback",value:function h(e){this.oPlugin.JS_SetWindowControlCallback(e)}},{key:"JS_ArrangeWindow",value:function d(e,t){return this.oPlugin.JS_ArrangeWindow(e,t)}},{key:"JS_SetSecretKey",value:function p(e,t,n){return this.oPlugin.JS_SetSecretKey(e,t,n)}},{key:"JS_SetOriginalString",value:function v(e,t){return this.oPlugin.JS_SetOriginalString(e,t)}},{key:"JS_GetEncryptString",value:function m(e,t,n){return this.oPlugin.JS_GetEncryptString(e,t,n)}},{key:"JS_GetDecryptString",value:function y(e,t,n){return this.oPlugin.JS_GetDecryptString(e,t,n)}},{key:"JS_DestroyPlugin",value:function g(){return this.oPlugin.JS_DestroyPlugin(this.oOptions.bNewInstance)}},{key:"JS_Play",value:function S(e,t,n,i,r,o){var s=e.indexOf("://")+3;var a=e.substring(s).indexOf("/");var u=e.substring(0,a+s);var l=e.substring(a+s+1);if(this.iPluginMode===0||this.iPluginMode===2){if(!o){if(!i&&!r){e=u.replace(/video/i,"rtsp")+"/ISAPI/streaming/channels/"+l;if(l==="0"){e=u.replace(/video/i,"rtsp")+"/ISAPI/Custom/SelfExt/ContentMgmt/ZeroStreaming/channels/101"}}else{e=u.replace(/video/i,"rtsp")+"/ISAPI/streaming/tracks/"+l+"?starttime="+i+"&endtime="+r}}var f=t.auth;var c=yn.oUtils.decode(f);if(c.indexOf(":::4:")===-1){f=t.userInfo}e=e.replace(/https/g,"http");e=e.replace(/rtsps/g,"rtsp");return this.oPlugin.JS_Play(e,{auth:f},n,i,r)}else if(this.iPluginMode===1){e=e.replace(/video/i,"ws");var h=yn.oUtils.decode(t.auth);var d={sessionID:h.split("::")[1]};if(h.indexOf(":::3:")>-1){d={sessionID:h.split(":::3:")[1]}}else if(h.indexOf(":::4:")>-1){d={token:h.split(":::4:")[1]}}t.secondAuth&&(d.secondAuth=t.secondAuth);return this.oPlugin.JS_Play(e,d,n,i,r)}}},{key:"JS_Play2",value:function w(e,t){return this.oPlugin.JS_Play2(e,t)}},{key:"JS_OpenFileBrowser2",value:function P(e,t){return this.oPlugin.JS_OpenFileBrowser2(e,t)}},{key:"JS_uploadFileByForm",value:function _(e){return this.oPlugin.JS_uploadFileByForm(e)}},{key:"JS_StopFormAsynUpload",value:function b(){return this.oPlugin.JS_StopFormAsynUpload()}},{key:"JS_ReversePlay",value:function C(e,t,n,i,r){var o=e.indexOf("://")+3;var s=e.substring(o).indexOf("/");var a=e.substring(0,s+o);var u=e.substring(s+o+1);if(this.iPluginMode===0||this.iPluginMode===2){e=a.replace(/video/i,"rtsp")+"/ISAPI/streaming/tracks/"+u+"?starttime="+i+"&endtime="+r;var l=t.auth;var f=yn.oUtils.decode(l);if(f.indexOf(":::4:")===-1){l=t.userInfo}e=e.replace(/https/g,"http");return this.oPlugin.JS_ReversePlay(e,{auth:l},n,i,r)}else if(this.iPluginMode===1){e=a.replace(/video/i,"ws");return this.oPlugin.JS_ReversePlay(e,t,n,i,r)}}},{key:"JS_Stop",value:function k(e){return this.oPlugin.JS_Stop(e)}},{key:"JS_Seek",value:function T(e,t,n){return this.oPlugin.JS_Seek(e,t,n)}},{key:"JS_StopRealPlayAll",value:function R(){return this.oPlugin.JS_StopRealPlayAll()}},{key:"JS_Pause",value:function x(e){return this.oPlugin.JS_Pause(e)}},{key:"JS_Resume",value:function I(e){return this.oPlugin.JS_Resume(e)}},{key:"JS_Slow",value:function D(e){return this.oPlugin.JS_Slow(e)}},{key:"JS_Fast",value:function E(e){return this.oPlugin.JS_Fast(e)}},{key:"JS_Transmission",value:function q(e,t){return this.oPlugin.JS_Transmission(e,t)}},{key:"JS_FrameForward",value:function O(e){return this.oPlugin.JS_FrameForward(e)}},{key:"JS_GetOSDTime",value:function A(e){return this.oPlugin.JS_GetOSDTime(e)}},{key:"JS_GetPlayInfo",value:function L(e){return this.oPlugin.JS_GetPlayInfo(e)}},{key:"JS_OpenSound",value:function M(e){return this.oPlugin.JS_OpenSound(e)}},{key:"JS_CloseSound",value:function F(){return this.oPlugin.JS_CloseSound()}},{key:"JS_GetVolume",value:function W(e){return this.oPlugin.JS_GetVolume(e)}},{key:"JS_SetVolume",value:function B(e,t){return this.oPlugin.JS_SetVolume(e,t)}},{key:"JS_EnableZoom",value:function N(e,t){return this.oPlugin.JS_EnableZoom(e,t)}},{key:"JS_DisableZoom",value:function z(e){return this.oPlugin.JS_DisableZoom(e)}},{key:"JS_CapturePicture",value:function J(e,t,n){return this.oPlugin.JS_CapturePicture(e,t,n)}},{key:"JS_StartSave",value:function U(e,t){return this.oPlugin.JS_StartSave(e,t)}},{key:"JS_StopSave",value:function H(e){return this.oPlugin.JS_StopSave(e)}},{key:"JS_StartTalk",value:function j(e,t,n,i,r,o,s,a,u,l){return this.oPlugin.JS_StartTalk(e,t,n,i,r,o,s,a,u,l)}},{key:"JS_StopTalk",value:function G(){return this.oPlugin.JS_StopTalk()}},{key:"JS_SetPlayMode",value:function V(e){return this.oPlugin.JS_SetPlayMode(e)}},{key:"JS_SetFullScreenCapability",value:function Y(e){return this.oPlugin.JS_SetFullScreenCapability(e)}},{key:"JS_FullScreenDisplay",value:function X(e){return this.oPlugin.JS_FullScreenDisplay(e)}},{key:"JS_EnableIVS",value:function Z(e,t,n){return this.oPlugin.JS_EnableIVS(e,t,n)}},{key:"JS_SRInit",value:function K(e,t){return this.oPlugin.JS_SRInit(e,t)}},{key:"JS_SRPTZ",value:function $(e,t,n){return this.oPlugin.JS_SRPTZ(e,t,n)}},{key:"JS_SetPlaybackDrawType",value:function Q(e,t){return this.oPlugin.JS_SetPlaybackDrawType(e,t)}},{key:"JS_SetPlayBackType",value:function ee(e){return this.oPlugin.JS_SetPlayBackType(e)}},{key:"JS_SetTrsPlayBackParam",value:function te(e,t){return this.oPlugin.JS_SetTrsPlayBackParam(e,t)}},{key:"JS_GetLocalConfig",value:function ne(){return this.oPlugin.JS_GetLocalConfig()}},{key:"JS_SetLocalConfig",value:function ie(e){return this.oPlugin.JS_SetLocalConfig(e)}},{key:"JS_GetLastError",value:function re(){return this.oPlugin.JS_GetLastError()}},{key:"JS_OpenFileBrowser",value:function oe(e,t){return this.oPlugin.JS_OpenFileBrowser(e,t)}},{key:"JS_OpenDirectory",value:function se(e){return this.oPlugin.JS_OpenDirectory(e)}},{key:"JS_StartAsynUpload",value:function ae(e,t,n,i,r,o){if(r&&this.iPluginMode===1){var s=yn.oUtils.decode(n);n=s.split(":::4:")[1]}return this.oPlugin.JS_StartAsynUpload(e,t,n,i,r,o)}},{key:"JS_StopAsynUpload",value:function ue(){return this.oPlugin.JS_StopAsynUpload()}},{key:"JS_GetUploadErrorInfo",value:function le(){return this.oPlugin.JS_GetUploadErrorInfo()}},{key:"JS_UploadFile",value:function fe(e,t,n,i,r){if(r&&this.iPluginMode===1){var o=yn.oUtils.decode(t);t=o.split(":::4:")[1]}return this.oPlugin.JS_UploadFile(e,t,n,i,r)}},{key:"JS_GetIpcImportErrorInfo",value:function ce(){return this.oPlugin.JS_GetIpcImportErrorInfo()}},{key:"JS_DownloadFile",value:function he(e,t,n,i,r,o){return this.oPlugin.JS_DownloadFile(e,t,n,i,r,o)}},{key:"JS_DownloadFileNoPlugin",value:function de(e,t,n,i,r,o){return this.oPlugin.JS_DownloadFileNoPlugin(e,t,n,i,r,o)}},{key:"JS_StartUpgrade",value:function pe(e,t,n,i,r,o){if(o&&this.iPluginMode===1){var s=yn.oUtils.decode(n);n=s.split(":::4:")[1]}return this.oPlugin.JS_StartUpgrade(e,t,n,i,r,o)}},{key:"JS_StopUpgrade",value:function ve(){return this.oPlugin.JS_StopUpgrade()}},{key:"JS_GetUpgradeStatus",value:function me(){return this.oPlugin.JS_GetUpgradeStatus()}},{key:"JS_GetUpgradeProgress",value:function ye(){return this.oPlugin.JS_GetUpgradeProgress()}},{key:"JS_ExportDeviceLog",value:function ge(e,t,n){var i=null;if(this.iPluginMode!==0){i=pn.JSPlugin.prototype.JS_ExportDeviceLog(e,t,n)}else{i=this.oPlugin.JS_ExportDeviceLog(e,t,n)}return i}},{key:"JS_ExportReport",value:function Se(e,t,n){var i=null;if(this.iPluginMode!==0){i=pn.JSPlugin.prototype.JS_ExportReport(e,t,n)}else{i=this.oPlugin.JS_ExportReport(e,t,n)}return i}},{key:"JS_StartAsyncDownload",value:function we(e,t,n,i,r){return this.oPlugin.JS_StartAsyncDownload(e,t,n,i,r)}},{key:"JS_StopAsyncDownload",value:function Pe(e){return this.oPlugin.JS_StopAsyncDownload(e)}},{key:"JS_GetDownloadStatus",value:function _e(e){return this.oPlugin.JS_GetDownloadStatus(e)}},{key:"JS_GetDownloadProgress",value:function be(e){return this.oPlugin.JS_GetDownloadProgress(e)}},{key:"JS_EnablePDC",value:function Ce(e,t){return this.oPlugin.JS_EnablePDC(e,t)}},{key:"JS_Resize",value:function ke(e,t){return this.oPlugin.JS_Resize(e,t)}},{key:"JS_SetDrawCallback",value:function Te(e,t,n,i,r,o){return this.oPlugin.JS_SetDrawCallback(e,t,n,i,r,o)}},{key:"JS_SetDrawStatus",value:function Re(e,t,n){return this.oPlugin.JS_SetDrawStatus(e,t,n)}},{key:"JS_ClearRegion",value:function xe(){return this.oPlugin.JS_ClearRegion()}},{key:"JS_SetDrawShapeInfo",value:function Ie(e,t,n){return this.oPlugin.JS_SetDrawShapeInfo(e,t,n)}},{key:"JS_SetGridInfo",value:function De(e){return this.oPlugin.JS_SetGridInfo(e)}},{key:"JS_GetGridInfo",value:function Ee(){return this.oPlugin.JS_GetGridInfo()}},{key:"JS_SetRectInfo",value:function qe(e,t){return this.oPlugin.JS_SetRectInfo(e,t)}},{key:"JS_GetRectInfo",value:function Oe(){return this.oPlugin.JS_GetRectInfo()}},{key:"JS_SetPolygonInfo",value:function Ae(e,t){return this.oPlugin.JS_SetPolygonInfo(e,t)}},{key:"JS_GetPolygonInfo",value:function Le(){return this.oPlugin.JS_GetPolygonInfo()}},{key:"JS_SetLineInfo",value:function Me(e){return this.oPlugin.JS_SetLineInfo(e)}},{key:"JS_GetLineInfo",value:function Fe(){return this.oPlugin.JS_GetLineInfo()}},{key:"JS_SetPointInfo",value:function We(e,t){return this.oPlugin.JS_SetPointInfo(e,t)}},{key:"JS_GetPointInfo",value:function Be(){return this.oPlugin.JS_GetPointInfo()}},{key:"JS_SetTextOverlay",value:function Ne(e){return this.oPlugin.JS_SetTextOverlay(e)}},{key:"JS_GetTextOverlay",value:function ze(){return this.oPlugin.JS_GetTextOverlay()}},{key:"JS_ClearShapeByType",value:function Je(e,t){return this.oPlugin.JS_ClearShapeByType(e,t)}},{key:"JS_ChooseShape",value:function Ue(e,t){return this.oPlugin.JS_ChooseShape(e,t)}},{key:"JS_SetCorrectionType",value:function He(e){return this.oPlugin.JS_SetCorrectionType(e)}},{key:"JS_SetPlaceType",value:function je(e){return this.oPlugin.JS_SetPlaceType(e)}},{key:"JS_StartFishListener",value:function Ge(e,t,n){return this.oPlugin.JS_StartFishListener(e,t,n)}},{key:"JS_StopFishListener",value:function Ve(){return this.oPlugin.JS_StopFishListener()}},{key:"JS_SetFishBoxListInfo",value:function Ye(e){return this.oPlugin.JS_SetFishBoxListInfo(e)}},{key:"JS_GetFishBoxListInfo",value:function Xe(){return this.oPlugin.JS_GetFishBoxListInfo()}},{key:"JS_ClearAllWndFishBoxInfo",value:function Ze(){return this.oPlugin.JS_ClearAllWndFishBoxInfo()}},{key:"JS_SetFishWndProperty",value:function Ke(e,t,n){return this.oPlugin.JS_SetFishWndProperty(e,t,n)}},{key:"JS_SetFishParams",value:function $e(e,t,n,i){return this.oPlugin.JS_SetFishParams(e,t,n,i)}},{key:"JS_ArrangeFECWindow",value:function Qe(e){return this.oPlugin.JS_ArrangeFECWindow(e)}},{key:"JS_StartFECScan",value:function et(e){return this.oPlugin.JS_StartFECScan(e)}},{key:"JS_StopFECScan",value:function tt(){return this.oPlugin.JS_StopFECScan()}},{key:"JS_FishEyePTZ",value:function nt(e,t){return this.oPlugin.JS_FishEyePTZ(e,t)}},{key:"JS_FishEyeGetPreset",value:function it(){return this.oPlugin.JS_FishEyeGetPreset()}},{key:"JS_FishEyeSetPreset",value:function rt(e){return this.oPlugin.JS_FishEyeSetPreset(e)}},{key:"JS_StartFECCruise",value:function ot(e){return this.oPlugin.JS_StartFECCruise(e)}},{key:"JS_StopFECCruise",value:function st(){return this.oPlugin.JS_StopFECCruise()}},{key:"JS_SetIsHttps",value:function at(e){return this.oPlugin.JS_SetIsHttps(e)}},{key:"JS_SetReconnectInfo",value:function ut(e,t){return this.oPlugin.JS_SetReconnectInfo(e,t)}},{key:"JS_CheckUpdate",value:function lt(e,t,n){return this.oPlugin.JS_CheckUpdate(e,t,n)}},{key:"JS_SelectShape",value:function ft(e,t){return this.oPlugin.JS_SelectShape(e,t)}},{key:"JS_GetPictureSize",value:function ct(e){return this.oPlugin.JS_GetPictureSize(e)}},{key:"JS_SetOriginResolution",value:function ht(e,t,n){return this.oPlugin.JS_SetOriginResolution(e,t,n)}},{key:"JS_SetPlayWndMode",value:function dt(e,t,n){return this.oPlugin.JS_SetPlayWndMode(e,t,n)}},{key:"JS_UpdateWindowStyle",value:function pt(e){return this.oPlugin.JS_UpdateWindowStyle(e)}},{key:"JS_CuttingPartWindow",value:function vt(e,t,n,i){return this.oPlugin.JS_CuttingPartWindow(e,t,n,i)}},{key:"JS_RepairPartWindow",value:function mt(e,t,n,i){return this.oPlugin.JS_RepairPartWindow(e,t,n,i)}},{key:"JS_ClearAllCanvas",value:function yt(){var e=null;if(this.iPluginMode===1){e=this.oPlugin.JS_ClearAllCanvas()}else{e=new Promise(function(e){e()})}return e}},{key:"JS_PlayWithImg",value:function gt(e,t){return this.oPlugin.JS_PlayWithImg(e,t)}},{key:"JS_DestroyAll",value:function St(){return this.oPlugin.JS_DestroyAll()}},{key:"JS_SetPackageType",value:function wt(e){return this.oPlugin.JS_SetPackageType(e)}},{key:"JS_SetZeroChanInfo",value:function Pt(e,t,n){return this.oPlugin.JS_SetZeroChanInfo(e,t,n)}},{key:"JS_SetSnapDrawWndIndex",value:function _t(e){return this.oPlugin.JS_SetSnapDrawWndIndex(e)}},{key:"JS_SetWindowSelected",value:function bt(e){return this.oPlugin.JS_SetWindowSelected(e)}},{key:"JS_GetDownFilePath",value:function Ct(e){return this.oPlugin.JS_GetDownFilePath(e)}},{key:"JS_SycVideoAndAudio",value:function kt(e,t,n){return this.oPlugin.JS_SycVideoAndAudio(e,t,n)}},{key:"JS_DeleteDownloadFile",value:function Tt(e){return this.oPlugin.JS_DeleteDownloadFile(e)}},{key:"JS_GetEngineSupport",value:function Rt(){return this.oPlugin.JS_GetEngineSupport()}},{key:"JS_ExsitGetSlfPointList",value:function xt(){return this.oPlugin.JS_ExistGetSlfPointList()}},{key:"JS_GetSlfPointList",value:function It(e,t){return this.oPlugin.JS_GetSlfPointList(e,t)}},{key:"JS_GetSlfVersion",value:function Dt(){return this.oPlugin.JS_GetSlfVersion()}},{key:"JS_AudioPlay",value:function Et(e,t,n,i,r,o){return this.oPlugin.JS_AudioPlay(e,t,n,i,r,o)}},{key:"JS_StartSycAudioPlay",value:function qt(e,t,n,i){return this.oPlugin.JS_StartSycAudioPlay(e,t,n,i)}},{key:"JS_StopSycAudioPlay",value:function Ot(e){return this.oPlugin.JS_StopSycAudioPlay(e)}},{key:"JS_SetAudioPlayStatus",value:function At(e){return this.oPlugin.JS_SetAudioPlayStatus(e)}},{key:"JS_StopAudioPlay",value:function Lt(){return this.oPlugin.JS_StopAudioPlay()}},{key:"JS_StartAudioSave",value:function Mt(e){return this.oPlugin.JS_StartAudioSave(e)}},{key:"JS_StopAudioSave",value:function Ft(){return this.oPlugin.JS_StopAudioSave()}},{key:"JS_GetAudioPlayedTime",value:function Wt(){return this.oPlugin.JS_GetAudioPlayedTime()}},{key:"JS_AudioPause",value:function Bt(){return this.oPlugin.JS_AudioPause()}},{key:"JS_AudioResume",value:function Nt(){return this.oPlugin.JS_AudioResume()}},{key:"JS_SetAudioVolume",value:function zt(e,t){return this.oPlugin.JS_SetAudioVolume(e,t)}},{key:"JS_StartAlarmChan",value:function Jt(e,t,n,i){var r;if(isNaN(i)){arguments[3]=3e4}var o=Array.prototype.slice.call(arguments,0);return(r=this.oPlugin).JS_StartAlarmChan.apply(r,gn(o))}},{key:"JS_StopAlarmChan",value:function Ut(e){var t;if(isNaN(e)){arguments[0]=3e4}var n=Array.prototype.slice.call(arguments,0);return(t=this.oPlugin).JS_StopAlarmChan.apply(t,gn(n))}},{key:"JS_StartFormAsynUpload",value:function Ht(e,t){var n;if(isNaN(t)){arguments[1]=3e4}var i=Array.prototype.slice.call(arguments,0);return(n=this.oPlugin).JS_StartFormAsynUpload.apply(n,gn(i))}},{key:"JS_StopFormAsynUpload",value:function b(e){var t;if(isNaN(e)){arguments[0]=3e4}var n=Array.prototype.slice.call(arguments,0);return(t=this.oPlugin).JS_StopFormAsynUpload.apply(t,gn(n))}},{key:"JS_IsPluginExist",value:function jt(){try{return this.oPlugin.JS_IsPluginExist()}catch(e){console.log(e);return false}}},{key:"JS_SetPicInfoToPlayer",value:function Gt(e,t,n,i){return this.oPlugin.JS_SetPicInfoToPlayer(e,t,n,i)}},{key:"JS_GetEnumUSBDevices",value:function Vt(e){return this.oPlugin.JS_GetEnumUSBDevices(e)}},{key:"JS_LoginUSBDeicve",value:function Yt(i){var e=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=i==="finger"?1:0;t.loginMode=t.loginMode||1;t.timeOut=t.timeOut||1e4;return new Promise(function(n){e.oPlugin.JS_LoginUSBDeicve(r,t).then(function(e){n(e)})["catch"](function(e){var t=i==="card"&&e===10063?{}:null;n(t)})})}},{key:"loginUSBDevice",value:function Xt(e,s){var a=this;var u={iUserID:null,szDeviceModel:null};return new Promise(async function(o){if(e==="finger"){a.JS_LoginUSBDeicve("finger").then(function(e){u.iUserID=e===null?null:e.userID;o(u)})}if(e==="card"){a.JS_GetEnumUSBDevices().then(async function(e){if(e.deviceInfo&&e.deviceInfo.length){var t=[];e.deviceInfo.forEach(function(e){if(e.VID===1155&&e.PID===22352){if(!s||e.deviceName===s){t.push(e)}}});if(t.length){for(var n=0,i=t.length;n<i;n++){var r=await a.JS_LoginUSBDeicve("card",{timeOut:3e3,deviceIndex:t[n].index});if(r!==null){u.iUserID=r.userID;u.szDeviceModel=t[n].deviceName;break}}}}o(u)})["catch"](function(){o(u)})}})}},{key:"JS_GetUSBDeviceConfig",value:function Zt(e,t,n){return this.oPlugin.JS_GetUSBDeviceConfig(e,t,n)}},{key:"JS_SetUSBDeviceConfig",value:function Kt(e,t,n){return this.oPlugin.JS_SetUSBDeviceConfig(e,t,n)}},{key:"setUSBDeviceConfig",value:function $t(i,r){var o=this;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(function(t){var e=void 0;var n={};if(r==="buzzer"){e=1e3;n.beepType=s.beepType||2;n.beepCount=s.beepCount||1}if(r==="card"){e=1003;n.proto=s.proto}if(r==="M1"){e=1031;n.sectionTD=s.sectionTD;n.keyType=s.keyType;if(n.keyType===1){n.keyAContent=s.keyAContent}n.newKeyType=s.newKeyType;n.ctrlBits="FF078069";if(n.newKeyType===1){n.newKeyBContent=s.key;n.newKeyAContent=s.key}}if(r==="custom"){e=s.usbCommand;n=s}o.oPlugin.JS_SetUSBDeviceConfig(i,e,n).then(function(e){t(e)})["catch"](function(){t(null)})})}},{key:"JS_GetUSBCardSerial",value:function Qt(e,t){return this.oPlugin.JS_GetUSBCardSerial(e,t)}},{key:"JS_StartEnrollFingerprint",value:function en(e,t,n){return this.oPlugin.JS_StartEnrollFingerprint(e,t,n)}},{key:"JS_StopEnrollFingerprint",value:function tn(){return this.oPlugin.JS_StopEnrollFingerprint()}},{key:"JS_LogoutUSBDevice",value:function nn(e){return this.oPlugin.JS_LogoutUSBDevice(e)}},{key:"JS_GetM1AuthKey",value:function rn(e,t){return this.oPlugin.JS_GetM1AuthKey(e,t)}},{key:"JS_CheckUpdateNew",value:function on(e){return this.oPlugin.JS_CheckUpdateNew(e)}},{key:"structureCardNum",value:function sn(e){if(e.length){var t=[];for(var n=(e.length/2-1)*2;n>=0;n--){t.push(e[n]);t.push(e[n+1]);n--}var i=t.join("");var r=""+parseInt(i,16);var o={6:8,8:10,14:17,16:20};var s="";if(r.length<o[e.length]){var a="";for(var u=r.length;u<10;u++){a+="0"}s=""+a+r}else{s=r}return s}}},{key:"readCardByUSB",value:function an(a,u){var l=this;return new Promise(function(r,o){var e={all:255,EMCard:3,CPUCard:0,IDCard:1,M1Card:0};var s={beepType:3,beepCount:2};var t=[l.setUSBDeviceConfig(a,"card",{proto:e[u.szCardType]})];if(u.bBuzze){t.push(l.setUSBDeviceConfig(a,"buzzer"))}Promise.all(t).then(function(){l.JS_GetUSBDeviceConfig(a,{timeOut:6}).then(async function(t){if(t.configOutInfo&&t.configOutInfo.serial){var e={EMCard:3,CPUCard:1,IDCard:2,M1Card:0};if(u.szCardType!=="all"&&t.configOutInfo.cardType!==e[u.szCardType]){var n=["M1Card_name","CPUCard_name","IDCard","EMCard_name"];o({errorKey:"getCardErr_msg",aTExtend:[n[t.configOutInfo.cardType]]});return}if(u.bM1&&t.configOutInfo.cardType===0){var i=[];u.aM1Area.forEach(function(e){i.push(l.setUSBDeviceConfig(a,"M1",{sectionTD:e-1,keyType:1,keyAContent:"FFFFFFFFFFFF",newKeyType:0}))});Promise.all(i).then(async function(e){var n=[];e.forEach(function(e,t){if(e===null){n.push(u.aM1Area[t])}});if(n.length){o({errorKey:"enCardErr_msg"})}else{r(l.structureCardNum(t.configOutInfo.serial))}})["catch"](function(){o({errorKey:"enCardErr_msg"})})}else{r(l.structureCardNum(t.configOutInfo.serial))}}else{if(u.bBuzze){l.setUSBDeviceConfig(a,"buzzer",s)}o({errorKey:"cardReadError"})}})["catch"](function(){if(u.bBuzze){l.setUSBDeviceConfig(a,"buzzer",s)}o({errorKey:"cardReadError"})})})})}},{key:"JS_CollectCredentials",value:function un(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(t==="card"){return this.readCardByUSB(e,n)}if(t==="finger"){var i=n.timeout||30;return this.JS_StartEnrollFingerprint(e,n.collectTimes,i)}}},{key:"JS_StopCollectCredentials",value:function ln(e){if(e==="finger"){this.JS_StopEnrollFingerprint()}}},{key:"JS_SubmitHttpRequest",value:function fn(e){return this.oPlugin.JS_StartSyncHttpTransmission(e)}},{key:"JS_GetCaptureData",value:function cn(e){return this.oPlugin.JS_GetCaptureData(e)}}]);return n}();e.getPluginMode=function(t,n,i){var r=0;var e=new Promise(function(e){if(yn.oUtils.browser().msie||yn.oUtils.browser().safari&&yn.oUtils.browser().version<11||yn.oUtils.browser().firefox&&yn.oUtils.browser().version<52||yn.oUtils.browser().chrome&&yn.oUtils.browser().version<45){e(r)}else{vn.LocalServiceControl.prototype.JS_CheckLocalServiceConnected(t,n,i).then(function(){r=2;e(r)},function(){r=1;e(r)})}});return e};window.MPversion=function(){var e=n(115);return e};return e}();t.JSVideoPlugin=e}).call(this,n(1))},function(e,t,i){"use strict";(function(It){Object.defineProperty(t,"__esModule",{value:true});t.JSPlugin=undefined;var Dt=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var Et=i(38);var n=i(63);var qt=i(72);var Ot=i(73);var At=i(74);function Lt(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var e=function(){var Ke=null;var $e=0;var Qe=1;var u=40;var l=1024*1024*4;var f=1001;var c=1002;var h=1003;var et=2001;var tt=2002;var nt=new n.StreamClient;var it=null;var rt=null;var ot=Symbol("OPTIONS");var st=Symbol("CURRENTPLAYRATE");var at=Symbol("CURRENTSOUNDWND");var ut=Symbol("MAXWNDNUM");var lt=Symbol("MAXWNDNUM");var ft=Symbol("DRAWCANVAS");var ct=Symbol("SHAPEID");var ht=Symbol("WINDOWFULL");var dt=Symbol("SINGLEWINDOW");var pt=Symbol("FILETMP");var vt=Symbol("STATUSTMP");var mt=Symbol("UPGRADESTATUSURL");var yt=Symbol("CURWNDINDEX");var gt=Symbol("CALLBACKFUNCTION");var St=Symbol("CALLBACKFUNCTIONS");var wt=Symbol("EVENTCALLBACK");var Rt=Symbol("PLUGINVERSION");var Pt=Symbol("CANFULLSCREEN");var _t=Symbol("DRAWWNDINDEX");var d=Symbol("CURDRAWWNDINDEX");function xt(){document.addEventListener("visibilitychange",function(){if(document.hidden){for(var e=0;e<16;e++){if(Ke[lt][e]&&Ke[lt][e].bLoad){Ke[lt][e].oPlayCtrl.PlayM4_IsVisible(false)}}}else{for(var t=0;t<16;t++){if(Ke[lt][t]&&Ke[lt][t].bLoad){Ke[lt][t].oPlayCtrl.PlayM4_IsVisible(true)}}}},false)}function bt(e,t){if(e&&t){Ke[ot].iWidth=e;Ke[ot].iHeight=t}var n=Ke[ot].iWidth%Ke[ot].iCurrentSplit;var i=Ke[ot].iHeight%Ke[ot].iCurrentSplit;var r=(Ke[ot].iWidth-n-Ke[ot].iCurrentSplit*2)/Ke[ot].iCurrentSplit;var o=(Ke[ot].iHeight-i-Ke[ot].iCurrentSplit*2)/Ke[ot].iCurrentSplit;var s=(Ke[ot].iWidth-n)/Ke[ot].iCurrentSplit;var a=(Ke[ot].iHeight-i)/Ke[ot].iCurrentSplit;var u=Ke[ot].iCurrentSplit;if(Ke[ot].szIframeId&&It("#"+Ke[ot].szIframeId).length){rt=It("#"+Ke[ot].szId,It("#"+Ke[ot].szIframeId)[0].contentWindow.document)}else{if(typeof Ke[ot].szId==="string"){rt=It("#"+Ke[ot].szId)}else{rt=Ke[ot].szId}}var l='<div class="parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">';for(var f=0;f<Ke[ut];f++){e=r+(f%u===u-1?n:0);t=o+(f+u>=Math.pow(u,2)?i:0);var c=s+(f%u===u-1?n:0);var h=a+(f+u>=Math.pow(u,2)?i:0);l+='<div style="float:left; background-color: '+Ke.oPluginColor.subBackgroundColor+"; position: relative; width: "+c+"px; height: "+h+'px;">'+'<img style="display:none;" id="playImg'+f+'" src="">'+'<canvas id="'+Ke[ot].szId+"canvas_play"+f+'" class="play-window" style="border:1px solid '+Ke.oPluginColor.borderColor+';" wid="'+f+'" width="'+e+'" height="'+t+'"></canvas>'+'<canvas id="'+Ke[ot].szId+"canvas_draw"+f+'"  class="draw-window" style="position:absolute; top:0; left:0;" wid="'+f+'" width='+c+" height="+h+"></canvas>"+"</div>"}l+="</div>";rt.html(l);rt.find(".parent-wnd").eq(0).children().eq(0).find(".play-window").eq(0).css("border","1px solid "+Ke.oPluginColor.selectBorderColor)}function e(){Ke.EventCallback=function(){return{loadEventHandler:function e(){window.loadEventHandler&&window.loadEventHandler()},zoomEventResponse:function t(){},windowEventSelect:function n(t,e){if(Ke[yt]===t&&!e){return}Ke[yt]=t;if(Ke[_t]>=0&&Ke[_t]<=Ke[ut]-1){if(Ke[d]===Ke[_t]){return}t=Ke[_t]}Ke[d]=t;if(0<=t){Ke[gt]=Ke[St][t]}It(".draw-window").unbind();Ke[ft].setDrawStatus(false);Ke[ft]=null;Ke[ft]=new At.ESCanvas(Ke[ot].szId+"canvas_draw"+t,Ke[ot].szIframeId);Ke[ft].setShapeType("");Ke[ft].setDrawStyle("#ff0000","",0);if(Ke[lt][t].bEZoom||Ke[lt][t].bSetDrawCallback){if(Ke[lt][t].bEZoom){Ke[ft].setDrawStatus(true,function(e){if(e.startPos&&e.endPos){if(e.startPos[0]>e.endPos[0]){Ke[lt][t].oPlayCtrl.PlayM4_SetDisplayRegion(null,false)}else{Ke[lt][t].oPlayCtrl.PlayM4_SetDisplayRegion({left:e.startPos[0],top:e.startPos[1],right:e.endPos[0],bottom:e.endPos[1]},true)}}})}else if(Ke[lt][t].bSetDrawCallback){Ke[ft].setDrawStatus(true,function(e){Ke[gt](e)})}}if(Ke[wt].onGetSelectWndInfo){Ke[wt].onGetSelectWndInfo(t)}},pluginErrorHandler:function i(e,t,n){if(Ke[wt].onPluginEventHandler){Ke[wt].onPluginEventHandler(e,t,n)}},windowEventOver:function r(e){if(Ke[wt].onWindowEventOver){Ke[wt].onWindowEventOver(e)}},windowEventOut:function o(e){if(Ke[wt].onWindowEventOut){Ke[wt].onWindowEventOut(e)}},windowEventUp:function s(e){if(Ke[wt].onWindowEventUp){Ke[wt].onWindowEventUp(e)}},windowFullCcreenChange:function a(e){if(Ke[wt].onWindowFullCcreenChange){Ke[wt].onWindowFullCcreenChange(e)}},firstFrameDisplay:function u(e){if(Ke[wt].onFirstFrameDisplay){Ke[wt].onFirstFrameDisplay(e)}},performanceLack:function l(){if(Ke[wt].onPerformanceLack){Ke[wt].onPerformanceLack()}},mouseEvent:function f(e,t,n,i){if(Ke[wt].onMouseEvent){Ke[wt].onMouseEvent({eventType:t,point:[n,i],wndIndex:e})}}}}()}function Ct(){e();rt.find(".parent-wnd").eq(0).children().each(function(o){var s=this;var i=false;It(s).unbind().bind("mousedown",function(e){rt.find(".parent-wnd").eq(0).find(".play-window").css("border","1px solid "+Ke.oPluginColor.borderColor);rt.find(".parent-wnd").eq(0).children().eq(o).find(".play-window").eq(0).css("border","1px solid "+Ke.oPluginColor.selectBorderColor);Ke.EventCallback.windowEventSelect(parseInt(rt.find(".parent-wnd").eq(0).children().eq(o).find(".play-window").eq(0).attr("wid"),10));i=true;var t=e.offsetX/Ke[ft].m_iCanvasWidth;var n=e.offsetY/Ke[ft].m_iCanvasHeight;if(e.button===2){Ke.EventCallback.mouseEvent(o,4,t,n)}else if(e.button===0){Ke.EventCallback.mouseEvent(o,1,t,n)}e.stopPropagation()});It(s).bind("mousemove",function(e){var t=e.offsetX/Ke[ft].m_iCanvasWidth;var n=e.offsetY/Ke[ft].m_iCanvasHeight;if(i){Ke.EventCallback.mouseEvent(o,7,t,n)}else{Ke.EventCallback.mouseEvent(o,6,t,n)}e.stopPropagation()});It(s).bind("mousewheel",function(e){var t=e.offsetX/Ke[ft].m_iCanvasWidth;var n=e.offsetY/Ke[ft].m_iCanvasHeight;Ke.EventCallback.mouseEvent(o,8,t,n);e.stopPropagation()});It(s).bind("mouseover",function(e){Ke.EventCallback.windowEventOver(o);e.stopPropagation()});It(s).bind("mouseout",function(e){Ke.EventCallback.windowEventOut(o);e.stopPropagation()});It(s).bind("mouseup",function(e){i=false;Ke.EventCallback.windowEventUp(o);var t=e.offsetX/Ke[ft].m_iCanvasWidth;var n=e.offsetY/Ke[ft].m_iCanvasHeight;if(e.button===2){Ke.EventCallback.mouseEvent(o,5,t,n)}else if(e.button===0){Ke.EventCallback.mouseEvent(o,3,t,n)}});It(s).bind("dblclick",function(e){if(!Ke[lt][Ke[yt]].bPlay){return}if(!Ke[Pt]){return}var t=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||false;var n=It(s).get(0);if(!t){if(n.requestFullScreen){n.requestFullScreen()}else if(n.webkitRequestFullScreen){n.webkitRequestFullScreen()}else if(n.mozRequestFullScreen){n.mozRequestFullScreen()}Ke[dt]=It(s)}else{if(rt.find(".parent-wnd").eq(0).width()===It(window).width()){return}if(document.exitFullscreen){document.exitFullscreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}Ke[dt]=null;Ke[ht]=false}var i=e.offsetX/Ke[ft].m_iCanvasWidth;var r=e.offsetX/Ke[ft].m_iCanvasHeight;Ke.EventCallback.mouseEvent(o,2,i,r);e.stopPropagation()})});if(typeof document.fullScreen!=="undefined"){document.addEventListener("fullscreenchange",function(){var e=document.fullscreen||false;Ke.EventCallback.windowFullCcreenChange(e)})}else if(typeof document.webkitIsFullScreen!=="undefined"){document.addEventListener("webkitfullscreenchange",function(){var e=document.webkitIsFullScreen||false;Ke.EventCallback.windowFullCcreenChange(e)})}else if(typeof document.mozFullScreen!=="undefined"){document.addEventListener("mozfullscreenchange",function(){var e=document.mozFullScreen||false;Ke.EventCallback.windowFullCcreenChange(e)})}}function kt(e){if(Ke[ot].aCustom&&Ke[ot].aCustom.length>0){p()}else{var t=rt.find(".parent-wnd").eq(0).children().length;var n=Ke[ot].iWidth%Ke[ot].iCurrentSplit;var i=Ke[ot].iHeight%Ke[ot].iCurrentSplit;var r=(Ke[ot].iWidth-n-Ke[ot].iCurrentSplit*2)/Ke[ot].iCurrentSplit;var o=(Ke[ot].iHeight-i-Ke[ot].iCurrentSplit*2)/Ke[ot].iCurrentSplit;var s=(Ke[ot].iWidth-n)/Ke[ot].iCurrentSplit;var a=(Ke[ot].iHeight-i)/Ke[ot].iCurrentSplit;var u=Ke[ot].iCurrentSplit;for(var l=0;l<t;l++){var f=r+(l%u===u-1?n:0);var c=o+(l+u>=Math.pow(u,2)?i:0);var h=s+(l%u===u-1?n:0);var d=a+(l+u>=Math.pow(u,2)?i:0);rt.find(".parent-wnd").eq(0).children().eq(l).width(h);rt.find(".parent-wnd").eq(0).children().eq(l).height(d);rt.find(".parent-wnd").eq(0).children().eq(l).find(".draw-window").attr("width",h);rt.find(".parent-wnd").eq(0).children().eq(l).find(".draw-window").attr("height",d);rt.find(".parent-wnd").eq(0).children().eq(l).find(".play-window").attr("width",f);rt.find(".parent-wnd").eq(0).children().eq(l).find(".play-window").attr("height",c)}if(Ke[ft]&&e){Ke[ft].resizeCanvas()}rt.find(".parent-wnd").eq(Ke[yt]).find(".play-window").css("border","1px solid "+Ke.oPluginColor.borderColor);rt.find(".parent-wnd").eq(Ke[yt]).children().eq(0).find(".play-window").eq(0).css("border","1px solid "+Ke.oPluginColor.selectBorderColor)}}function p(){var e=Ke[ot].iCurrentSplit;var t=Ke[ot].iCurrentSplit;var n=Ke[ot].aCustom;if(n){e=1/n[0].width;t=1/n[0].height}var i=rt.find(".parent-wnd").eq(0).children().length;var r=Ke[ot].iWidth%e;var o=Ke[ot].iHeight%t;var s=(Ke[ot].iWidth-r-e*2)/e;var a=(Ke[ot].iHeight-o-t*2)/t;var u=(Ke[ot].iWidth-r)/e;var l=(Ke[ot].iHeight-o)/t;for(var f=0;f<i;f++){var c=s+(f%e===e-1?r:0);var h=a+(f+t>=Math.pow(t,2)?o:0);var d=u+(f%e===e-1?r:0);var p=l+(f+t>=Math.pow(t,2)?o:0);rt.find(".parent-wnd").eq(0).children().eq(f).width(d);rt.find(".parent-wnd").eq(0).children().eq(f).height(p);rt.find(".parent-wnd").eq(0).children().eq(f).find(".draw-window").attr("width",d);rt.find(".parent-wnd").eq(0).children().eq(f).find(".draw-window").attr("height",p);rt.find(".parent-wnd").eq(0).children().eq(f).find(".play-window").attr("width",c);rt.find(".parent-wnd").eq(0).children().eq(f).find(".play-window").attr("height",h)}if(n.length>=3&&n[0].width!==n[1].width){for(var v=0;v<n.length;v++){var m=n[v].width*Ke[ot].iWidth;var y=n[v].height*Ke[ot].iHeight;rt.find(".parent-wnd").eq(0).children().eq(v).width(m);rt.find(".parent-wnd").eq(0).children().eq(v).height(y);rt.find(".parent-wnd").eq(0).children().eq(v).find(".draw-window").attr("width",parseInt(m,10));rt.find(".parent-wnd").eq(0).children().eq(v).find(".draw-window").attr("height",parseInt(y,10));rt.find(".parent-wnd").eq(0).children().eq(v).find(".play-window").attr("width",parseInt(m-1,10));rt.find(".parent-wnd").eq(0).children().eq(v).find(".play-window").attr("height",parseInt(y-1,10))}}rt.find(".parent-wnd").eq(Ke[yt]).find(".play-window").css("border","1px solid "+Ke.oPluginColor.borderColor);rt.find(".parent-wnd").eq(Ke[yt]).children().eq(0).find(".play-window").eq(0).css("border","1px solid "+Ke.oPluginColor.selectBorderColor)}function Tt(e,t,o,n,i,r,s){if(!It("#"+Ke[lt][o].windowID).length){return}var a=false;if(n&&i){a=true}Ke[lt][o].bLoad=true;nt.openStream(e,t,function(e){if(!Ke[lt][o].oPlayCtrl){return}if(e.bHead&&!Ke[lt][o].bPlay){Ke[lt][o].bPlay=true;Ke[lt][o].aHead=new Uint8Array(e.buf);Ke[lt][o].oPlayCtrl.PlayM4_OpenStream(e.buf,u,1024*1024*2);if(Ke[lt][o].szSecretKey!==""){setTimeout(function(){Ke[lt][o].oPlayCtrl.PlayM4_SetSecretKey(1,Ke[lt][o].szSecretKey,128);Ke[lt][o].szSecretKey=""},100)}if(Ke[lt][o].aHead[8]===4){Ke[lt][o].oPlayCtrl.PlayM4_SetStreamOpenMode(0)}else{Ke[lt][o].oPlayCtrl.PlayM4_SetStreamOpenMode(1)}Ke[lt][o].oPlayCtrl.PlayM4_SetInputBufSize(l);Ke[lt][o].oPlayCtrl.PlayM4_Play(Ke[lt][o].windowID)}else{var t=new Uint8Array(e.buf);var n=Ke[lt][o].oPlayCtrl.PlayM4_GetInputBufSize();var i=Ke[lt][o].oPlayCtrl.PlayM4_GetYUVBufSize();if(i===2&&!Ke[lt][o].bFirstFrame){Ke[lt][o].bFirstFrame=true;Ke.EventCallback.firstFrameDisplay(o)}var r=Ke[lt][o].oPlayCtrl.PlayM4_GetDecodeFrameType();if(n>l*.5&&n<l*.8&&Ke[lt][o].iRate===1){if(r!==Qe&&!Ke[lt][o].bFrameForward){Ke[lt][o].oPlayCtrl.PlayM4_SetDecodeFrameType(Qe)}Ke.EventCallback.performanceLack()}else if(n>=l*.8){}if(i>10&&i<15&&!Ke[lt][o].bFrameForward){if(r!==Qe){Ke[lt][o].oPlayCtrl.PlayM4_SetDecodeFrameType(Qe)}Ke.EventCallback.performanceLack()}else if(i>15){}if(i<10&&n<l*.5&&Ke[lt][o].iRate===1){if(r!==$e){Ke[lt][o].oPlayCtrl.PlayM4_SetDecodeFrameType($e)}}if(e.statusString){Ke.EventCallback.pluginErrorHandler(o,f,e)}else if(e.type&&e.type==="exception"){Ke.EventCallback.pluginErrorHandler(o,c,e)}else if(e.type==="videoNotSupport"){Ke.EventCallback.pluginErrorHandler(o,et,e)}else{Ke[lt][o].oPlayCtrl.PlayM4_InputData(t,t.length)}}if(Ke[lt][o].szStorageUUID){it.inputData(Ke[lt][o].szStorageUUID,e.buf)}e=null},function(){if(Ke[lt][o].bPlay){Ke.EventCallback.pluginErrorHandler(o,h);Ke[lt][o].bPlay=false;Ke[lt][o].bFrameForward=false;Ke[lt][o].iRate=1;if(Ke[lt][o].oPlayCtrl){Ke[lt][o].oPlayCtrl.PlayM4_Stop();Ke[lt][o].oPlayCtrl.PlayM4_CloseStream()}}}).then(function(e){Ke[lt][o].szStreamUUID=e;nt.startPlay(e,n,i,t).then(function(){if(a){Ke[lt][o].szPlayType="playback";Ke[lt][o].iRate=1;Ke[lt][o].oPlayCtrl.PlayM4_PlayRate(Ke[lt][o].iRate)}else{Ke[lt][o].szPlayType="realplay"}r()},function(e){s(e)})},function(e){s(e)})}var t=function(){function r(e){Lt(this,r);Ke=this;var t={szId:"playWnd",iType:1,iWidth:400,iHeight:300,iMaxSplit:4,iCurrentSplit:2,szBasePath:"./"};this[ot]=It.extend(t,e);var n={border:"#343434",borderSelect:"#FFCC00",background:"#4C4B4B"};n=It.extend(n,e.oStyle);this[ot].oStyle=n;this.oPluginColor={backgroundColor:this[ot].szBackgroundColor?this[ot].szBackgroundColor:this[ot].oStyle.background,subBackgroundColor:this[ot].szSubBackgroundColor?this[ot].szSubBackgroundColor:this[ot].oStyle.background,borderColor:this[ot].szBorderColor?this[ot].szBorderColor:this[ot].oStyle.border,selectBorderColor:this[ot].szSelectBorderColor?this[ot].szSelectBorderColor:this[ot].oStyle.borderSelect};if(this[ot].iCurrentSplit>this[ot].iMaxSplit){this[ot].iCurrentSplit=this[ot].iMaxSplit}this[st]=1;this[at]=-1;this[ut]=this[ot].iMaxSplit*this[ot].iMaxSplit;this[ct]="";this[ht]=false;this[dt]=null;this[pt]=null;this[vt]="";this[mt]="";this[yt]=-1;this[gt]=null;this[St]=[];this[wt]={};this[Pt]=true;this[Rt]="V1.2.0 build20181011";it=new Ot.StorageManager(this[ot].szBasePath+"/transform");if(Ke[ot].szIframeId&&It("#"+Ke[ot].szIframeId).length){rt=It("#"+Ke[ot].szId,It("#"+Ke[ot].szIframeId)[0].contentWindow.document)}else{if(typeof Ke[ot].szId==="string"){rt=It("#"+Ke[ot].szId)}else{rt=Ke[ot].szId}}this[lt]=[];for(var i=0;i<this[ut];i++){this[lt][i]={};this[lt][i].bSelect=false;this[lt][i].bPlay=false;this[lt][i].bPause=false;this[lt][i].bRecord=false;this[lt][i].oPlayCtrl=null;this[lt][i].szPlayType="";this[lt][i].szStorageUUID="";this[lt][i].szStreamUUID="";this[lt][i].aHead=[];this[lt][i].bLoad=false;this[lt][i].windowID=Ke[ot].szId+"canvas_play"+i;this[lt][i].drawID=Ke[ot].szId+"canvas_draw"+i;this[lt][i].iRate=1;this[lt][i].bEZoom=false;this[lt][i].bSetDrawCallback=false;this[lt][i].szSecretKey="";this[lt][i].bFrameForward=false;this[lt][i].iDecodeType=$e;this[lt][i].bFirstFrame=false}xt();bt();this[ft]=new At.ESCanvas(Ke[ot].szId+"canvas_draw0",Ke[ot].szIframeId);if(this[ot].iType===0){rt.hide()}Ct();Ke.EventCallback.windowEventSelect(0)}Dt(r,[{key:"JS_UpdateWindowStyle",value:function n(e){this[ot].oStyle=e;this.oPluginColor={backgroundColor:this[ot].szBackgroundColor?this[ot].szBackgroundColor:this[ot].oStyle.background,subBackgroundColor:this[ot].szSubBackgroundColor?this[ot].szSubBackgroundColor:this[ot].oStyle.background,borderColor:this[ot].szBorderColor?this[ot].szBorderColor:this[ot].oStyle.border,selectBorderColor:this[ot].szSelectBorderColor?this[ot].szSelectBorderColor:this[ot].oStyle.borderSelect};kt()}},{key:"JS_CreateWnd",value:function o(t,n,i){Ke=this;var e=new Promise(function(e){Ke[ot].szId=t;Ke[ot].szIframeId="";bt(n,i);Ke[ft].updateCanvas(Ke[ot].szId+"canvas_draw0",Ke[ot].szIframeId);Ke[ft].clearAllShape();if(i===0||n===0){rt.hide()}else{rt.show()}Ke.EventCallback.windowEventSelect(0);Ct();Ke[pt]=null;e()});return e}},{key:"JS_ShowWnd",value:function t(){var e=new Promise(function(e){e()});return e}},{key:"JS_HideWnd",value:function i(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetWndCover",value:function s(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetWindowControlCallback",value:function a(e){Ke=this;It.extend(Ke[wt],e);Ke[wt]&&Ke[ft].setDrawEventCallback(Ke[wt].onDrawEvent)}},{key:"JS_ArrangeWindow",value:function u(n,i){Ke=this;var e=new Promise(function(e){if(n<Ke[ot].iMaxSplit){Ke[ot].iCurrentSplit=n}else{Ke[ot].iCurrentSplit=Ke[ot].iMaxSplit}if(Et.oTool.isFirefox()){for(var t=0;t<Ke[ot].iMaxSplit*Ke[ot].iMaxSplit;t++){if(Ke[lt][t].oPlayCtrl){Ke[lt][t].oPlayCtrl.PlayM4_ClearCanvas()}}}if(i){Ke[ot].aCustom=i}else{Ke[ot].aCustom=[]}kt(true);Ke.EventCallback.windowEventSelect(0);e()});return e}},{key:"JS_SetSecretKey",value:function l(n,i){Ke=this;var e=new Promise(function(e,t){if(n<0){t();return}if(i===""||typeof i==="undefined"){t();return}Ke[lt][n].szSecretKey=i;e()});return e}},{key:"JS_SetOriginalString",value:function f(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetEncryptString",value:function c(){var e=new Promise(function(e){e("")});return e}},{key:"JS_GetDecryptString",value:function h(){var e=new Promise(function(e){e("")});return e}},{key:"JS_DestroyPlugin",value:function d(){Ke=this;var e=new Promise(function(e){Ke[lt].forEach(function(e){if(e.bPlay){try{e.oPlayCtrl.PlayM4_CloseStream()}catch(t){}}if(e.oPlayCtrl){e.oPlayCtrl.PlayM4_Destroy();e.oPlayCtrl=null;e.bLoad=false}});Ke[ft].setShapeType("");e()});return e}},{key:"JS_Play",value:function p(i,r,o,s,a){Ke=this;var e=new Promise(function(t,n){if(o<0||o>Ke[ut]-1){n();return}if(Ke[lt][o].bFrameForward){n();return}if(Ke[lt][o].bPlay){Ke.JS_Stop(o)}setTimeout(function(){Ke[lt][o].bFirstFrame=false;Ke[lt][o].iDecodeType=$e;if(Ke[lt][o].oPlayCtrl){Tt(i,r,o,s,a,t,n)}else{Ke[lt][o].oPlayCtrl=new qt.JSPlayCtrl(Ke[ot].szBasePath+"/playctrl/",function(e){if(e.cmd==="loaded"&&!Ke[lt][o].bLoad){Tt(i,r,o,s,a,t,n)}else if(e.cmd==="OnebyOne"){if(!e.status){if(!Ke[lt][o].bPause){nt.pause(Ke[lt][o].szStreamUUID);Ke[lt][o].bPause=true}}else{if(Ke[lt][o].bPause){nt.resume(Ke[lt][o].szStreamUUID);Ke[lt][o].bPause=false}}}else if(e.cmd==="GetFrameData"){Ke.EventCallback.pluginErrorHandler(o,et)}},o)}},200)});return e}},{key:"JS_ReversePlay",value:function v(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetTrsPlayBackParam",value:function m(){var e=new Promise(function(e){e()});return e}},{key:"JS_Stop",value:function y(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(Ke[lt][n].szStorageUUID){Ke.JS_StopSave(n)}if(Ke[lt][n].bEZoom){Ke.JS_DisableZoom(n)}if(Ke[at]===n){Ke[at]=-1}nt.stop(Ke[lt][n].szStreamUUID).then(function(){Ke[lt][n].bPlay=false;Ke[lt][n].bFrameForward=false;Ke[lt][n].iRate=1;if(Ke[lt][n].oPlayCtrl){Ke[lt][n].oPlayCtrl.PlayM4_Stop();Ke[lt][n].oPlayCtrl.PlayM4_CloseStream()}setTimeout(function(){e()},500)},function(){setTimeout(function(){t()},500)})});return e}},{key:"JS_Seek",value:function g(n,i,r){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}nt.seek(Ke[lt][n].szStreamUUID,i,r).then(function(){e()},function(e){t(e)})});return e}},{key:"JS_StopRealPlayAll",value:function S(){Ke=this;var e=new Promise(function(e){nt.stopAll();Ke[lt].forEach(function(e,t){if(e.bPlay){if(e.szStorageUUID){Ke.JS_StopSave(t)}if(e.bEZoom){Ke.JS_DisableZoom(t)}if(e.oPlayCtrl){e.oPlayCtrl.PlayM4_Stop();e.oPlayCtrl.PlayM4_CloseStream()}}e.bPlay=false});Ke[at]=-1;e()});return e}},{key:"JS_Pause",value:function w(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[lt][n].bFrameForward){t();return}nt.pause(Ke[lt][n].szStreamUUID).then(function(){Ke[lt][n].oPlayCtrl.PlayM4_Pause(true);Ke[lt][n].bPause=true;e()},function(e){t(e)})});return e}},{key:"JS_Resume",value:function P(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}nt.resume(Ke[lt][n].szStreamUUID).then(function(){if(Ke[st]!==1){Ke[lt][n].iRate=Ke[st];nt.setPlayRate(Ke[lt][n].szStreamUUID,Ke[lt][n].iRate);Ke[lt][n].oPlayCtrl.PlayM4_PlayRate(Ke[lt][n].iRate);if(Ke[st]>1){Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType(Qe)}else{Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType($e)}}if(Ke[lt][n].bFrameForward){Ke[lt][n].oPlayCtrl.PlayM4_Play(Ke[lt][n].windowID);Ke[lt][n].bFrameForward=false}else{Ke[lt][n].oPlayCtrl.PlayM4_Pause(false)}Ke[lt][n].bPause=false;e()},function(e){t(e)})});return e}},{key:"JS_Slow",value:function _(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[lt][n].szPlayType!=="playback"){t();return}if(Ke[lt][n].iRate===-8){t();return}if(Ke[lt][n].bFrameForward){t();return}if(Ke[lt][n].iRate<0&&Ke[lt][n].iRate>-8){Ke[lt][n].iRate*=2}if(Ke[lt][n].iRate===1){Ke[lt][n].iRate*=-2}if(Ke[lt][n].iRate>1){Ke[lt][n].iRate/=2}nt.setPlayRate(Ke[lt][n].szStreamUUID,Ke[lt][n].iRate).then(function(){if(Ke[lt][n].iRate<2){Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType($e)}else{Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType(Qe);Ke[lt][n].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)}Ke[lt][n].oPlayCtrl.PlayM4_PlayRate(Ke[lt][n].iRate);e()},function(e){t(e)})});return e}},{key:"JS_Fast",value:function b(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[lt][n].szPlayType!=="playback"){t();return}if(Ke[lt][n].bFrameForward){t();return}if(Ke[lt][n].iRate===8){t();return}if(Ke[lt][n].iRate===-2){Ke[lt][n].iRate=1}else if(Ke[lt][n].iRate<-2){Ke[lt][n].iRate/=2}else if(Ke[lt][n].iRate>0&&Ke[lt][n].iRate<8){Ke[lt][n].iRate*=2}nt.setPlayRate(Ke[lt][n].szStreamUUID,Ke[lt][n].iRate).then(function(){if(Ke[lt][n].iRate<2){Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType($e)}else{Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType(Qe);if(Ke[lt][n].iRate===8){Ke[lt][n].oPlayCtrl.PlayM4_SetIFrameDecInterval(2)}else{Ke[lt][n].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)}}Ke[lt][n].oPlayCtrl.PlayM4_PlayRate(Ke[lt][n].iRate);e()},function(e){t(e)})});return e}},{key:"JS_Transmission",value:function C(e,i){Ke=this;var t=new Promise(function(t,n){if(e<0||e>Ke[ut]-1){n();return}if(!Ke[lt][e].szStreamUUID){n();return}nt.transmission(Ke[lt][e].szStreamUUID,i).then(function(e){t(e)},function(e){n(e)})});return t}},{key:"JS_FrameForward",value:function k(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[lt][n].iRate!==1){Ke[lt][n].iRate=1;Ke[st]=Ke[lt][n].iRate;nt.setPlayRate(Ke[lt][n].szStreamUUID,Ke[lt][n].iRate).then(function(){Ke[lt][n].oPlayCtrl.PlayM4_PlayRate(Ke[lt][n].iRate);Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType($e);Ke[lt][n].oPlayCtrl.PlayM4_OneByOne();Ke[lt][n].bFrameForward=true},function(e){t(e)})}else{Ke[lt][n].oPlayCtrl.PlayM4_PlayRate(Ke[lt][n].iRate);Ke[lt][n].oPlayCtrl.PlayM4_SetDecodeFrameType($e);Ke[lt][n].oPlayCtrl.PlayM4_OneByOne();Ke[lt][n].bFrameForward=true}e()});return e}},{key:"JS_GetOSDTime",value:function T(n){Ke=this;var e=new Promise(function(i,e){if(n<0||n>Ke[ut]-1){e();return}if(!Ke[lt][n].bPlay){e();return}var t=Ke[lt][n].oPlayCtrl.PlayM4_GetOSDTime(function(e){var t=Et.oTool.isSafari()||Et.oTool.isEdge()?"/":" ";var n=Date.parse(e.replace(/-/g,t))/1e3;i(n)});if(t!==1){e();return}});return e}},{key:"JS_OpenSound",value:function R(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[at]===n){t();return}if(Ke[at]!==-1){Ke[lt][Ke[at]].oPlayCtrl.PlayM4_StopSound()}if(Ke[lt][n].oPlayCtrl.PlayM4_PlaySound(n)!==1){t();return}Ke[at]=n;e()});return e}},{key:"JS_CloseSound",value:function x(){Ke=this;var e=new Promise(function(e,t){var n=Ke[at];if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}if(Ke[lt][n].oPlayCtrl.PlayM4_StopSound()!==1){t();return}Ke[at]=-1;e()});return e}},{key:"JS_GetVolume",value:function I(e){Ke=this;var t=new Promise(function(t){Ke[lt][e].oPlayCtrl.PlayM4_GetVolume(function(e){t(e)})});return t}},{key:"JS_SetVolume",value:function D(n,i){Ke=this;var e=new Promise(function(e,t){if(Ke[lt][n].oPlayCtrl.PlayM4_SetVolume(i)!==1){t();return}e()});return e}},{key:"JS_EnableZoom",value:function E(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}It(".draw-window").unbind();Ke[ft]=new At.ESCanvas(Ke[ot].szId+"canvas_draw"+n,Ke[ot].szIframeId);Ke[ft].setShapeType("Rect");Ke[ft].setDrawStyle("#ff0000","",0);Ke[ft].setDrawStatus(true,function(e){if(e.startPos&&e.endPos){if(e.startPos[0]>e.endPos[0]){Ke[lt][n].oPlayCtrl.PlayM4_SetDisplayRegion(null,false)}else{Ke[lt][n].oPlayCtrl.PlayM4_SetDisplayRegion({left:e.startPos[0],top:e.startPos[1],right:e.endPos[0],bottom:e.endPos[1]},true)}}});Ke[lt][n].bEZoom=true;e()});return e}},{key:"JS_DisableZoom",value:function q(n){Ke=this;var e=new Promise(function(e,t){if(n<0||n>Ke[ut]-1){t();return}if(!Ke[lt][n].bPlay){t();return}Ke[ft].setDrawStatus(false);if(Ke[lt][n].oPlayCtrl.PlayM4_SetDisplayRegion(null,false)!==1){t();return}Ke[lt][n].bEZoom=false;Ke[wt]&&Ke[wt].onDrawEvent&&Ke[ft].setDrawEventCallback(Ke[wt].onDrawEvent);e()});return e}},{key:"JS_CapturePicture",value:function O(r,o,s){Ke=this;var e=new Promise(function(t,n){if(r<0||r>Ke[ut]-1){n();return}if(!Ke[lt][r].bPlay){n();return}if(!s){s="JPEG"}if(s==="BMP"){var e=Ke[lt][r].oPlayCtrl.PlayM4_GetBMP(function(e){if(e===6){n(tt)}else{Et.oTool.downloadFile(e,o+".BMP");t()}});if(e!==1){n(tt)}}else if(s==="JPEG"){var i=Ke[lt][r].oPlayCtrl.PlayM4_GetJPEG(function(e){if(e===6){n(tt)}else{Et.oTool.downloadFile(e,o+".jpeg");t()}});if(i!==1){n(tt)}}});return e}},{key:"JS_StartSave",value:function A(o,s){Ke=this;var e=new Promise(function(t,e){if(o<0||o>Ke[ut]-1){e();return}if(!Ke[lt][o].bPlay){e();return}if(s.indexOf(".mp4")<0){s=s+".mp4"}var n=Ke[lt][o].aHead;var i=0;if(Ke[lt][o].szPlayType==="playback"){i=1}it.startRecord(s,n,2,i,{cbEventHandler:function r(e){Ke.EventCallback.pluginErrorHandler(o,e)}}).then(function(e){Ke[lt][o].szStorageUUID=e;t()},function(){e()})});return e}},{key:"JS_StopSave",value:function L(n){Ke=this;var e=new Promise(function(e,t){if(!Ke[lt][n].szStorageUUID){t();return}it.stopRecord(Ke[lt][n].szStorageUUID).then(function(){Ke[lt][n].szStorageUUID="";e()},function(e){t(e)})});return e}},{key:"JS_StartTalk",value:function M(){var e=new Promise(function(e){e()});return e}},{key:"JS_StopTalk",value:function F(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetPlayMode",value:function W(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetFullScreenCapability",value:function B(t){Ke=this;var e=new Promise(function(e){Ke[Pt]=!!t;e()});return e}},{key:"JS_FullScreenDisplay",value:function N(n){Ke=this;var e=new Promise(function(e){if(n){var t=rt.get(0);if(t.requestFullScreen){t.requestFullScreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}else if(t.mozRequestFullScreen){t.mozRequestFullScreen()}}Ke[ht]=n;e()});return e}},{key:"JS_FullScreenSingle",value:function z(e){Ke=this;if(!Ke[lt][e].bPlay){return}var t=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||false;var n=rt.find(".parent-wnd").eq(0).children().eq(e).get(0);if(!t){if(n.requestFullScreen){n.requestFullScreen()}else if(n.webkitRequestFullScreen){n.webkitRequestFullScreen()}else if(n.mozRequestFullScreen){n.mozRequestFullScreen()}Ke[dt]=rt.find(".parent-wnd").eq(0).children().eq(e)}else{if(rt.find(".parent-wnd").eq(0).width()===It(window).width()){return}if(document.exitFullscreen){document.exitFullscreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}Ke[dt]=null;Ke[ht]=false}}},{key:"JS_EnableIVS",value:function J(){var e=new Promise(function(e){e()});return e}},{key:"JS_SRInit",value:function U(){var e=new Promise(function(e){e()});return e}},{key:"JS_SRPTZ",value:function H(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetPlaybackDrawType",value:function j(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetLocalConfig",value:function G(){var t={protocolType:0,streamType:0,packgeSize:1,playWndType:0,buffNumberType:2,recordPath:"",capturePath:"",playbackFilePath:"",playbackPicPath:"",downloadPath:"",snapScenePicPath:"",snapViewPicPath:"",ivsMode:-1,realPlayAll:0,captureFileFormat:0,osdPosInfo:0,osdPicInfo:1,showWizard:1,secretKey:"",showFireBox:0,showFireDistance:0,showFireMaxTemperature:0,showFireMaxTemperaturePos:0,showTemperaturePoint:0,showTemperatureLine:0,showTemperatureBox:0,captureIncludeTemperatureInfo:0};var e=new Promise(function(e){e(t)});return e}},{key:"JS_SetLocalConfig",value:function V(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetLastError",value:function Y(){var n=0;var e=new Promise(function(e,t){if(n<0){t()}else{e(n)}});return e}},{key:"JS_OpenFileBrowser",value:function X(i,r){Ke=this;var e=new Promise(function(t){Ke[pt]=null;var n=window.document.createElement("input");n.type="file";if(r.toLowerCase()==="bmp"){n.accept="image/bmp"}if(i===0){n.setAttribute("webkitdirectory","")}n.addEventListener("change",function(){var e="";if(i===1){Ke[pt]=n.files[0];e=n.files[0].name}else if(i===0){Ke[pt]=n.files}t(e)});var e=document.createEvent("MouseEvents");e.initEvent("click",true,true);n.dispatchEvent(e)});return e}},{key:"JS_OpenDirectory",value:function Z(){var e=new Promise(function(e){e()});return e}},{key:"JS_StartAsynUpload",value:function K(i,e,r,t,o){Ke=this;var n=new Promise(function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200){Ke[vt]=n.responseText;e()}else{t(n)}}};if(o){if(i.indexOf("?")>=0){i+="&token="+r}else{i+="?token="+r}}n.open("put",i,true);n.send(Ke[pt])});return n}},{key:"JS_StopAsynUpload",value:function $(){Ke=this;var e=new Promise(function(e){Ke[vt]="";e()});return e}},{key:"JS_UploadFile",value:function Q(i,r,e,o,s){Ke=this;var t=new Promise(function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==200){t({readyState:4,status:n.status,responseXML:n.responseText?Et.oTool.parseXmlFromStr(n.responseText):null,errorInfo:n.responseText})}else{e()}}};if(s){if(i.indexOf("?")>=0){i+="&token="+r}else{i+="?token="+r}}n.open("put",i,false);if(o){n.setRequestHeader("Content-Type",o)}else{n.setRequestHeader("Content-Type","oct/stream")}n.send(Ke[pt])});return t}},{key:"JS_GetUploadErrorInfo",value:function ee(){Ke=this;var e=new Promise(function(e,t){if(typeof Ke[vt]==="string"&&Ke[vt].length>0){e(Ke[vt])}else{t()}});return e}},{key:"JS_DownloadFile",value:function te(t){var e=new Promise(function(e){It("body").append('<a id="jsplugin_download_a" href="'+t+'"><li id="jsplugin_download_li"></li></a>');It("#jsplugin_download_li").trigger("click");It("#jsplugin_download_a").remove();e()});return e}},{key:"JS_DownloadFileNoPlugin",value:function ne(t){var e=new Promise(function(e){It("body").append('<a id="jsplugin_download_a" href="'+t+'"><li id="jsplugin_download_li"></li></a>');It("#jsplugin_download_li").trigger("click");It("#jsplugin_download_a").remove();e()});return e}},{key:"JS_StartUpgrade",value:function ie(e,t,n,i,r,s){Ke=this;var o=new Promise(function(i,r){if(!e){r();return}Ke[vt]=0;var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===4){if(o.status===200){Ke[vt]=100;i()}else{Ke[vt]=1;var e=Et.oTool.parseXmlFromStr(o.responseText);if(It(e).find("subStatusCode").text()==="lowPrivilege"){r(403)}else if(It(e).find("MErrDevSelfEx").length>0||It(e).find("MErrCode").length>0){var t=parseInt(It(e).find("MErrDevSelfEx").text(),10);var n=parseInt(It(e).find("MErrCode").text(),10);if(t>0){r(t)}else if(n>0){r(n)}else{r()}}else{r()}}}};if(s){if(e.indexOf("?")>=0){e+="&token="+n}else{e+="?token="+n}}o.open("put",e,true);o.send(Ke[pt]);Ke[mt]=t});return o}},{key:"JS_StopUpgrade",value:function re(){Ke=this;var e=new Promise(function(e){Ke[pt]=null;e()});return e}},{key:"JS_GetUpgradeStatus",value:function oe(){Ke=this;var e=new Promise(function(e){if(Ke[vt]===100){e(0)}e(Ke[vt])});return e}},{key:"JS_GetUpgradeProgress",value:function se(){Ke=this;var e=new Promise(function(e){var t=0;if(!Ke[mt]){e(t)}var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200){t=parseInt(It(Et.oTool.parseXmlFromStr(n.responseText)).find("percent").text(),10)}}};n.open("get",Ke[mt],false);n.send(null);if(Ke[vt]===100){e(100)}e(t)});return e}},{key:"JS_ExportDeviceLog",value:function ae(p,v,m){var e=new Promise(function(e){var t=[];var n=[];t=t.concat(It(p).find("searchMatchItem").toArray());for(var i=0;i<t.length;i++){n[i]=[];n[i][0]=It(t[i]).find("logtime").text().replace("T"," ").replace("Z","");n[i][1]=It(t[i]).find("majortype").text();n[i][2]=It(t[i]).find("minortype").text();n[i][3]=It(t[i]).find("channelid").text();n[i][4]=It(t[i]).find("userName").text();n[i][5]=It(t[i]).find("remoteaddress").text()}var r=[];function o(e){r.push(e);var t=e.slice("");if(/^[\u4e00-\u9fa5]/.test(e)){for(var n=0;n<30-t.length*2;n++){r.push(" ")}}else{for(var i=0;i<30-t.length;i++){r.push(" ")}}}o(" ");o(It(p).find("laLogTime").text());o(It(p).find("laLogMajorType").text());o(It(p).find("laLogMinorType").text());o(It(p).find("laLogChannel").text());o(It(p).find("laLogRemoteUser").text());o(It(p).find("laLogRemoteIP").text());r.push("\r\n");for(var s=0;s<n.length;s++){var a=(s+1).toString();o(a);for(var u=0;u<6;u++){o(n[s][u])}r.push("\r\n")}r=r.join("");var l="\ufeff";var f=void 0;if(m===5){f=new Blob([l+r],{type:"text/csv"})}else{f=new Blob([r],{type:"text/plain"});v="Log.txt"}var c=(window.URL||window.webkitURL).createObjectURL(f);var h=window.document.createElement("a");h.href=c;h.download=v;var d=document.createEvent("MouseEvents");d.initEvent("click",true,true);h.dispatchEvent(d);e()});return e}},{key:"outCsv",value:function ue(e,t,n,i){var r="";var o="";for(var s=0;s<n.length;s++){o+=It(e).find(n[s]).eq(0).text()+","}o=o.slice(0,-1);r+=o+"\r\n";for(var a=0;a<i.length;a++){o="";for(var u=0;u<n.length;u++){o+='"'+i[a][u]+'",'}o.slice(0,o.length-1);r+=o+"\r\n"}if(r===""){return}var l="";l+=t;var f="\ufeff";if(window.navigator.msSaveOrOpenBlob){var c=f+r;var h=new Blob([decodeURIComponent(encodeURI(c))],{type:"data:text/csv;charset=utf-8,"});navigator.msSaveBlob(h,l+".csv")}else{f="data:text/csv;charset=utf-8,\ufeff";var d=f+r;var p=encodeURI(d).replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/\s/g,"%20").replace(/#/g,"%23");var v=document.createElement("a");v.setAttribute("href",p);v.setAttribute("download",l+".csv");document.body.appendChild(v);v.click()}}},{key:"JS_ExportReport",value:function le(m,y,g){var S=this;var e=new Promise(function(e){var t=[];var n=[];var i=It(m).find("NameList").text().split(",");t=t.concat(It(m).find("tDataItem").toArray());for(var r=0;r<t.length;r++){n[r]=[];for(var o=0;o<i.length;o++){n[r][o]=It(t[r]).find(i[o]).text();if(i[o]==="logtime"){n[r][o]=n[r][o].replace("T"," ").replace("Z","")}}}var s=[];if(g===1){S.outCsv(m,y,i,n)}else{var a=function a(e){s.push(e);var t=e.slice("");if(/^[\u4e00-\u9fa5]/.test(e)){for(var n=0;n<30-t.length*2;n++){s.push(" ")}}else{for(var i=0;i<30-t.length;i++){s.push(" ")}}};a(" ");for(var u=0;u<i.length;u++){a(It(m).find(i[u]).eq(0).text())}s.push("\r\n");for(var l=0;l<n.length;l++){var f=(l+1).toString();a(f);for(var c=0;c<i.length;c++){a(n[l][c])}s.push("\r\n")}s=s.join("");var h=void 0;h=new Blob([s],{type:"text/plain"});var d=(window.URL||window.webkitURL).createObjectURL(h);var p=window.document.createElement("a");p.href=d;p.download=y;var v=document.createEvent("MouseEvents");v.initEvent("click",true,true);p.dispatchEvent(v)}e()});return e}},{key:"JS_StartAsyncDownload",value:function fe(i,e,r,o){var t=new Promise(function(e){var t=It(Et.oTool.parseXmlFromStr(o)).find("playbackURI").eq(0).text();var n=i+(i.indexOf("?")>=0?"&":"?")+"playbackURI="+t;It("body").append('<a id="jsplugin_download_a" href="'+n+'" download='+r+'><li id="jsplugin_download_li"></li></a>');It("#jsplugin_download_li").trigger("click");It("#jsplugin_download_a").remove();e()});return t}},{key:"JS_StopAsyncDownload",value:function ce(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetDownloadStatus",value:function he(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetDownloadProgress",value:function de(){var e=new Promise(function(e){e()});return e}},{key:"JS_EnablePDC",value:function pe(){var e=new Promise(function(e){e()});return e}},{key:"JS_Resize",value:function ve(n,i){Ke=this;var e=new Promise(function(e){setTimeout(function(){var e=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||false;if(Ke[ht]&&e){n=It(window).width();i=It(window).height();rt.find("div").eq(0).css({width:n,height:i})}else{rt.find("div").eq(0).css({width:n,height:i})}Ke[ot].iWidth=n;Ke[ot].iHeight=i;if(Et.oTool.isFirefox()){for(var t=0;t<Ke[ot].iMaxSplit*Ke[ot].iMaxSplit;t++){if(Ke[lt][t].oPlayCtrl){Ke[lt][t].oPlayCtrl.PlayM4_ClearCanvas()}}}kt();if(Ke[dt]&&e){n=It(window).width();i=It(window).height();Ke[dt].css({width:n,height:i});Ke[dt].find("canvas").attr("width",n-2);Ke[dt].find("canvas").attr("height",i-2)}if(!e){Ke[dt]=null;Ke[ht]=false}Ke[ft].resizeCanvas();Ke[ft].canvasRedraw()},80);e()});return e}},{key:"JS_SetDrawCallback",value:function me(n,i,e,t,r){Ke=this;var o=new Promise(function(e,t){Ke[gt]=null;Ke[St][n]=null;if(!Ke[lt][n].bPlay){t();return}if(i){It(".draw-window").unbind();Ke[gt]=r;Ke[St][n]=r;Ke[ft]=new At.ESCanvas(Ke[ot].szId+"canvas_draw"+n,Ke[ot].szIframeId);Ke[ft].setShapeType("Rect");Ke[ft].setDrawStyle("#ff0000","",0);Ke[ft].setDrawStatus(true,function(e){r(e)});Ke[lt][n].bSetDrawCallback=true}else{Ke[ft].setDrawStatus(false);Ke[lt][n].bSetDrawCallback=false;Ke[wt]&&Ke[wt].onDrawEvent&&Ke[ft].setDrawEventCallback(Ke[wt].onDrawEvent)}e()});return o}},{key:"JS_SetDrawStatus",value:function ye(n){Ke=this;var e=new Promise(function(e,t){if(!Ke[ft]){t();return}Ke[ft].setDrawStatus(n);e()});return e}},{key:"JS_ClearRegion",value:function ge(){Ke=this;var e=new Promise(function(e,t){if(!Ke[ft]){t();return}Ke[ft].clearAllShape();e()});return e}},{key:"JS_SetDrawShapeInfo",value:function Se(i,r){Ke=this;var e=new Promise(function(e,t){if(typeof i==="undefined"||i===""){t();return}if(""!==r.id&&"Rect"===i){Ke[ft].deleteRepeatByIdAndType(r.id,"Rect")}Ke[ft].setShapeType(i);Ke[ft].setDrawStatus(true);Ke[ft].setDrawMutiShapeOneTime(false);Ke[ft].setDrawStyle(r.drawColor||"",r.fillColor||r.drawColor||"",r.translucent||0);if(r.maxShapeSupport&&r.maxShapeSupport>0){if(r.id){var n=Ke[ft].getAllShapesInfo().length;Ke[ft].setMaxShapeSupport(n+1)}else{Ke[ft].setMaxShapeSupport(r.maxShapeSupport)}}Ke[ft].setCurrentShapeInfo({szId:r.id,szTips:r.tips,lineType:r.lineType,iMinClosed:r.minPointSupport||r.minClosed||3,iMaxPointNum:r.maxPointSupport||r.pointNumMax||11,iPolygonType:1,szDrawColor:r.drawColor||"",szFillColor:r.fillColor||r.drawColor||"",iTranslucent:r.translucent||0,iRedrawMode:r.redrawMode||0,type:r.type});e()});return e}},{key:"JS_SetGridInfo",value:function we(i){Ke=this;var e=new Promise(function(e,t){if(i===null||typeof i==="undefined"){t();return}var n="#ff0000";if(i.drawColor){n=i.drawColor}Ke[ft].setDrawStyle(n);Ke[ft].setShapesInfoByType("Grid",[{gridMap:i.gridMap,gridColNum:i.gridColNum,gridRowNum:i.gridRowNum}]);Ke[ft].setShapeType("Grid");e()});return e}},{key:"JS_GetGridInfo",value:function Pe(){Ke=this;var e=new Promise(function(e,t){if(!Ke[ft]){t()}var n=Ke[ft].getShapesInfoByType("Grid")[0];if(!n){t()}e({gridColNum:n.gridColNum,gridRowNum:n.gridRowNum,gridMap:n.gridMap})});return e}},{key:"JS_SetRectInfo",value:function _e(s){Ke=this;var e=new Promise(function(e,t){if(typeof s==="undefined"||!s.length){t();return}if(s[0]&&s[0].maxShapeSupport&&s[0].maxShapeSupport>0){Ke[ft].setMaxShapeSupport(s[0].maxShapeSupport)}else{Ke[ft].setMaxShapeSupport(25)}Ke[ft].setDrawMutiShapeOneTime(false);var n=[];if(s.length>0){for(var i=0,r=s.length;i<r;i++){var o=s[i].points;if(o.length>0){n.push(s[i])}}}if(n.length>0){Ke[ft].setShapesInfoByType("Rect",n);e()}else{t()}});return e}},{key:"JS_GetRectInfo",value:function be(){Ke=this;var e=new Promise(function(e,t){if(!Ke[ft]){t()}var n=[];var i=Ke[ft].getShapesInfoByType("Rect");for(var r=0,o=i.length;r<o;r++){var s=i[r];var a={id:s.id,points:s.points,closed:s.closed,tips:s.tips};n.push(a)}e(n)});return e}},{key:"JS_SetPolygonInfo",value:function Ce(s){Ke=this;var e=new Promise(function(e,t){if(typeof s==="undefined"||!s.length){t();return}Ke[ft].setMaxShapeSupport(25);Ke[ft].setDrawMutiShapeOneTime(false);Ke[ft].setShapeType("");var n=[];if(s.length>0){for(var i=0,r=s.length;i<r;i++){var o=s[i].points;if(o.length>0){Ke[ft].setCurrentShapeInfo({szId:s[i].id});n.push(s[i])}}}if(n.length>0){Ke[ft].setShapesInfoByType("Polygon",n);e()}else{t()}});return e}},{key:"JS_GetPolygonInfo",value:function ke(){Ke=this;var e=new Promise(function(e){var t=[];var n=Ke[ft].getShapesInfoByType("Polygon");for(var i=0,r=n.length;i<r;i++){var o=n[i];var s={id:o.id,points:o.points,closed:o.closed,tips:o.tips,drawColor:o.drawColor};t.push(s)}e(t)});return e}},{key:"JS_SetLineInfo",value:function Te(f){Ke=this;var e=new Promise(function(e,t){if(typeof f==="undefined"||!f.length){t();return}var n=[];Ke[ft].setMaxShapeSupport(25);Ke[ft].setDrawMutiShapeOneTime(false);if(f.length>0){for(var i=0,r=f.length;i<r;i++){var o=Ke[ft].getShapesInfoByType("Line");for(var s=0,a=o.length;s<a;s++){var u=o[s];if(f[i].id===u.id){Ke[ft].deleteRepeatByIdAndType(f[i].id,"Line")}}var l=f[i].points;if(l.length>0){n.push(f[i])}}}if(n.length>0){Ke[ft].setShapesInfoByType("Line",n);Ke[ft].setShapeType("");e()}else{t()}});return e}},{key:"JS_GetLineInfo",value:function Re(){Ke=this;var e=new Promise(function(e){var t=[];var n=Ke[ft].getShapesInfoByType("Line");for(var i=0,r=n.length;i<r;i++){var o=n[i];var s={id:o.id,lineType:o.lineType,points:o.points,tips:o.tips,direction:o.direction,closed:o.closed,pdcArrow:o.pdcArrow};t.push(s)}e(t)});return e}},{key:"JS_SetTextOverlay",value:function xe(v){Ke=this;var e=new Promise(function(e){Ke[ft]=null;Ke[ft]=new At.ESCanvas(Ke[ot].szId+"canvas_draw"+Ke[yt],Ke[ot].szIframeId);Ke[ft].setMaxShapeSupport(25);Ke[ft].clearShapeByType("RectOSD");Ke[ft].setDrawStyle("#ff0000","#343434",.7);var t="";var n="";var i=0;var r=0;if(v.channelName){t=v.channelName.name;n=v.channelName.enable.toString();i=v.channelName.point[0];r=v.channelName.point[1];Ke[ft].addOSDShape(t,n,i,r,{szOSDType:"overlay-ch",szAlignment:v.channelName.alignment||"0"})}if(v.date){var o=v.date.dateType;var s=v.date.showWeekDay;var a=v.date.timeFormat;var u="";var l="";t="";n=v.date.enable.toString();i=v.date.point[0];r=v.date.point[1];var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var c=new Date;if(s){u=f[c.getDay()]}if(a==="24hour"){l=""}else{l="AM/PM"}switch(o){case 0:t="YYYY-MM-DD "+u+" hh:mm:ss "+l;break;case 1:t="MM-DD-YYYY "+u+" hh:mm:ss "+l;break;case 2:t="CHR-YYYY-MM-DD "+u+" hh:mm:ss "+l;break;case 3:t="CHR-MM-DD-YYYY "+u+" hh:mm:ss "+l;break;case 4:t="DD-MM-YYYY "+u+" hh:mm:ss "+l;break;case 5:t="CHR-DD-MM-YYYY "+u+" hh:mm:ss "+l;break;default:break}Ke[ft].addOSDShape(t,n,i,r,{szOSDType:"overlay-date",szDateStyle:o.toString(),szDisplayWeek:s.toString(),szClockType:a,szAlignment:v.date.alignment||"0"})}if(v.text){var h="";var d=v.text.length;t="";n="";i=0;r=0;for(var p=0;p<d;p++){h=v.text[p].id;t=v.text[p].text;n=v.text[p].enable.toString();i=v.text[p].point[0];r=v.text[p].point[1];Ke[ft].addOSDShape(t,n,i,r,{szOSDType:"overlay-text",szId:h,szAlignment:v.text[p].alignment||"0"})}}Ke[wt]&&Ke[wt].onDrawEvent&&Ke[ft].setDrawEventCallback(Ke[wt].onDrawEvent);e()});return e}},{key:"JS_GetTextOverlay",value:function Ie(){Ke=this;var e=new Promise(function(e){var t={};var n=[];var i=Ke[ft].getShapesInfoByType("RectOSD");for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.szOSDType==="overlay-ch"){t.channelName={enable:s.szEnabled==="true",name:s.szText,alignment:s.szAlignment||"0",point:[s.iPositionX,s.iPositionY]}}if(s.szOSDType==="overlay-date"){t.date={enable:s.szEnabled==="true",alignment:s.szAlignment||"0",dateType:parseInt(s.szDateStyle,10),timeFormat:s.szClockType,showWeekDay:s.szDisplayWeek==="true",point:[s.iPositionX,s.iPositionY]}}if(s.szOSDType==="overlay-text"){n.push({id:s.szId,enable:s.szEnabled==="true",alignment:s.szAlignment||"0",text:s.szText,point:[s.iPositionX,s.iPositionY]})}}t.text=n;e(t)});return e}},{key:"JS_SetPointInfo",value:function De(f){Ke=this;var e=new Promise(function(e,t){if(typeof f==="undefined"||!f.length){t();return}var n=[];Ke[ft].setMaxShapeSupport(25);Ke[ft].setDrawMutiShapeOneTime(false);if(f.length>0){for(var i=0,r=f.length;i<r;i++){var o=Ke[ft].getShapesInfoByType("Point");for(var s=0,a=o.length;s<a;s++){var u=o[s];if(f[i].id===u.id){Ke[ft].deleteRepeatByIdAndType(f[i].id,"Point")}}var l=f[i].points;if(l.length>0){f[i].points=[l];n.push(f[i])}}}if(n.length>0){Ke[ft].setShapesInfoByType("Point",n);e()}else{t()}});return e}},{key:"JS_GetPointInfo",value:function Ee(){Ke=this;var e=new Promise(function(e){var t=[];var n=Ke[ft].getShapesInfoByType("Point");for(var i=0,r=n.length;i<r;i++){var o=n[i];var s={id:o.id,point:o.points,tips:o.tips,type:o.type,drawColor:o.drawColor};t.push(s)}e(t)});return e}},{key:"JS_ClearShapeByType",value:function qe(o,s){Ke=this;var e=new Promise(function(e,t){if(!Ke[ft]){t();return}if(o==="Choosed"){var n=Ke[ft].deleteChoosedShape();e(n)}else if(s&&s.length>0){for(var i=0,r=s.length;i<r;i++){Ke[ft].deleteTargetShape(o,s[i])}e()}else{Ke[ft].clearShapeByType(o);e()}});return e}},{key:"JS_PlayWithImg",value:function Oe(e,r){Ke=this;if(this[ot].iType===0){return Promise.resolve()}var t;var o;if(this[ot].szIframeId&&It("#"+this[ot].szIframeId).length){t=It("#"+this[ot].szId+"canvas_play"+e,It("#"+this[ot].szIframeId)[0].contentWindow.document);o=It("#playImg"+e,It("#"+this[ot].szIframeId)[0].contentWindow.document)}else{t=It("#"+this[ot].szId+"canvas_play"+e);o=It("#playImg"+e)}var n=t.width();var i=t.height();t.hide();o.show();o.css({width:n+"px",height:i+"px",border:"1px solid "+Ke.oPluginColor.borderColor,position:"absolute",left:0});Ke[lt][e].bPlay=true;return new Promise(function(e,t){function n(){o.unbind("load",n);o.unbind("error",i);e()}function i(){o.unbind("error",i);o.unbind("load",n);t()}o.bind("load",n);o.bind("error",i);o.attr("src",r)})}},{key:"JS_SetIsHttps",value:function Ae(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetReconnectInfo",value:function Le(){var e=new Promise(function(e){e()});return e}},{key:"JS_CheckUpdate",value:function Me(){var e=new Promise(function(e){e(false)});return e}},{key:"JS_SelectShape",value:function Fe(n,i){var e=new Promise(function(e,t){if(!n){t();return}Ke[ft].selectShapeById(n,""+i);e()});return e}},{key:"JS_GetPictureSize",value:function We(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetOriginResolution",value:function Be(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetPlayWndMode",value:function Ne(){var e=new Promise(function(e){e()});return e}},{key:"JS_UpdateWindowStyle",value:function n(t){var e=new Promise(function(e){Ke[ot].oStyle=t;kt();e()});return e}},{key:"JS_CuttingPartWindow",value:function ze(){var e=new Promise(function(e){e()});return e}},{key:"JS_RepairPartWindow",value:function Je(){var e=new Promise(function(e){e()});return e}},{key:"JS_ClearAllCanvas",value:function Ue(){var e=new Promise(function(e){It(".draw-window").each(function(){It(this)[0].getContext("2d").clearRect(0,0,It(this).width(),It(this).height())});e()});return e}},{key:"JS_DestroyAll",value:function e(){this.JS_DestroyPlugin();return Promise.resolve()}},{key:"JS_SetPackageType",value:function He(){return Promise.resolve()}},{key:"JS_SetSnapDrawWndIndex",value:function je(e){Ke=this;Ke[_t]=e;if(Ke[_t]<0||Ke[_t]>Ke[ut]-1){e=Ke[yt]}Ke.EventCallback.windowEventSelect(e,true);return Promise.resolve()}},{key:"JS_GetSlfPointList",value:function Ge(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetSlfVersion",value:function Ve(){var e=new Promise(function(e){e()});return e}},{key:"JS_ExistGetSlfPointList",value:function Ye(){var e=new Promise(function(e){e()});return e}},{key:"JS_GetIpcImportErrorInfo",value:function Xe(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetWindowSelected",value:function Ze(e){rt.find(".parent-wnd").eq(0).find(".play-window").css("border","1px solid "+Ke.oPluginColor.borderColor);rt.find(".parent-wnd").eq(0).children().eq(e).find(".play-window").eq(0).css("border","1px solid "+Ke.oPluginColor.selectBorderColor);Ke.EventCallback.windowEventSelect(e);return Promise.resolve()}}]);return r}();return t}();t.JSPlugin=e}).call(this,i(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StreamClient=undefined;var d=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var i=n(8);var p=u(i);var r=n(66);var o=n(67);var s=n(68);var a=n(71);function u(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l=function(){var C=Symbol("WEBSOCKET");var c=Symbol("WEBSOCKETALL");var k=Symbol("GETINDEX");var T=Symbol("PROTOCOLVERSION");var R=Symbol("CIPHERSUITES");var h=new r.DirectDeviceCustom;var x=new o.DirectDevice;var I=new s.LiveMedia;var D=new a.LocalService;var e=function(){function e(){v(this,e);this[T]="0.1";this[R]=0;this[C]=[];this[c]=[];this.ERRORS={};this[k]=function(e){var t=-1;for(var n=0,i=this[C].length;n<i;n++){if(this[C][n].id===e){t=n;break}}return t}}d(e,[{key:"openStream",value:function f(e,v,m,n){var t=false;if(e.indexOf("[")>-1){t=true}var y=this;var i=e.split("://");var r=i[0];var g="";var S=7681;var w=1;var P=0;if(t){g=i[1].split("]:")[0]+"]";S=Math.floor(i[1].split("]:")[1].split("/")[0]);w=Math.floor(i[1].split("]:")[1].split("/")[1]/100);P=Math.floor(i[1].split("]:")[1].split("/")[1]%100)-1}else{g=i[1].split(":")[0];S=Math.floor(i[1].split(":")[1].split("/")[0]);w=Math.floor(i[1].split(":")[1].split("/")[1]/100);P=Math.floor(i[1].split(":")[1].split("/")[1]%100)-1}if(w===0){P=0}v=v||{};var o="&sessionID=";if(v.token&&!v.playURL){o="&token="}var s="";if(v.secondAuth){var a=v.secondAuth.split("&");if(a&&a.length){a.forEach(function(e){if(-1!==e.indexOf("security=")||-1!==e.indexOf("iv=")){s+="&"+e}else{var t=e.split("=");if(t&&2===t.length){v[t[0]]=t[1]}}})}}var u=v.sessionID||v.session||(v.playURL?"":v.token)||"";var _=new window.WebSocket(r+"://"+g+":"+S+(v.mode?"/"+v.mode:"")+"?version="+y[T]+"&cipherSuites="+y[R]+o+u+s+(v.proxy?"&proxy="+v.proxy:""));_.binaryType="arraybuffer";var b=p["default"].v4();var l=new Promise(function(d,p){_.onopen=function(){y[c].push(h.createClientObject(_,b,w,P));if(!v.playURL&&!v.sessionID&&!v.deviceSerial&&!v.token){y[C].push(h.createClientObject(_,b,w,P));d(b)}};_.onmessage=function(e){if(typeof e.data==="string"){var t=JSON.parse(e.data);var n=y[k](b);if(t&&t.version&&t.cipherSuite){y[T]=t.version;y[R]=parseInt(t.cipherSuite,10);if(t&&t.PKD&&t.rand){y[C].push(I.createClientObject(_,b,t.PKD,t.rand,v))}else{var i="live://"+g+":"+S+"/"+w+"/"+P;if(y[R]===-1){y[C].push(D.createClientObject(_,b,i,v))}else{y[C].push(x.createClientObject(_,b,i))}}d(b);return}if(t&&t.sdp){var r=x.getMediaFromSdp(t.sdp);var o=x.getMediaType(t.sdp);if("0004"===o){m({type:"videoNotSupport"})}else{m({bHead:true,buf:r})}}if(t&&t.cmd){if(t.cmd==="end"){m({type:"exception",cmd:t.cmd})}}if(t&&t.statusString){if(t.statusString.toLowerCase()==="ok"){if(y[C][n].resolve){y[C][n].resolve(t)}}if(t.statusString.toLowerCase()!=="ok"){var s=x.getError(t);if(n>-1){if(y[C][n].reject){y[C][n].reject(s)}}else{p(s)}}}}else{var a={};var u=new Uint8Array(e.data);if(u.byteLength===64||u.byteLength===40){var l=-1;var f=u.byteLength;for(var c=0;c<f;c++){if(u[c]===73&&u[c+1]===77&&u[c+2]===75&&u[c+3]===72){l=c;break}}if(l!==-1){var h=u.slice(l,l+40);a={bHead:true,buf:h}}else{a={bHead:false,buf:u}}}else{a={bHead:false,buf:u}}m(a);u=null;a=null;e=null}};_.onclose=function(){for(var e=0,t=y[C].length;e<t;e++){if(y[C][e].id===b){y[C][e].resolve();y[C].splice(e,1);setTimeout(function(){n()},200);break}}p()}});return l}},{key:"startPlay",value:function n(e,i,r,o){var s=this;var a=this[k](e);if(i&&r&&s[T]==="0.1"){i=i.replace(/-/g,"").replace(/:/g,"");r=r.replace(/-/g,"").replace(/:/g,"")}var t=new Promise(function(e,t){if(a>-1){s[C][a].resolve=e;s[C][a].reject=t;var n=null;if(!i||!r){if(s[C][a].iCurChannel===0&&s[T]==="0.1"){n=h.zeroPlayCmd(s[C][a].iCurChannel,s[C][a].iCurStream)}else{if(s[T]!=="0.1"){if(s[R]===0){n=I.playCmd(s[C][a])}else if(s[R]===1){n=x.playCmd(s[C][a].playURL)}else if(s[R]===-1){n=D.playCmd(s[C][a])}}else{n=h.playCmd(s[C][a].iCurChannel,s[C][a].iCurStream)}}}else{if(s[T]!=="0.1"){if(s[R]===0){n=I.playbackCmd(s[C][a],i,r)}else if(s[R]===1){n=x.playbackCmd(i,r,s[C][a].playURL,o)}else if(s[R]===-1){n=D.playbackCmd(s[C][a],i,r)}}else{n=h.playbackCmd(i,r,s[C][a].iCurChannel,s[C][a].iCurStream)}}s[C][a].socket.send(n);if(s[T]==="0.1"){e()}}else{if(s[T]==="0.1"){t()}}});return t}},{key:"singleFrame",value:function t(){}},{key:"setPlayRate",value:function i(s,a){var u=this;var e=new Promise(function(e,t){for(var n=0,i=u[C].length;n<i;n++){if(u[C][n].id===s){if(u[T]==="0.1"){var r=h.playRateCmd(a);u[C][n].socket.send(r);e();break}else{u[C][n].resolve=e;u[C][n].reject=t;var o=x.playRateCmd(a);u[C][n].socket.send(o)}}}});return e}},{key:"seek",value:function r(o,s,a){var u=this;var e=new Promise(function(e,t){for(var n=0,i=u[C].length;n<i;n++){if(u[C][n].id===o){u[C][n].resolve=e;u[C][n].reject=t;var r=I.seekCmd(s,a);u[C][n].socket.send(r)}}});return e}},{key:"pause",value:function o(s){var a=this;var e=new Promise(function(e,t){for(var n=0,i=a[C].length;n<i;n++){if(a[C][n].id===s){if(a[T]==="0.1"){var r=h.pauseCmd();a[C][n].socket.send(r);e();break}else{a[C][n].resolve=e;a[C][n].reject=t;var o=x.pauseCmd();a[C][n].socket.send(o)}}}});return e}},{key:"transmission",value:function a(r,o){var s=this;var e=new Promise(function(e,t){for(var n=0,i=s[C].length;n<i;n++){if(s[C][n].id===r){s[C][n].resolve=e;s[C][n].reject=t;s[C][n].socket.send(o)}}});return e}},{key:"resume",value:function u(s){var a=this;var e=new Promise(function(e,t){for(var n=0,i=a[C].length;n<i;n++){if(a[C][n].id===s){if(a[T]==="0.1"){var r=h.resumeCmd();a[C][n].socket.send(r);e();break}else{a[C][n].resolve=e;a[C][n].reject=t;var o=x.resumeCmd();a[C][n].socket.send(o)}}}});return e}},{key:"stop",value:function l(o){var s=this;var e=new Promise(function(e,t){if(!o){t()}else{var n=-1;for(var i=0,r=s[C].length;i<r;i++){if(s[C][i].id===o){n=i;s[C][i].resolve=e;s[C][i].socket.close(1e3,"CLOSE");break}}if(n===-1){t()}}});return e}},{key:"stopAll",value:function s(){var e=this;for(var t=0,n=e[C].length;t<n;t++){e[C][t].socket.close(1e3,"CLOSE")}for(var i=0,r=e[c].length;i<r;i++){e[c][i].socket.close(1e3,"CLOSE")}}}]);return e}();return e}();t.StreamClient=l},function(e,t,n){var p=n(39);var v=n(40);var m;var y;var g=0;var S=0;function i(e,t,n){var i=t&&n||0;var r=t||[];e=e||{};var o=e.node||m;var s=e.clockseq!==undefined?e.clockseq:y;if(o==null||s==null){var a=p();if(o==null){o=m=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]}if(s==null){s=y=(a[6]<<8|a[7])&16383}}var u=e.msecs!==undefined?e.msecs:(new Date).getTime();var l=e.nsecs!==undefined?e.nsecs:S+1;var f=u-g+(l-S)/1e4;if(f<0&&e.clockseq===undefined){s=s+1&16383}if((f<0||u>g)&&e.nsecs===undefined){l=0}if(l>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}g=u;S=l;y=s;u+=122192928e5;var c=((u&268435455)*1e4+l)%4294967296;r[i++]=c>>>24&255;r[i++]=c>>>16&255;r[i++]=c>>>8&255;r[i++]=c&255;var h=u/4294967296*1e4&268435455;r[i++]=h>>>8&255;r[i++]=h&255;r[i++]=h>>>24&15|16;r[i++]=h>>>16&255;r[i++]=s>>>8|128;r[i++]=s&255;for(var d=0;d<6;++d){r[i+d]=o[d]}return t?t:v(r)}e.exports=i},function(e,t,n){var s=n(39);var a=n(40);function i(e,t,n){var i=t&&n||0;if(typeof e=="string"){t=e==="binary"?new Array(16):null;e=null}e=e||{};var r=e.random||(e.rng||s)();r[6]=r[6]&15|64;r[8]=r[8]&63|128;if(t){for(var o=0;o<16;++o){t[i+o]=r[o]}}return t||a(r)}e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){var e=function(){function e(){u(this,e)}s(e,[{key:"createClientObject",value:function r(e,t,n,i){return{socket:e,id:t,iCurChannel:n,iCurStream:i,resolve:null,reject:null}}},{key:"zeroPlayCmd",value:function i(e,t){var n=[0,0,0,44,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,e+1,0,0,0,t,0,0,4,0];return new Uint8Array(n)}},{key:"playCmd",value:function o(e,t){var n=[0,0,0,44,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,e,0,0,0,t,0,0,4,0];return new Uint8Array(n)}},{key:"playbackCmd",value:function w(e,t,n,i){var r=e.split("T")[0];var o=e.split("T")[1];var s="0"+parseInt(r.substring(0,4),10).toString(16);var a=parseInt(r.substring(4,6),10);var u=parseInt(r.substring(6),10);var l=parseInt(o.substring(0,2),10);var f=parseInt(o.substring(2,4),10);var c=parseInt(o.substring(4,6),10);var h=t.split("T")[0];var d=t.split("T")[1];var p="0"+parseInt(h.substring(0,4),10).toString(16);var v=parseInt(h.substring(4,6),10);var m=parseInt(d.substring(0,2),10);var y=parseInt(d.substring(2,4),10);var g=parseInt(d.substring(4,6),10);var S=[0,0,0,96,0,0,0,0,0,0,0,0,0,3,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n,0,0,parseInt(s.substring(0,2),16),parseInt(s.substring(2,4),16),0,0,0,a,0,0,0,u,0,0,0,l,0,0,0,f,0,0,0,c,0,0,parseInt(p.substring(0,2),16),parseInt(p.substring(2,4),16),0,0,0,v,0,0,0,u,0,0,0,m,0,0,0,y,0,0,0,g,0,0,0,0,0,0,0,0,i,0,0,0];return new Uint8Array(S)}},{key:"playRateCmd",value:function a(e){var t=(parseInt(e,10)>>>0).toString(16).toLocaleUpperCase().toString(16);for(var n=t.length;n<8;n++){t="0"+t}var i=[0,0,0,0];for(var r=0,o=t.length;r<o;r=r+2){i[Math.floor(r/2)]=parseInt(t.substring(r,r+2),16)}var s=[0,0,0,36,0,0,0,0,0,0,0,0,0,3,1,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i[0],i[1],i[2],i[3]];return new Uint8Array(s)}},{key:"pauseCmd",value:function t(){var e=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(e)}},{key:"resumeCmd",value:function n(){var e=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(e)}}]);return e}();return e}();t.DirectDeviceCustom=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=2203;var d=2206;var p=2207;var v=3001;var m=3002;var y=3003;var g=3004;var S=3005;var w=3006;var P=3007;var _=7045;var b=7046;var i=function(){var e=function(){function e(){c(this,e)}f(e,[{key:"createClientObject",value:function i(e,t,n){return{socket:e,id:t,playURL:n,resolve:null,reject:null}}},{key:"getMediaFromSdp",value:function s(e){var t=e.indexOf("MEDIAINFO=")+10;var n=e.slice(t,t+80);var i=[];for(var r=0,o=n.length/2;r<o;r++){i[r]=parseInt(n.slice(r*2,r*2+2),16)}return new Uint8Array(i)}},{key:"getMediaType",value:function r(e){var t=e.indexOf("MEDIAINFO=")+10;var n=e.slice(t,t+80);n=n.slice(20,24);return n}},{key:"playCmd",value:function n(e){var t={sequence:0,cmd:"realplay",url:e};return JSON.stringify(t)}},{key:"playbackCmd",value:function o(e,t,n,i){var r={sequence:0,cmd:"playback",url:n,startTime:e,endTime:t};i&&i.userName&&(r.userName=i.userName);i&&i.password&&(r.password=i.password);return JSON.stringify(r)}},{key:"playRateCmd",value:function a(e){var t={sequence:0,cmd:"speed",rate:e};return JSON.stringify(t)}},{key:"pauseCmd",value:function t(){var e={sequence:0,cmd:"pause"};return JSON.stringify(e)}},{key:"resumeCmd",value:function u(){var e={sequence:0,cmd:"resume"};return JSON.stringify(e)}},{key:"getError",value:function l(e){var t=v;if(e){if(parseInt(e.MErrDevSelfEx,10)>0){t=parseInt(e.MErrDevSelfEx,10)}else if(parseInt(e.MErrCode,10)>0){t=parseInt(e.MErrCode,10)}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="streamLimit"){t=m}else if(parseInt(e.statusCode,10)===4&&e.subStatusCode==="badAuthorization"){t=y}else if(parseInt(e.statusCode,10)===4&&e.subStatusCode==="lowPrivilege"){t=g}else if(parseInt(e.statusCode,10)===4&&e.subStatusCode==="notSupport"){t=S}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="insufficientTranscodingResources"){t=P}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="incorrentUserNameOrPassword"){t=h}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="needDoubleVerification"){t=d}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="noDoubleVerificationUser"){t=p}else if(parseInt(e.statusCode,10)===6&&e.subStatusCode==="achieveMaxChannelLimit"){t=w}else if(parseInt(e.statusCode,10)===4&&e.subStatusCode==="limitPreviewNumber"){t=_}else if(parseInt(e.statusCode,10)===4&&e.subStatusCode==="notEncodeOrFail"){t=b}}return t}}]);return e}();return e}();t.DirectDevice=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LiveMedia=undefined;var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var i=n(69);var s=a(i);var r=n(70);var u=a(r);function a(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){var e=function(){function e(){l(this,e)}o(e,[{key:"createClientObject",value:function a(e,t,n,i,r){var o=u["default"].AES.encrypt((new Date).getTime().toString(),u["default"].enc.Hex.parse("1234567891234567123456789123456712345678912345671234567891234567"),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse("12345678912345671234567891234567"),padding:u["default"].pad.Pkcs7}).ciphertext.toString();if(o.length<64){o=o+o}var s=u["default"].AES.encrypt((new Date).getTime().toString(),u["default"].enc.Hex.parse("12345678912345671234567891234567"),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse("12345678912345671234567891234567"),padding:u["default"].pad.Pkcs7}).ciphertext.toString();return{socket:e,id:t,PKD:n,rand:i,playURL:r.playURL||"",auth:r.auth||"",token:r.token||"",key:o,iv:s,resolve:null,reject:null}}},{key:"playCmd",value:function n(e){var t={sequence:0,cmd:"realplay",url:e.playURL,key:s["default"].encrypt(e.iv+":"+e.key,e.PKD).cipher.split("?")[0],authorization:u["default"].AES.encrypt(e.rand+":"+e.auth,u["default"].enc.Hex.parse(e.key),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse(e.iv),padding:u["default"].pad.Pkcs7}).ciphertext.toString(),token:u["default"].AES.encrypt(e.token,u["default"].enc.Hex.parse(e.key),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse(e.iv),padding:u["default"].pad.Pkcs7}).ciphertext.toString()};return JSON.stringify(t)}},{key:"playbackCmd",value:function r(e,t,n){var i={sequence:0,cmd:"playback",url:e.playURL,key:s["default"].encrypt(e.iv+":"+e.key,e.PKD).cipher.split("?")[0],authorization:u["default"].AES.encrypt(e.rand+":"+e.auth,u["default"].enc.Hex.parse(e.key),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse(e.iv),padding:u["default"].pad.Pkcs7}).ciphertext.toString(),token:u["default"].AES.encrypt(e.token,u["default"].enc.Hex.parse(e.key),{mode:u["default"].mode.CBC,iv:u["default"].enc.Hex.parse(e.iv),padding:u["default"].pad.Pkcs7}).ciphertext.toString(),startTime:t,endTime:n};return JSON.stringify(i)}},{key:"seekCmd",value:function i(e,t){var n={sequence:0,cmd:"seek",startTime:e,endTime:t};return JSON.stringify(n)}}]);return e}();return e}();t.LiveMedia=f},function(W,B,N){"use strict";var z=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var e={appName:"Netscape",appVersion:40};var t,J=0xdeadbeefcafe,n=(J&16777215)==15715070;function m(e,t,n){e!=null&&("number"==typeof e?this.fromNumber(e,t,n):t==null&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function y(){return new m(null)}function U(e,t,n,i,r,o){for(;--o>=0;){var s=t*this[e++]+n[i]+r,r=Math.floor(s/67108864);n[i++]=s&67108863}return r}function H(e,t,n,i,r,o){var s=t&32767;for(t>>=15;--o>=0;){var a=this[e]&32767,u=this[e++]>>15,l=t*a+u*s,a=s*a+((l&32767)<<15)+n[i]+(r&1073741823),r=(a>>>30)+(l>>>15)+t*u+(r>>>30);n[i++]=a&1073741823}return r}function j(e,t,n,i,r,o){var s=t&16383;for(t>>=14;--o>=0;){var a=this[e]&16383,u=this[e++]>>14,l=t*a+u*s,a=s*a+((l&16383)<<14)+n[i]+r,r=(a>>28)+(l>>14)+t*u;n[i++]=a&268435455}return r}n&&e.appName=="Microsoft Internet Explorer"?(m.prototype.am=H,t=30):n&&e.appName!="Netscape"?(m.prototype.am=U,t=26):(m.prototype.am=j,t=28);m.prototype.DB=t;m.prototype.DM=(1<<t)-1;m.prototype.DV=1<<t;var r=52;m.prototype.FV=Math.pow(2,r);m.prototype.F1=r-t;m.prototype.F2=2*t-r;var G="0123456789abcdefghijklmnopqrstuvwxyz",o=[],s,a;s="0".charCodeAt(0);for(a=0;a<=9;++a){o[s++]=a}s="a".charCodeAt(0);for(a=10;a<36;++a){o[s++]=a}s="A".charCodeAt(0);for(a=10;a<36;++a){o[s++]=a}function l(e){return G.charAt(e)}function f(e,t){var n=o[e.charCodeAt(t)];return n==null?-1:n}function V(e){for(var t=this.t-1;t>=0;--t){e[t]=this[t]}e.t=this.t;e.s=this.s}function Y(e){this.t=1;this.s=e<0?-1:0;e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function p(e){var t=y();t.fromInt(e);return t}function X(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==256)n=8;else if(t==2)n=1;else if(t==32)n=5;else if(t==4)n=2;else{this.fromRadix(e,t);return}this.s=this.t=0;for(var i=e.length,r=!1,o=0;--i>=0;){var s=n==8?e[i]&255:f(e,i);s<0?e.charAt(i)=="-"&&(r=!0):(r=!1,o==0?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB))}if(n==8&&(e[0]&128)!=0)this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o);this.clamp();r&&m.ZERO.subTo(this,this)}function Z(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;){--this.t}}function K(e){if(this.s<0)return"-"+this.negate().toString(e);if(e==16)e=4;else if(e==8)e=3;else if(e==2)e=1;else if(e==32)e=5;else if(e==64)e=6;else if(e==4)e=2;else return this.toRadix(e);var t=(1<<e)-1,n,i=!1,r="",o=this.t,s=this.DB-o*this.DB%e;if(o-- >0){if(s<this.DB&&(n=this[o]>>s)>0)i=!0,r=l(n);for(;o>=0;){s<e?(n=(this[o]&(1<<s)-1)<<e-s,n|=this[--o]>>(s+=this.DB-e)):(n=this[o]>>(s-=e)&t,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(r+=l(n))}}return i?r:"0"}function $(){var e=y();m.ZERO.subTo(this,e);return e}function Q(){return this.s<0?this.negate():this}function ee(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t,t=n-e.t;if(t!=0)return t;for(;--n>=0;){if((t=this[n]-e[n])!=0)return t}return 0}function g(e){var t=1,n;if((n=e>>>16)!=0)e=n,t+=16;if((n=e>>8)!=0)e=n,t+=8;if((n=e>>4)!=0)e=n,t+=4;if((n=e>>2)!=0)e=n,t+=2;e>>1!=0&&(t+=1);return t}function te(){return this.t<=0?0:this.DB*(this.t-1)+g(this[this.t-1]^this.s&this.DM)}function ne(e,t){var n;for(n=this.t-1;n>=0;--n){t[n+e]=this[n]}for(n=e-1;n>=0;--n){t[n]=0}t.t=this.t+e;t.s=this.s}function ie(e,t){for(var n=e;n<this.t;++n){t[n-e]=this[n]}t.t=Math.max(this.t-e,0);t.s=this.s}function re(e,t){var n=e%this.DB,i=this.DB-n,r=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a){t[a+o+1]=this[a]>>i|s,s=(this[a]&r)<<n}for(a=o-1;a>=0;--a){t[a]=0}t[o]=s;t.t=this.t+o+1;t.s=this.s;t.clamp()}function oe(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s){t[s-n-1]|=(this[s]&o)<<r,t[s-n]=this[s]>>i}i>0&&(t[this.t-n-1]|=(this.s&o)<<r);t.t=this.t-n;t.clamp()}}function se(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;){i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB}if(e.t<this.t){for(i-=e.s;n<this.t;){i+=this[n],t[n++]=i&this.DM,i>>=this.DB}i+=this.s}else{for(i+=this.s;n<e.t;){i-=e[n],t[n++]=i&this.DM,i>>=this.DB}i-=e.s}t.s=i<0?-1:0;i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i);t.t=n;t.clamp()}function ae(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;){t[r]=0}for(r=0;r<i.t;++r){t[r+n.t]=n.am(0,i[r],t,r,0,n.t)}t.s=0;t.clamp();this.s!=e.s&&m.ZERO.subTo(t,t)}function ue(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;){e[n]=0}for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);if((e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV)e[n+t.t]-=t.DV,e[n+t.t+1]=1}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1));e.s=0;e.clamp()}function le(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)t!=null&&t.fromInt(0),n!=null&&this.copyTo(n);else{n==null&&(n=y());var o=y(),s=this.s,e=e.s,a=this.DB-g(i[i.t-1]);a>0?(i.lShiftTo(a,o),r.lShiftTo(a,n)):(i.copyTo(o),r.copyTo(n));i=o.t;r=o[i-1];if(r!=0){var u=r*(1<<this.F1)+(i>1?o[i-2]>>this.F2:0),l=this.FV/u,u=(1<<this.F1)/u,f=1<<this.F2,c=n.t,h=c-i,d=t==null?y():t;o.dlShiftTo(h,d);n.compareTo(d)>=0&&(n[n.t++]=1,n.subTo(d,n));m.ONE.dlShiftTo(i,d);for(d.subTo(o,o);o.t<i;){o[o.t++]=0}for(;--h>=0;){var p=n[--c]==r?this.DM:Math.floor(n[c]*l+(n[c-1]+f)*u);if((n[c]+=o.am(0,p,n,h,0,i))<p){o.dlShiftTo(h,d);for(n.subTo(d,n);n[c]<--p;){n.subTo(d,n)}}}t!=null&&(n.drShiftTo(i,t),s!=e&&m.ZERO.subTo(t,t));n.t=i;n.clamp();a>0&&n.rShiftTo(a,n);s<0&&m.ZERO.subTo(n,n)}}}}function fe(e){var t=y();this.abs().divRemTo(e,null,t);this.s<0&&t.compareTo(m.ZERO)>0&&e.subTo(t,t);return t}function S(e){this.m=e}function ce(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function he(e){return e}function de(e){e.divRemTo(this.m,null,e)}function pe(e,t,n){e.multiplyTo(t,n);this.reduce(n)}function ve(e,t){e.squareTo(t);this.reduce(t)}S.prototype.convert=ce;S.prototype.revert=he;S.prototype.reduce=de;S.prototype.mulTo=pe;S.prototype.sqrTo=ve;function me(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3,t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV;return t>0?this.DV-t:-t}function w(e){this.m=e;this.mp=e.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function ye(e){var t=y();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);e.s<0&&t.compareTo(m.ZERO)>0&&this.m.subTo(t,t);return t}function ge(e){var t=y();e.copyTo(t);this.reduce(t);return t}function Se(e){for(;e.t<=this.mt2;){e[e.t++]=0}for(var t=0;t<this.m.t;++t){var n=e[t]&32767,i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM,n=t+this.m.t;for(e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;){e[n]-=e.DV,e[++n]++}}e.clamp();e.drShiftTo(this.m.t,e);e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function we(e,t){e.squareTo(t);this.reduce(t)}function Pe(e,t,n){e.multiplyTo(t,n);this.reduce(n)}w.prototype.convert=ye;w.prototype.revert=ge;w.prototype.reduce=Se;w.prototype.mulTo=Pe;w.prototype.sqrTo=we;function _e(){return(this.t>0?this[0]&1:this.s)==0}function be(e,t){if(e>4294967295||e<1)return m.ONE;var n=y(),i=y(),r=t.convert(this),o=g(e)-1;for(r.copyTo(n);--o>=0;){if(t.sqrTo(n,i),(e&1<<o)>0)t.mulTo(i,r,n);else var s=n,n=i,i=s}return t.revert(n)}function Ce(e,t){var n;n=e<256||t.isEven()?new S(t):new w(t);return this.exp(e,n)}m.prototype.copyTo=V;m.prototype.fromInt=Y;m.prototype.fromString=X;m.prototype.clamp=Z;m.prototype.dlShiftTo=ne;m.prototype.drShiftTo=ie;m.prototype.lShiftTo=re;m.prototype.rShiftTo=oe;m.prototype.subTo=se;m.prototype.multiplyTo=ae;m.prototype.squareTo=ue;m.prototype.divRemTo=le;m.prototype.invDigit=me;m.prototype.isEven=_e;m.prototype.exp=be;m.prototype.toString=K;m.prototype.negate=$;m.prototype.abs=Q;m.prototype.compareTo=ee;m.prototype.bitLength=te;m.prototype.mod=fe;m.prototype.modPowInt=Ce;m.ZERO=p(0);m.ONE=p(1);function ke(){var e=y();this.copyTo(e);return e}function Te(){if(this.s<0){if(this.t==1)return this[0]-this.DV;else{if(this.t==0)return-1}}else if(this.t==1)return this[0];else if(this.t==0)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Re(){return this.t==0?this.s:this[0]<<24>>24}function xe(){return this.t==0?this.s:this[0]<<16>>16}function Ie(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function De(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Ee(e){e==null&&(e=10);if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),t=Math.pow(e,t),n=p(t),i=y(),r=y(),o="";for(this.divRemTo(n,i,r);i.signum()>0;){o=(t+r.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,r)}return r.intValue().toString(e)+o}function qe(e,t){this.fromInt(0);t==null&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),r=!1,o=0,s=0,a=0;a<e.length;++a){var u=f(e,a);u<0?e.charAt(a)=="-"&&this.signum()==0&&(r=!0):(s=t*s+u,++o>=n&&(this.dMultiply(i),this.dAddOffset(s,0),s=o=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0));r&&m.ZERO.subTo(this,this)}function Oe(e,t,n){if("number"==typeof t){if(e<2)this.fromInt(1);else{this.fromNumber(e,n);this.testBit(e-1)||this.bitwiseTo(m.ONE.shiftLeft(e-1),u,this);for(this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);){this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(m.ONE.shiftLeft(e-1),this)}}}else{var n=[],i=e&7;n.length=(e>>3)+1;t.nextBytes(n);i>0?n[0]&=(1<<i)-1:n[0]=0;this.fromString(n,256)}}function Ae(){var e=this.t,t=[];t[0]=this.s;var n=this.DB-e*this.DB%8,i,r=0;if(e-- >0){if(n<this.DB&&(i=this[e]>>n)!=(this.s&this.DM)>>n)t[r++]=i|this.s<<this.DB-n;for(;e>=0;){if(n<8?(i=(this[e]&(1<<n)-1)<<8-n,i|=this[--e]>>(n+=this.DB-8)):(i=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(i&128)!=0&&(i|=-256),r==0&&(this.s&128)!=(i&128)&&++r,r>0||i!=this.s)t[r++]=i}}return t}function Le(e){return this.compareTo(e)==0}function Me(e){return this.compareTo(e)<0?this:e}function Fe(e){return this.compareTo(e)>0?this:e}function We(e,t,n){var i,r,o=Math.min(e.t,this.t);for(i=0;i<o;++i){n[i]=t(this[i],e[i])}if(e.t<this.t){r=e.s&this.DM;for(i=o;i<this.t;++i){n[i]=t(this[i],r)}n.t=this.t}else{r=this.s&this.DM;for(i=o;i<e.t;++i){n[i]=t(r,e[i])}n.t=e.t}n.s=t(this.s,e.s);n.clamp()}function Be(e,t){return e&t}function Ne(e){var t=y();this.bitwiseTo(e,Be,t);return t}function u(e,t){return e|t}function ze(e){var t=y();this.bitwiseTo(e,u,t);return t}function c(e,t){return e^t}function Je(e){var t=y();this.bitwiseTo(e,c,t);return t}function h(e,t){return e&~t}function Ue(e){var t=y();this.bitwiseTo(e,h,t);return t}function He(){for(var e=y(),t=0;t<this.t;++t){e[t]=this.DM&~this[t]}e.t=this.t;e.s=~this.s;return e}function je(e){var t=y();e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t);return t}function Ge(e){var t=y();e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t);return t}function Ve(e){if(e==0)return-1;var t=0;(e&65535)==0&&(e>>=16,t+=16);(e&255)==0&&(e>>=8,t+=8);(e&15)==0&&(e>>=4,t+=4);(e&3)==0&&(e>>=2,t+=2);(e&1)==0&&++t;return t}function Ye(){for(var e=0;e<this.t;++e){if(this[e]!=0)return e*this.DB+Ve(this[e])}return this.s<0?this.t*this.DB:-1}function Xe(e){for(var t=0;e!=0;){e&=e-1,++t}return t}function Ze(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n){e+=Xe(this[n]^t)}return e}function Ke(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function $e(e,t){var n=m.ONE.shiftLeft(e);this.bitwiseTo(n,t,n);return n}function Qe(e){return this.changeBit(e,u)}function et(e){return this.changeBit(e,h)}function tt(e){return this.changeBit(e,c)}function nt(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;){i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB}if(e.t<this.t){for(i+=e.s;n<this.t;){i+=this[n],t[n++]=i&this.DM,i>>=this.DB}i+=this.s}else{for(i+=this.s;n<e.t;){i+=e[n],t[n++]=i&this.DM,i>>=this.DB}i+=e.s}t.s=i<0?-1:0;i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i);t.t=n;t.clamp()}function it(e){var t=y();this.addTo(e,t);return t}function rt(e){var t=y();this.subTo(e,t);return t}function ot(e){var t=y();this.multiplyTo(e,t);return t}function st(){var e=y();this.squareTo(e);return e}function at(e){var t=y();this.divRemTo(e,t,null);return t}function ut(e){var t=y();this.divRemTo(e,null,t);return t}function lt(e){var t=y(),n=y();this.divRemTo(e,t,n);return[t,n]}function ft(e){this[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()}function ct(e,t){if(e!=0){for(;this.t<=t;){this[this.t++]=0}for(this[t]+=e;this[t]>=this.DV;){this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}}function d(){}function P(e){return e}function ht(e,t,n){e.multiplyTo(t,n)}function dt(e,t){e.squareTo(t)}d.prototype.convert=P;d.prototype.revert=P;d.prototype.mulTo=ht;d.prototype.sqrTo=dt;function pt(e){return this.exp(e,new d)}function vt(e,t,n){var i=Math.min(this.t+e.t,t);n.s=0;for(n.t=i;i>0;){n[--i]=0}var r;for(r=n.t-this.t;i<r;++i){n[i+this.t]=this.am(0,e[i],n,i,0,this.t)}for(r=Math.min(e.t,t);i<r;++i){this.am(0,e[i],n,i,0,t-i)}n.clamp()}function mt(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;){n[i]=0}for(i=Math.max(t-this.t,0);i<e.t;++i){n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t)}n.clamp();n.drShiftTo(1,n)}function _(e){this.r2=y();this.q3=y();m.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}function yt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);else if(e.compareTo(this.m)<0)return e;else{var t=y();e.copyTo(t);this.reduce(t);return t}}function gt(e){return e}function St(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1)e.t=this.m.t+1,e.clamp();this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;){e.dAddOffset(1,this.m.t+1)}for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;){e.subTo(this.m,e)}}function wt(e,t){e.squareTo(t);this.reduce(t)}function Pt(e,t,n){e.multiplyTo(t,n);this.reduce(n)}_.prototype.convert=yt;_.prototype.revert=gt;_.prototype.reduce=St;_.prototype.mulTo=Pt;_.prototype.sqrTo=wt;function _t(e,t){var n=e.bitLength(),i,r=p(1),o;if(n<=0)return r;else i=n<18?1:n<48?3:n<144?4:n<768?5:6;o=n<8?new S(t):t.isEven()?new _(t):new w(t);var s=[],a=3,u=i-1,l=(1<<i)-1;s[1]=o.convert(this);if(i>1){n=y();for(o.sqrTo(s[1],n);a<=l;){s[a]=y(),o.mulTo(n,s[a-2],s[a]),a+=2}}for(var f=e.t-1,c,h=!0,d=y(),n=g(e[f])-1;f>=0;){n>=u?c=e[f]>>n-u&l:(c=(e[f]&(1<<n+1)-1)<<u-n,f>0&&(c|=e[f-1]>>this.DB+n-u));for(a=i;(c&1)==0;){c>>=1,--a}if((n-=a)<0)n+=this.DB,--f;if(h)s[c].copyTo(r),h=!1;else{for(;a>1;){o.sqrTo(r,d),o.sqrTo(d,r),a-=2}a>0?o.sqrTo(r,d):(a=r,r=d,d=a);o.mulTo(d,s[c],r)}for(;f>=0&&(e[f]&1<<n)==0;){o.sqrTo(r,d),a=r,r=d,d=a,--n<0&&(n=this.DB-1,--f)}}return o.revert(r)}function bt(e){var t=this.s<0?this.negate():this.clone(),e=e.s<0?e.negate():e.clone();if(t.compareTo(e)<0)var n=t,t=e,e=n;var n=t.getLowestSetBit(),i=e.getLowestSetBit();if(i<0)return t;n<i&&(i=n);i>0&&(t.rShiftTo(i,t),e.rShiftTo(i,e));for(;t.signum()>0;){(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),t.compareTo(e)>=0?(t.subTo(e,t),t.rShiftTo(1,t)):(e.subTo(t,e),e.rShiftTo(1,e))}i>0&&e.lShiftTo(i,e);return e}function Ct(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(t==0)n=this[0]%e;else for(var i=this.t-1;i>=0;--i){n=(t*n+this[i])%e}return n}function kt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return m.ZERO;for(var n=e.clone(),i=this.clone(),r=p(1),o=p(0),s=p(0),a=p(1);n.signum()!=0;){for(;n.isEven();){n.rShiftTo(1,n);if(t){if(!r.isEven()||!o.isEven())r.addTo(this,r),o.subTo(e,o);r.rShiftTo(1,r)}else o.isEven()||o.subTo(e,o);o.rShiftTo(1,o)}for(;i.isEven();){i.rShiftTo(1,i);if(t){if(!s.isEven()||!a.isEven())s.addTo(this,s),a.subTo(e,a);s.rShiftTo(1,s)}else a.isEven()||a.subTo(e,a);a.rShiftTo(1,a)}n.compareTo(i)>=0?(n.subTo(i,n),t&&r.subTo(s,r),o.subTo(a,o)):(i.subTo(n,i),t&&s.subTo(r,s),a.subTo(o,a))}if(i.compareTo(m.ONE)!=0)return m.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var b=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Tt=67108864/b[b.length-1];function Rt(e){var t,n=this.abs();if(n.t==1&&n[0]<=b[b.length-1]){for(t=0;t<b.length;++t){if(n[0]==b[t])return!0}return!1}if(n.isEven())return!1;for(t=1;t<b.length;){for(var i=b[t],r=t+1;r<b.length&&i<Tt;){i*=b[r++]}for(i=n.modInt(i);t<r;){if(i%b[t++]==0)return!1}}return n.millerRabin(e)}function xt(e){var t=this.subtract(m.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var i=t.shiftRight(n),e=e+1>>1;if(e>b.length)e=b.length;for(var r=y(),o=0;o<e;++o){r.fromInt(b[Math.floor(Math.random()*b.length)]);var s=r.modPow(i,this);if(s.compareTo(m.ONE)!=0&&s.compareTo(t)!=0){for(var a=1;a++<n&&s.compareTo(t)!=0;){if(s=s.modPowInt(2,this),s.compareTo(m.ONE)==0)return!1}if(s.compareTo(t)!=0)return!1}}return!0}m.prototype.chunkSize=Ie;m.prototype.toRadix=Ee;m.prototype.fromRadix=qe;m.prototype.fromNumber=Oe;m.prototype.bitwiseTo=We;m.prototype.changeBit=$e;m.prototype.addTo=nt;m.prototype.dMultiply=ft;m.prototype.dAddOffset=ct;m.prototype.multiplyLowerTo=vt;m.prototype.multiplyUpperTo=mt;m.prototype.modInt=Ct;m.prototype.millerRabin=xt;m.prototype.clone=ke;m.prototype.intValue=Te;m.prototype.byteValue=Re;m.prototype.shortValue=xe;m.prototype.signum=De;m.prototype.toByteArray=Ae;m.prototype.equals=Le;m.prototype.min=Me;m.prototype.max=Fe;m.prototype.and=Ne;m.prototype.or=ze;m.prototype.xor=Je;m.prototype.andNot=Ue;m.prototype.not=He;m.prototype.shiftLeft=je;m.prototype.shiftRight=Ge;m.prototype.getLowestSetBit=Ye;m.prototype.bitCount=Ze;m.prototype.testBit=Ke;m.prototype.setBit=Qe;m.prototype.clearBit=et;m.prototype.flipBit=tt;m.prototype.add=it;m.prototype.subtract=rt;m.prototype.multiply=ot;m.prototype.divide=at;m.prototype.remainder=ut;m.prototype.divideAndRemainder=lt;m.prototype.modPow=_t;m.prototype.modInverse=kt;m.prototype.pow=pt;m.prototype.gcd=bt;m.prototype.isProbablePrime=Rt;m.prototype.square=st;(function(r,o,u,s,a,l,f){function c(e){var t,n,a=this,i=e.length,r=0,o=a.i=a.j=a.m=0;a.S=[];a.c=[];for(i||(e=[i++]);r<u;){a.S[r]=r++}for(r=0;r<u;r++){t=a.S[r],o=o+t+e[r%i]&u-1,n=a.S[o],a.S[r]=n,a.S[o]=t}a.g=function(e){var t=a.S,n=a.i+1&u-1,i=t[n],r=a.j+i&u-1,o=t[r];t[n]=o;t[r]=i;for(var s=t[i+o&u-1];--e;){n=n+1&u-1,i=t[n],r=r+i&u-1,o=t[r],t[n]=o,t[r]=i,s=s*u+t[i+o&u-1]}a.i=n;a.j=r;return s};a.g(u)}function h(e,t,n,i,r){n=[];r=typeof e==="undefined"?"undefined":z(e);if(t&&r=="object")for(i in e){if(i.indexOf("S")<5)try{n.push(h(e[i],t-1))}catch(l){}}return n.length?n:e+(r!="string"?"\0":"")}function d(e,t,n,i){e+="";for(i=n=0;i<e.length;i++){var r=t,o=i&u-1,s=(n^=t[i&u-1]*19)+e.charCodeAt(i);r[o]=s&u-1}e="";for(i in t){e+=String.fromCharCode(t[i])}return e}o.seedrandom=function(e,t){var n=[],i,e=d(h(t?[e,r]:arguments.length?e:[(new Date).getTime(),r,window],3),n);i=new c(n);d(i.S,r);o.random=function(){for(var e=i.g(s),t=f,n=0;e<a;){e=(e+n)*u,t*=u,n=i.g(1)}for(;e>=l;){e/=2,t/=2,n>>>=1}return(e+n)/t};return e};f=o.pow(u,s);a=o.pow(2,a);l=a*2;d(o.random(),r)})([],Math,256,6,52);function C(){}function It(e){var t;for(t=0;t<e.length;t++){e[t]=Math.floor(Math.random()*256)}}C.prototype.nextBytes=It;function k(){this.j=this.i=0;this.S=[]}function Dt(e){var t,n,i;for(t=0;t<256;++t){this.S[t]=t}for(t=n=0;t<256;++t){n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i}this.j=this.i=0}function Et(){var e;this.i=this.i+1&255;this.j=this.j+this.S[this.i]&255;e=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=e;return this.S[e+this.S[this.i]&255]}k.prototype.init=Dt;k.prototype.next=Et;function qt(){return new k}var T=256,R,x,I;function Ot(e){x[I++]^=e&255;x[I++]^=e>>8&255;x[I++]^=e>>16&255;x[I++]^=e>>24&255;I>=T&&(I-=T)}function At(){Ot((new Date).getTime())}if(x==null){x=[];I=0;var D;if(e.appName=="Netscape"&&e.appVersion<"5"&&window.crypto){var Lt=window.crypto.random(32);for(D=0;D<Lt.length;++D){x[I++]=Lt.charCodeAt(D)&255}}for(;I<T;){D=Math.floor(65536*Math.random()),x[I++]=D>>>8,x[I++]=D&255}I=0;At()}function Mt(){if(R==null){At();R=qt();R.init(x);for(I=0;I<x.length;++I){x[I]=0}I=0}return R.next()}function Ft(e){var t;for(t=0;t<e.length;++t){e[t]=Mt()}}function E(){}E.prototype.nextBytes=Ft;function Wt(e){function y(e,t){var n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function g(e,t){return e>>>t|e<<32-t}e=function(e){for(var e=e.replace(/\r\n/g,"\n"),t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(i>127&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(i&63|128))}return t}(e);return function(e){for(var t="",n=0;n<e.length*4;n++){t+="0123456789abcdef".charAt(e[n>>2]>>(3-n%4)*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>(3-n%4)*8&15)}return t}(function(e,t){var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=Array(64),o,s,a,u,l,f,c,h,d,p,v,m;e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(d=0;d<e.length;d+=16){o=i[0];s=i[1];a=i[2];u=i[3];l=i[4];f=i[5];c=i[6];h=i[7];for(p=0;p<64;p++){r[p]=p<16?e[p+d]:y(y(y(g(r[p-2],17)^g(r[p-2],19)^r[p-2]>>>10,r[p-7]),g(r[p-15],7)^g(r[p-15],18)^r[p-15]>>>3),r[p-16]),v=y(y(y(y(h,g(l,6)^g(l,11)^g(l,25)),l&f^~l&c),n[p]),r[p]),m=y(g(o,2)^g(o,13)^g(o,22),o&s^o&a^s&a),h=c,c=f,f=l,l=y(u,v),u=a,a=s,s=o,o=y(v,m)}i[0]=y(o,i[0]);i[1]=y(s,i[1]);i[2]=y(a,i[2]);i[3]=y(u,i[3]);i[4]=y(l,i[4]);i[5]=y(f,i[5]);i[6]=y(c,i[6]);i[7]=y(h,i[7])}return i}(function(e){for(var t=[],n=0;n<e.length*8;n+=8){t[n>>5]|=(e.charCodeAt(n/8)&255)<<24-n%32}return t}(e),e.length*8))}var Bt={hex:function hn(e){return Wt(e)}};function Nt(e){function t(e,t){return e<<t|e>>>32-t}function n(e){var t="",n,i;for(n=7;n>=0;n--){i=e>>>n*4&15,t+=i.toString(16)}return t}var i,r,o=Array(80),s=1732584193,a=4023233417,u=2562383102,l=271733878,f=3285377520,c,h,d,p,v,e=function(e){for(var e=e.replace(/\r\n/g,"\n"),t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(i>127&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(i&63|128))}return t}(e);c=e.length;var m=[];for(i=0;i<c-3;i+=4){r=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),m.push(r)}switch(c%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(c-1)<<24|8388608;break;case 2:i=e.charCodeAt(c-2)<<24|e.charCodeAt(c-1)<<16|32768;break;case 3:i=e.charCodeAt(c-3)<<24|e.charCodeAt(c-2)<<16|e.charCodeAt(c-1)<<8|128}for(m.push(i);m.length%16!=14;){m.push(0)}m.push(c>>>29);m.push(c<<3&4294967295);for(e=0;e<m.length;e+=16){for(i=0;i<16;i++){o[i]=m[e+i]}for(i=16;i<=79;i++){o[i]=t(o[i-3]^o[i-8]^o[i-14]^o[i-16],1)}r=s;c=a;h=u;d=l;p=f;for(i=0;i<=19;i++){v=t(r,5)+(c&h|~c&d)+p+o[i]+1518500249&4294967295,p=d,d=h,h=t(c,30),c=r,r=v}for(i=20;i<=39;i++){v=t(r,5)+(c^h^d)+p+o[i]+1859775393&4294967295,p=d,d=h,h=t(c,30),c=r,r=v}for(i=40;i<=59;i++){v=t(r,5)+(c&h|c&d|h&d)+p+o[i]+2400959708&4294967295,p=d,d=h,h=t(c,30),c=r,r=v}for(i=60;i<=79;i++){v=t(r,5)+(c^h^d)+p+o[i]+3395469782&4294967295,p=d,d=h,h=t(c,30),c=r,r=v}s=s+r&4294967295;a=a+c&4294967295;u=u+h&4294967295;l=l+d&4294967295;f=f+p&4294967295}v=n(s)+n(a)+n(u)+n(l)+n(f);return v.toLowerCase()}var zt={hex:function hn(e){return Nt(e)}},Jt=function Jt(e){function a(e,t){var n,i,r,o,s;r=e&2147483648;o=t&2147483648;n=e&1073741824;i=t&1073741824;s=(e&1073741823)+(t&1073741823);return n&i?s^2147483648^r^o:n|i?s&1073741824?s^3221225472^r^o:s^1073741824^r^o:s^r^o}function t(e,t,n,i,r,o,s){e=a(e,a(a(t&n|~t&i,r),s));return a(e<<o|e>>>32-o,t)}function n(e,t,n,i,r,o,s){e=a(e,a(a(t&i|n&~i,r),s));return a(e<<o|e>>>32-o,t)}function i(e,t,n,i,r,o,s){e=a(e,a(a(t^n^i,r),s));return a(e<<o|e>>>32-o,t)}function r(e,t,n,i,r,o,s){e=a(e,a(a(n^(t|~i),r),s));return a(e<<o|e>>>32-o,t)}function o(e){var t="",n="",i;for(i=0;i<=3;i++){n=e>>>i*8&255,n="0"+n.toString(16),t+=n.substr(n.length-2,2)}return t}var s=[],u,l,f,c,h,d,p,v,e=function(e){for(var e=e.replace(/\r\n/g,"\n"),t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(i>127&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(i&63|128))}return t}(e),s=function(e){var t,n=e.length;t=n+8;for(var i=((t-t%64)/64+1)*16,r=Array(i-1),o=0,s=0;s<n;){t=(s-s%4)/4,o=s%4*8,r[t]|=e.charCodeAt(s)<<o,s++}r[(s-s%4)/4]|=128<<s%4*8;r[i-2]=n<<3;r[i-1]=n>>>29;return r}(e);h=1732584193;d=4023233417;p=2562383102;v=271733878;for(e=0;e<s.length;e+=16){u=h,l=d,f=p,c=v,h=t(h,d,p,v,s[e+0],7,3614090360),v=t(v,h,d,p,s[e+1],12,3905402710),p=t(p,v,h,d,s[e+2],17,606105819),d=t(d,p,v,h,s[e+3],22,3250441966),h=t(h,d,p,v,s[e+4],7,4118548399),v=t(v,h,d,p,s[e+5],12,1200080426),p=t(p,v,h,d,s[e+6],17,2821735955),d=t(d,p,v,h,s[e+7],22,4249261313),h=t(h,d,p,v,s[e+8],7,1770035416),v=t(v,h,d,p,s[e+9],12,2336552879),p=t(p,v,h,d,s[e+10],17,4294925233),d=t(d,p,v,h,s[e+11],22,2304563134),h=t(h,d,p,v,s[e+12],7,1804603682),v=t(v,h,d,p,s[e+13],12,4254626195),p=t(p,v,h,d,s[e+14],17,2792965006),d=t(d,p,v,h,s[e+15],22,1236535329),h=n(h,d,p,v,s[e+1],5,4129170786),v=n(v,h,d,p,s[e+6],9,3225465664),p=n(p,v,h,d,s[e+11],14,643717713),d=n(d,p,v,h,s[e+0],20,3921069994),h=n(h,d,p,v,s[e+5],5,3593408605),v=n(v,h,d,p,s[e+10],9,38016083),p=n(p,v,h,d,s[e+15],14,3634488961),d=n(d,p,v,h,s[e+4],20,3889429448),h=n(h,d,p,v,s[e+9],5,568446438),v=n(v,h,d,p,s[e+14],9,3275163606),p=n(p,v,h,d,s[e+3],14,4107603335),d=n(d,p,v,h,s[e+8],20,1163531501),h=n(h,d,p,v,s[e+13],5,2850285829),v=n(v,h,d,p,s[e+2],9,4243563512),p=n(p,v,h,d,s[e+7],14,1735328473),d=n(d,p,v,h,s[e+12],20,2368359562),h=i(h,d,p,v,s[e+5],4,4294588738),v=i(v,h,d,p,s[e+8],11,2272392833),p=i(p,v,h,d,s[e+11],16,1839030562),d=i(d,p,v,h,s[e+14],23,4259657740),h=i(h,d,p,v,s[e+1],4,2763975236),v=i(v,h,d,p,s[e+4],11,1272893353),p=i(p,v,h,d,s[e+7],16,4139469664),d=i(d,p,v,h,s[e+10],23,3200236656),h=i(h,d,p,v,s[e+13],4,681279174),v=i(v,h,d,p,s[e+0],11,3936430074),p=i(p,v,h,d,s[e+3],16,3572445317),d=i(d,p,v,h,s[e+6],23,76029189),h=i(h,d,p,v,s[e+9],4,3654602809),v=i(v,h,d,p,s[e+12],11,3873151461),p=i(p,v,h,d,s[e+15],16,530742520),d=i(d,p,v,h,s[e+2],23,3299628645),h=r(h,d,p,v,s[e+0],6,4096336452),v=r(v,h,d,p,s[e+7],10,1126891415),p=r(p,v,h,d,s[e+14],15,2878612391),d=r(d,p,v,h,s[e+5],21,4237533241),h=r(h,d,p,v,s[e+12],6,1700485571),v=r(v,h,d,p,s[e+3],10,2399980690),p=r(p,v,h,d,s[e+10],15,4293915773),d=r(d,p,v,h,s[e+1],21,2240044497),h=r(h,d,p,v,s[e+8],6,1873313359),v=r(v,h,d,p,s[e+15],10,4264355552),p=r(p,v,h,d,s[e+6],15,2734768916),d=r(d,p,v,h,s[e+13],21,1309151649),h=r(h,d,p,v,s[e+4],6,4149444226),v=r(v,h,d,p,s[e+11],10,3174756917),p=r(p,v,h,d,s[e+2],15,718787259),d=r(d,p,v,h,s[e+9],21,3951481745),h=a(h,u),d=a(d,l),p=a(p,f),v=a(v,c)}return(o(h)+o(d)+o(p)+o(v)).toLowerCase()};function q(e,t){return new m(e,t)}function Ut(e,t){for(var n="",i=0;i+t<e.length;){n+=e.substring(i,i+t)+"\n",i+=t}return n+e.substring(i,e.length)}function Ht(e){return e<16?"0"+e.toString(16):e.toString(16)}function jt(e,t){if(t<e.length+11)throw"Message too long for RSA (n="+t+", l="+e.length+")";for(var n=[],i=e.length-1;i>=0&&t>0;){var r=e.charCodeAt(i--);r<128?n[--t]=r:r>127&&r<2048?(n[--t]=r&63|128,n[--t]=r>>6|192):(n[--t]=r&63|128,n[--t]=r>>6&63|128,n[--t]=r>>12|224)}n[--t]=0;i=new E;for(r=[];t>2;){for(r[0]=0;r[0]==0;){i.nextBytes(r)}n[--t]=r[0]}n[--t]=2;n[--t]=0;return new m(n)}function O(){this.n=null;this.e=0;this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function Gt(e,t){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=q(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function Vt(e){return e.modPowInt(this.e,this.n)}function Yt(e){e=jt(e,this.n.bitLength()+7>>3);if(e==null)return null;e=this.doPublic(e);if(e==null)return null;e=e.toString(16);return(e.length&1)==0?e:"0"+e}O.prototype.doPublic=Vt;O.prototype.setPublic=Gt;O.prototype.encrypt=Yt;function Xt(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&n[i]==0;){++i}if(n.length-i!=t-1||n[i]!=2)return null;for(++i;n[i]!=0;){if(++i>=n.length)return null}for(var r="";++i<n.length;){var o=n[i]&255;o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((o&31)<<6|n[i+1]&63),++i):(r+=String.fromCharCode((o&15)<<12|(n[i+1]&63)<<6|n[i+2]&63),i+=2)}return r}function Zt(e,t,n){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=q(e,16),this.e=parseInt(t,16),this.d=q(n,16)):alert("Invalid RSA private key")}function Kt(e,t,n,i,r,o,s,a){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=q(e,16),this.e=parseInt(t,16),this.d=q(n,16),this.p=q(i,16),this.q=q(r,16),this.dmp1=q(o,16),this.dmq1=q(s,16),this.coeff=q(a,16)):alert("Invalid RSA private key")}function $t(e,t){var n=new C,i=e>>1;this.e=parseInt(t,16);for(var r=new m(t,16);;){for(;;){if(this.p=new m(e-i,1,n),this.p.subtract(m.ONE).gcd(r).compareTo(m.ONE)==0&&this.p.isProbablePrime(10))break}for(;;){if(this.q=new m(i,1,n),this.q.subtract(m.ONE).gcd(r).compareTo(m.ONE)==0&&this.q.isProbablePrime(10))break}if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q;this.q=o}var o=this.p.subtract(m.ONE),s=this.q.subtract(m.ONE),a=o.multiply(s);if(a.gcd(r).compareTo(m.ONE)==0){this.n=this.p.multiply(this.q);this.d=r.modInverse(a);this.dmp1=this.d.mod(o);this.dmq1=this.d.mod(s);this.coeff=this.q.modInverse(this.p);break}}}function Qt(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),e=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(e)<0;){t=t.add(this.p)}return t.subtract(e).multiply(this.coeff).mod(this.p).multiply(this.q).add(e)}function en(e){e=this.doPrivate(q(e,16));return e==null?null:Xt(e,this.n.bitLength()+7>>3)}O.prototype.doPrivate=Qt;O.prototype.setPrivate=Zt;O.prototype.setPrivateEx=Kt;O.prototype.generate=$t;O.prototype.decrypt=en;var A=[];A.sha1="3021300906052b0e03021a05000414";A.sha256="3031300d060960864801650304020105000420";var L=[];L.sha1=zt.hex;L.sha256=Bt.hex;function M(e,t,n){t/=4;for(var e=(0,L[n])(e),n="00"+A[n]+e,e="",t=t-4-n.length,i=0;i<t;i+=2){e+="ff"}return sPaddedMessageHex="0001"+e+n}function tn(e,t){var n=M(e,this.n.bitLength(),t);return this.doPrivate(q(n,16)).toString(16)}function nn(e){e=M(e,this.n.bitLength(),"sha1");return this.doPrivate(q(e,16)).toString(16)}function rn(e){e=M(e,this.n.bitLength(),"sha256");return this.doPrivate(q(e,16)).toString(16)}function on(e,t,n){var i=new O;i.setPublic(t,n);return i.doPublic(e)}function sn(e,t,n){return on(e,t,n).toString(16).replace(/^1f+00/,"")}function an(e){for(var t in A){var n=A[t],i=n.length;if(e.substring(0,i)==n)return[t,e.substring(i)]}return[]}function un(e,t,n,i){t=sn(t,n,i);n=an(t);if(n.length==0)return!1;t=n[1];e=(0,L[n[0]])(e);return t==e}function ln(e,t){var n=q(e,16);return un(t,n,this.n.toString(16),this.e.toString(16))}function fn(e,t){var t=t.replace(/[ \n]+/g,""),n=this.doPublic(q(t,16)).toString(16).replace(/^1f+00/,""),i=an(n);if(i.length==0)return!1;n=i[1];i=(0,L[i[0]])(e);return n==i}O.prototype.signString=tn;O.prototype.signStringWithSHA1=nn;O.prototype.signStringWithSHA256=rn;O.prototype.verifyString=fn;O.prototype.verifyHexSignatureForMessage=ln;var F=function(){var l={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11]};l.Init=function(){l.Sbox_Inv=Array(256);for(var e=0;e<256;e++){l.Sbox_Inv[l.Sbox[e]]=e}l.ShiftRowTab_Inv=Array(16);for(e=0;e<16;e++){l.ShiftRowTab_Inv[l.ShiftRowTab[e]]=e}l.xtime=Array(256);for(e=0;e<128;e++){l.xtime[e]=e<<1,l.xtime[128+e]=e<<1^27}};l.Done=function(){delete l.Sbox_Inv;delete l.ShiftRowTab_Inv;delete l.xtime};l.ExpandKey=function(e){var t=e.length,n,i=1;switch(t){case 16:n=176;break;case 24:n=208;break;case 32:n=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var r=t;r<n;r+=4){var o=e.slice(r-4,r);if(r%t==0){if(o=[l.Sbox[o[1]]^i,l.Sbox[o[2]],l.Sbox[o[3]],l.Sbox[o[0]]],(i<<=1)>=256)i^=283}else t>24&&r%t==16&&(o=[l.Sbox[o[0]],l.Sbox[o[1]],l.Sbox[o[2]],l.Sbox[o[3]]]);for(var s=0;s<4;s++){e[r+s]=e[r+s-t]^o[s]}}};l.Encrypt=function(e,t){var n=t.length;l.AddRoundKey(e,t.slice(0,16));for(var i=16;i<n-16;i+=16){l.SubBytes(e,l.Sbox),l.ShiftRows(e,l.ShiftRowTab),l.MixColumns(e),l.AddRoundKey(e,t.slice(i,i+16))}l.SubBytes(e,l.Sbox);l.ShiftRows(e,l.ShiftRowTab);l.AddRoundKey(e,t.slice(i,n))};l.Decrypt=function(e,t){var n=t.length;l.AddRoundKey(e,t.slice(n-16,n));l.ShiftRows(e,l.ShiftRowTab_Inv);l.SubBytes(e,l.Sbox_Inv);for(n-=32;n>=16;n-=16){l.AddRoundKey(e,t.slice(n,n+16)),l.MixColumns_Inv(e),l.ShiftRows(e,l.ShiftRowTab_Inv),l.SubBytes(e,l.Sbox_Inv)}l.AddRoundKey(e,t.slice(0,16))};l.SubBytes=function(e,t){for(var n=0;n<16;n++){e[n]=t[e[n]]}};l.AddRoundKey=function(e,t){for(var n=0;n<16;n++){e[n]^=t[n]}};l.ShiftRows=function(e,t){for(var n=[].concat(e),i=0;i<16;i++){e[i]=n[t[i]]}};l.MixColumns=function(e){for(var t=0;t<16;t+=4){var n=e[t+0],i=e[t+1],r=e[t+2],o=e[t+3],s=n^i^r^o;e[t+0]^=s^l.xtime[n^i];e[t+1]^=s^l.xtime[i^r];e[t+2]^=s^l.xtime[r^o];e[t+3]^=s^l.xtime[o^n]}};l.MixColumns_Inv=function(e){for(var t=0;t<16;t+=4){var n=e[t+0],i=e[t+1],r=e[t+2],o=e[t+3],s=n^i^r^o,a=l.xtime[s],u=l.xtime[l.xtime[a^n^r]]^s;s^=l.xtime[l.xtime[a^i^o]];e[t+0]^=u^l.xtime[n^i];e[t+1]^=s^l.xtime[i^r];e[t+2]^=u^l.xtime[r^o];e[t+3]^=s^l.xtime[o^n]}};return l}(),cn=function(){var u={};F.Init();u.b256to64=function(e){var t,n,i,r="",o=0,s=0,a=e.length;for(i=0;i<a;i++){n=e.charCodeAt(i),s==0?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2&63),t=(n&3)<<4):s==1?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t|n>>4&15),t=(n&15)<<2):s==2&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t|n>>6&3),o+=1,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n&63)),o+=1,s+=1,s==3&&(s=0)}s>0&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t),r+="=");s==1&&(r+="=");return r};u.b64to256=function(e){var t,n,i="",r=0,o=0,s=e.length;for(n=0;n<s;n++){t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n)),t>=0&&(r&&(i+=String.fromCharCode(o|t>>6-r&255)),r=r+2&7,o=t<<r&255)}return i};u.b16to64=function(e){var t,n,i="";e.length%2==1&&(e="0"+e);for(t=0;t+3<=e.length;t+=3){n=parseInt(e.substring(t,t+3),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n&63)}t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((n&3)<<4));for(;(i.length&3)>0;){i+="="}return i};u.b64to16=function(e){var t="",n,i=0,r;for(n=0;n<e.length;++n){if(e.charAt(n)=="=")break;v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n));v<0||(i==0?(t+=l(v>>2),r=v&3,i=1):i==1?(t+=l(r<<2|v>>4),r=v&15,i=2):i==2?(t+=l(r),t+=l(v>>2),r=v&3,i=3):(t+=l(r<<2|v>>4),t+=l(v&15),i=0))}i==1&&(t+=l(r<<2));return t};u.string2bytes=function(e){for(var t=[],n=0;n<e.length;n++){t.push(e.charCodeAt(n))}return t};u.bytes2string=function(e){for(var t="",n=0;n<e.length;n++){t+=String.fromCharCode(e[n])}return t};u.blockXOR=function(e,t){for(var n=Array(16),i=0;i<16;i++){n[i]=e[i]^t[i]}return n};u.blockIV=function(){var e=new E,t=Array(16);e.nextBytes(t);return t};u.pad16=function(e){var t=e.slice(0),n=(16-e.length%16)%16;for(i=e.length;i<e.length+n;i++){t.push(0)}return t};u.depad=function(e){for(e=e.slice(0);e[e.length-1]==0;){e=e.slice(0,e.length-1)}return e};u.encryptAESCBC=function(e,t){var n=t.slice(0);F.ExpandKey(n);for(var i=u.string2bytes(e),i=u.pad16(i),r=u.blockIV(),o=0;o<i.length/16;o++){var s=i.slice(o*16,o*16+16),a=r.slice(o*16,o*16+16),s=u.blockXOR(a,s);F.Encrypt(s,n);r=r.concat(s)}n=u.bytes2string(r);return u.b256to64(n)};u.decryptAESCBC=function(e,t){var n=t.slice(0);F.ExpandKey(n);for(var e=u.b64to256(e),i=u.string2bytes(e),r=[],o=1;o<i.length/16;o++){var s=i.slice(o*16,o*16+16),a=i.slice((o-1)*16,(o-1)*16+16);F.Decrypt(s,n);s=u.blockXOR(a,s);r=r.concat(s)}r=u.depad(r);return u.bytes2string(r)};u.wrap60=function(e){for(var t="",n=0;n<e.length;n++){n%60==0&&n!=0&&(t+="\n"),t+=e[n]}return t};u.generateAESKey=function(){var e=Array(16);(new E).nextBytes(e);return e};u.generateRSAKey=function(e,t){Math.seedrandom(Bt.hex(e));var n=new O;n.generate(t,"10001");return n};u.publicKeyString=function(e){return pubkey=e.n.toString(16)};u.publicKeyID=function(e){return Jt(e)};u.publicKeyFromString=function(e){var e=e.split("|")[0],t=new O;t.setPublic(e,"10001");return t};u.encrypt=function(e,t,n){var i="";try{var r=u.publicKeyFromString(t);i+=r.encrypt(e)+"?"}catch(o){return{status:"Invalid public key"}}return{status:"success",cipher:i}};u.decrypt=function(e,t){var n=e.split("?"),i=t.decrypt(n[0]);return{status:"success",plaintext:i,signature:"unsigned"}};return u}();W.exports=cn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var A=A||function(a,n){var e={},t=e.lib={},i=function i(){},r=t.Base={extend:function d(e){i.prototype=this;var t=new i;e&&t.mixIn(e);t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)});t.init.prototype=t;t.$super=this;return t},create:function p(){var e=this.extend();e.init.apply(e,arguments);return e},init:function v(){},mixIn:function m(e){for(var t in e){e.hasOwnProperty(t)&&(this[t]=e[t])}e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function y(){return this.init.prototype.extend(this)}},u=t.WordArray=r.extend({init:function v(e,t){e=this.words=e||[];this.sigBytes=t!=n?t:4*e.length},toString:function g(e){return(e||s).stringify(this)},concat:function S(e){var t=this.words,n=e.words,i=this.sigBytes;e=e.sigBytes;this.clamp();if(i%4)for(var r=0;r<e;r++){t[i+r>>>2]|=(n[r>>>2]>>>24-8*(r%4)&255)<<24-8*((i+r)%4)}else if(65535<n.length)for(r=0;r<e;r+=4){t[i+r>>>2]=n[r>>>2]}else t.push.apply(t,n);this.sigBytes+=e;return this},clamp:function w(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-8*(t%4);e.length=a.ceil(t/4)},clone:function y(){var e=r.clone.call(this);e.words=this.words.slice(0);return e},random:function P(e){for(var t=[],n=0;n<e;n+=4){t.push(4294967296*a.random()|0)}return new u.init(t,e)}}),o=e.enc={},s=o.Hex={stringify:function _(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-8*(i%4)&255;n.push((r>>>4).toString(16));n.push((r&15).toString(16))}return n.join("")},parse:function b(e){for(var t=e.length,n=[],i=0;i<t;i+=2){n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8)}return new u.init(n,t/2)}},l=o.Latin1={stringify:function _(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){n.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255))}return n.join("")},parse:function b(e){for(var t=e.length,n=[],i=0;i<t;i++){n[i>>>2]|=(e.charCodeAt(i)&255)<<24-8*(i%4)}return new u.init(n,t)}},f=o.Utf8={stringify:function _(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function b(e){return l.parse(unescape(encodeURIComponent(e)))}},c=t.BufferedBlockAlgorithm=r.extend({reset:function C(){this._data=new u.init;this._nDataBytes=0},_append:function k(e){"string"==typeof e&&(e=f.parse(e));this._data.concat(e);this._nDataBytes+=e.sigBytes},_process:function T(e){var t=this._data,n=t.words,i=t.sigBytes,r=this.blockSize,o=i/(4*r),o=e?a.ceil(o):a.max((o|0)-this._minBufferSize,0);e=o*r;i=a.min(4*e,i);if(e){for(var s=0;s<e;s+=r){this._doProcessBlock(n,s)}s=n.splice(0,e);t.sigBytes-=i}return new u.init(s,i)},clone:function y(){var e=r.clone.call(this);e._data=this._data.clone();return e},_minBufferSize:0});t.Hasher=c.extend({cfg:r.extend(),init:function v(e){this.cfg=this.cfg.extend(e);this.reset()},reset:function C(){c.reset.call(this);this._doReset()},update:function R(e){this._append(e);this._process();return this},finalize:function x(e){e&&this._append(e);return this._doFinalize()},blockSize:16,_createHelper:function I(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function D(n){return function(e,t){return new h.HMAC.init(n,t).finalize(e)}}});var h=e.algo={};return e}(Math);(function(){var e=A,u=e.lib.WordArray;e.enc.Base64={stringify:function a(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();e=[];for(var r=0;r<n;r+=3){for(var o=(t[r>>>2]>>>24-8*(r%4)&255)<<16|(t[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|t[r+2>>>2]>>>24-8*((r+2)%4)&255,s=0;4>s&&r+.75*s<n;s++){e.push(i.charAt(o>>>6*(3-s)&63))}}if(t=i.charAt(64))for(;e.length%4;){e.push(t)}return e.join("")},parse:function l(e){var t=e.length,n=this._map,i=n.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(t=i));for(var i=[],r=0,o=0;o<t;o++){if(o%4){var s=n.indexOf(e.charAt(o-1))<<2*(o%4),a=n.indexOf(e.charAt(o))>>>6-2*(o%4);i[r>>>2]|=(s|a)<<24-8*(r%4);r++}}return u.create(i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(o){function b(e,t,n,i,r,o,s){e=e+(t&n|~t&i)+r+s;return(e<<o|e>>>32-o)+t}function C(e,t,n,i,r,o,s){e=e+(t&i|n&~i)+r+s;return(e<<o|e>>>32-o)+t}function k(e,t,n,i,r,o,s){e=e+(t^n^i)+r+s;return(e<<o|e>>>32-o)+t}function T(e,t,n,i,r,o,s){e=e+(n^(t|~i))+r+s;return(e<<o|e>>>32-o)+t}for(var e=A,t=e.lib,n=t.WordArray,i=t.Hasher,t=e.algo,R=[],r=0;64>r;r++){R[r]=4294967296*o.abs(o.sin(r+1))|0}t=t.MD5=i.extend({_doReset:function s(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function x(e,t){for(var n=0;16>n;n++){var i=t+n,r=e[i];e[i]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360}var n=this._hash.words,i=e[t+0],r=e[t+1],o=e[t+2],s=e[t+3],a=e[t+4],u=e[t+5],l=e[t+6],f=e[t+7],c=e[t+8],h=e[t+9],d=e[t+10],p=e[t+11],v=e[t+12],m=e[t+13],y=e[t+14],g=e[t+15],S=n[0],w=n[1],P=n[2],_=n[3],S=b(S,w,P,_,i,7,R[0]),_=b(_,S,w,P,r,12,R[1]),P=b(P,_,S,w,o,17,R[2]),w=b(w,P,_,S,s,22,R[3]),S=b(S,w,P,_,a,7,R[4]),_=b(_,S,w,P,u,12,R[5]),P=b(P,_,S,w,l,17,R[6]),w=b(w,P,_,S,f,22,R[7]),S=b(S,w,P,_,c,7,R[8]),_=b(_,S,w,P,h,12,R[9]),P=b(P,_,S,w,d,17,R[10]),w=b(w,P,_,S,p,22,R[11]),S=b(S,w,P,_,v,7,R[12]),_=b(_,S,w,P,m,12,R[13]),P=b(P,_,S,w,y,17,R[14]),w=b(w,P,_,S,g,22,R[15]),S=C(S,w,P,_,r,5,R[16]),_=C(_,S,w,P,l,9,R[17]),P=C(P,_,S,w,p,14,R[18]),w=C(w,P,_,S,i,20,R[19]),S=C(S,w,P,_,u,5,R[20]),_=C(_,S,w,P,d,9,R[21]),P=C(P,_,S,w,g,14,R[22]),w=C(w,P,_,S,a,20,R[23]),S=C(S,w,P,_,h,5,R[24]),_=C(_,S,w,P,y,9,R[25]),P=C(P,_,S,w,s,14,R[26]),w=C(w,P,_,S,c,20,R[27]),S=C(S,w,P,_,m,5,R[28]),_=C(_,S,w,P,o,9,R[29]),P=C(P,_,S,w,f,14,R[30]),w=C(w,P,_,S,v,20,R[31]),S=k(S,w,P,_,u,4,R[32]),_=k(_,S,w,P,c,11,R[33]),P=k(P,_,S,w,p,16,R[34]),w=k(w,P,_,S,y,23,R[35]),S=k(S,w,P,_,r,4,R[36]),_=k(_,S,w,P,a,11,R[37]),P=k(P,_,S,w,f,16,R[38]),w=k(w,P,_,S,d,23,R[39]),S=k(S,w,P,_,m,4,R[40]),_=k(_,S,w,P,i,11,R[41]),P=k(P,_,S,w,s,16,R[42]),w=k(w,P,_,S,l,23,R[43]),S=k(S,w,P,_,h,4,R[44]),_=k(_,S,w,P,v,11,R[45]),P=k(P,_,S,w,g,16,R[46]),w=k(w,P,_,S,o,23,R[47]),S=T(S,w,P,_,i,6,R[48]),_=T(_,S,w,P,f,10,R[49]),P=T(P,_,S,w,y,15,R[50]),w=T(w,P,_,S,u,21,R[51]),S=T(S,w,P,_,v,6,R[52]),_=T(_,S,w,P,s,10,R[53]),P=T(P,_,S,w,d,15,R[54]),w=T(w,P,_,S,r,21,R[55]),S=T(S,w,P,_,c,6,R[56]),_=T(_,S,w,P,g,10,R[57]),P=T(P,_,S,w,l,15,R[58]),w=T(w,P,_,S,m,21,R[59]),S=T(S,w,P,_,a,6,R[60]),_=T(_,S,w,P,p,10,R[61]),P=T(P,_,S,w,o,15,R[62]),w=T(w,P,_,S,h,21,R[63]);n[0]=n[0]+S|0;n[1]=n[1]+w|0;n[2]=n[2]+P|0;n[3]=n[3]+_|0},_doFinalize:function a(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var r=o.floor(n/4294967296);t[(i+64>>>9<<4)+15]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360;t[(i+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360;e.sigBytes=4*(t.length+1);this._process();e=this._hash;t=e.words;for(n=0;4>n;n++){i=t[n],t[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}return e},clone:function u(){var e=i.clone.call(this);e._hash=this._hash.clone();return e}});e.MD5=i._createHelper(t);e.HmacMD5=i._createHmacHelper(t)})(Math);(function(){var e=A,t=e.lib,n=t.Base,l=t.WordArray,t=e.algo,i=t.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function r(e){this.cfg=this.cfg.extend(e)},compute:function f(e,t){for(var n=this.cfg,i=n.hasher.create(),r=l.create(),o=r.words,s=n.keySize,n=n.iterations;o.length<s;){a&&i.update(a);var a=i.update(e).finalize(t);i.reset();for(var u=1;u<n;u++){a=i.finalize(a),i.reset()}r.concat(a)}r.sigBytes=4*s;return r}});e.EvpKDF=function(e,t,n){return i.create(n).compute(e,t)}})();A.lib.Cipher||function(o){var e=A,t=e.lib,n=t.Base,s=t.WordArray,i=t.BufferedBlockAlgorithm,r=e.enc.Base64,a=e.algo.EvpKDF,u=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function v(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function m(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function y(e,t,n){this.cfg=this.cfg.extend(n);this._xformMode=e;this._key=t;this.reset()},reset:function g(){i.reset.call(this);this._doReset()},process:function S(e){this._append(e);return this._process()},finalize:function w(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function P(i){return{encrypt:function r(e,t,n){return("string"==typeof t?p:d).encrypt(i,e,t,n)},decrypt:function o(e,t,n){return("string"==typeof t?p:d).decrypt(i,e,t,n)}}}});t.StreamCipher=u.extend({_doFinalize:function _(){return this._process(!0)},blockSize:1});var l=e.mode={},f=function f(e,t,n){var i=this._iv;i?this._iv=o:i=this._prevBlock;for(var r=0;r<n;r++){e[t+r]^=i[r]}},c=(t.BlockCipherMode=n.extend({createEncryptor:function v(e,t){return this.Encryptor.create(e,t)},createDecryptor:function m(e,t){return this.Decryptor.create(e,t)},init:function y(e,t){this._cipher=e;this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function b(e,t){var n=this._cipher,i=n.blockSize;f.call(this,e,t,i);n.encryptBlock(e,t);this._prevBlock=e.slice(t,t+i)}});c.Decryptor=c.extend({processBlock:function b(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t);f.call(this,e,t,i);this._prevBlock=r}});l=l.CBC=c;c=(e.pad={}).Pkcs7={pad:function C(e,t){for(var n=4*t,n=n-e.sigBytes%n,i=n<<24|n<<16|n<<8|n,r=[],o=0;o<n;o+=4){r.push(i)}n=s.create(r,n);e.concat(n)},unpad:function k(e){e.sigBytes-=e.words[e.sigBytes-1>>>2]&255}};t.BlockCipher=u.extend({cfg:u.cfg.extend({mode:l,padding:c}),reset:function g(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function T(e,t){this._mode.processBlock(e,t)},_doFinalize:function _(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function y(e){this.mixIn(e)},toString:function R(e){return(e||this.formatter).stringify(this)}}),l=(e.format={}).OpenSSL={stringify:function x(e){var t=e.ciphertext;e=e.salt;return(e?s.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function I(e){e=r.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=s.create(t.slice(2,4));t.splice(0,4);e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},d=t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function D(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);t=r.finalize(t);r=r.cfg;return h.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function E(e,t,n,i){i=this.cfg.extend(i);t=this._parse(t,i.format);return e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function q(e,t){return"string"==typeof e?t.parse(e,this):e}}),e=(e.kdf={}).OpenSSL={execute:function O(e,t,n,i){i||(i=s.random(8));e=a.create({keySize:t+n}).compute(e,i);n=s.create(e.words.slice(t),4*n);e.sigBytes=4*t;return h.create({key:e,iv:n,salt:i})}},p=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:e}),encrypt:function D(e,t,n,i){i=this.cfg.extend(i);n=i.kdf.execute(n,e.keySize,e.ivSize);i.iv=n.iv;e=d.encrypt.call(this,e,t,n.key,i);e.mixIn(n);return e},decrypt:function E(e,t,n,i){i=this.cfg.extend(i);t=this._parse(t,i.format);n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);i.iv=n.iv;return d.decrypt.call(this,e,t,n.key,i)}})}();(function(){for(var e=A,t=e.lib.BlockCipher,n=e.algo,s=[],i=[],r=[],o=[],a=[],u=[],l=[],f=[],c=[],h=[],d=[],p=0;256>p;p++){d[p]=128>p?p<<1:p<<1^283}for(var v=0,m=0,p=0;256>p;p++){var y=m^m<<1^m<<2^m<<3^m<<4,y=y>>>8^y&255^99;s[v]=y;i[y]=v;var g=d[v],S=d[g],w=d[S],P=257*d[y]^16843008*y;r[v]=P<<24|P>>>8;o[v]=P<<16|P>>>16;a[v]=P<<8|P>>>24;u[v]=P;P=16843009*w^65537*S^257*g^16843008*v;l[y]=P<<24|P>>>8;f[y]=P<<16|P>>>16;c[y]=P<<8|P>>>24;h[y]=P;v?(v=g^d[d[d[w^g]]],m^=d[d[m]]):v=m=1}var _=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function b(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],r=0;r<e;r++){if(r<n)i[r]=t[r];else{var o=i[r-1];r%n?6<n&&4==r%n&&(o=s[o>>>24]<<24|s[o>>>16&255]<<16|s[o>>>8&255]<<8|s[o&255]):(o=o<<8|o>>>24,o=s[o>>>24]<<24|s[o>>>16&255]<<16|s[o>>>8&255]<<8|s[o&255],o^=_[r/n|0]<<24);i[r]=i[r-n]^o}}t=this._invKeySchedule=[];for(n=0;n<e;n++){r=e-n,o=n%4?i[r]:i[r-4],t[n]=4>n||4>=r?o:l[s[o>>>24]]^f[s[o>>>16&255]]^c[s[o>>>8&255]]^h[s[o&255]]}},encryptBlock:function C(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,a,u,s)},decryptBlock:function k(e,t){var n=e[t+1];e[t+1]=e[t+3];e[t+3]=n;this._doCryptBlock(e,t,this._invKeySchedule,l,f,c,h,i);n=e[t+1];e[t+1]=e[t+3];e[t+3]=n},_doCryptBlock:function T(e,t,n,i,r,o,s,a){for(var u=this._nRounds,l=e[t]^n[0],f=e[t+1]^n[1],c=e[t+2]^n[2],h=e[t+3]^n[3],d=4,p=1;p<u;p++){var v=i[l>>>24]^r[f>>>16&255]^o[c>>>8&255]^s[h&255]^n[d++],m=i[f>>>24]^r[c>>>16&255]^o[h>>>8&255]^s[l&255]^n[d++],y=i[c>>>24]^r[h>>>16&255]^o[l>>>8&255]^s[f&255]^n[d++],h=i[h>>>24]^r[l>>>16&255]^o[f>>>8&255]^s[c&255]^n[d++],l=v,f=m,c=y}v=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[h&255])^n[d++];m=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[l&255])^n[d++];y=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[f&255])^n[d++];h=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[c&255])^n[d++];e[t]=v;e[t+1]=m;e[t+2]=y;e[t+3]=h},keySize:8});e.AES=t._createHelper(n)})();t["default"]=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function(){var e=function(){function e(){s(this,e)}i(e,[{key:"createClientObject",value:function r(e,t,n,i){return{socket:e,id:t,playURL:n,deviceSerial:i.deviceSerial||"",verificationCode:i.verificationCode||"",resolve:null,reject:null}}},{key:"playCmd",value:function n(e){var t={sequence:0,cmd:"realplay",deviceSerial:e.deviceSerial,verificationCode:e.verificationCode,url:e.playURL};return JSON.stringify(t)}},{key:"playbackCmd",value:function o(e,t,n){var i={sequence:0,cmd:"playback",deviceSerial:e.deviceSerial,verificationCode:e.verificationCode,url:e.playURL,startTime:t,endTime:n};return JSON.stringify(i)}}]);return e}();return e}();t.LocalService=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var te=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function ne(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var ie=0;var re=1;var oe=2;var i=3;var r=4;var o=5;var s=6;var a=7;var se=11;var ae=16;var ue=31;var le=35;var fe=36;var ce=48;var he=60;var de=61;var u=62;var pe=63;var ve=100;var me=101;var ye=0;var ge=1;var Se=0;var we=1;var Pe=0;var _e=1;var be=15;var Ce=8;var ke=1;var Te=50;var Re=5;var xe=2;var Ie=5*1024*1024;var l=100;var De=1024*20;var f=200;var Ee=100;var qe=20;var Me=100;var Oe=200;var Fe={width:0,height:0,frameNum:0,yuvData:null};var We={width:0,height:0,frameNum:0,yuvData:null};var Be={sampleRate:0,channel:0,bitsPerSample:0,length:0,pcmData:null};var Ae=false;var Le=false;var Ne={id:null,cmd:null,data:null,errorCode:0,status:null};var c=e.JSPlayCtrl=function(){function a(e,t,s){ne(this,a);if(e!=null&&e!==undefined&&typeof e==="string"){this.szBasePath=e}else{return ie}if(t&&typeof t==="function"){this.fnCallBack=t}else{return ie}this.decodeWorker=null;this.streamOpenMode=null;this.bOpenStream=false;this.audioRenderer=null;this.aAudioBuffer=[];this.iAudioBufferSize=0;this.Volume=0;this.oSuperRender=null;this.aVideoFrameBuffer=[];this.YUVBufferSize=ke;this.szOSDTime=null;this.bJSPrintLog=false;this.bWriteYUVData=false;this.iYUV10size=0;this.aVideoYUVBuffer=[];this.bWritePCMData=false;this.iAudioBuffer500Size=0;this.aAudioPCMBuffer=[];this.bWriteRawData=false;this.iRawDataSize=0;this.aRawDataBuffer=[];this.bWriteRTPData=true;this.iRTPDataSize=0;this.aRTPDataBuffer=[];this.downloadRTP=false;this.rtpNum=0;this.bPlaySound=false;this.bPlay=false;this.bPause=false;this.bOnebyOne=false;this.bPlayRateChange=false;this.audioNum=0;this.videoNum=0;this.FrameForwardLen=1;this.bOnlyPlaySound=false;this.bVideoCropInfo=false;this.dataCallBackFun=null;this.YUVBufSizeCBFun=null;this.DecCallBackFun=null;this.DisplayCallBackFun=null;this.PCMCallBackFun=null;this.DecInfoYUV=Fe;this.DisplayInfoYUV=We;this.DecInfoPCM=Be;this.nWidth=0;this.nHeight=0;this.nSPSCropLeft=0;this.nSPSCropRight=0;this.nSPSCropTop=0;this.nSPSCropBottom=0;this.sCanvasId=null;this.aDisplayBuf=null;this.bVisibility=true;this.nDecFrameType=Pe;this.runtimeInfoCBFun=null;this.streamInfoCBFun=null;this.iCanvasWidth=0;this.iCanvasHeight=0;this.iZoomNum=0;this.iRatio_x=1;this.iRatio_y=1;this.stDisplayRect={top:0,left:0,right:0,bottom:0};this.bDisRect=false;this.stYUVRect={top:0,left:0,right:0,bottom:0};this.aInputDataLens=[];this.aInputDataBuffer=[];this.bIsGetYUV=false;this.bIsFirstFrame=true;this.iInputMaxBufSize=Ie;this.bIsInput=false;this.bIsInputBufOver=false;this.bIsInputBufWillOver=false;this.iInputDataLen=De;var E=this;this.errorCode=re;this.loopNum=0;this.setCallBack=function(e,t,n,i,r){var o=Ne;o.id=s;o.cmd=t;o.data=n;o.errorCode=i;o.status=r;e.fnCallBack(o)};if(!Ae){Ae=true;var n=document.createElement("script");n.type="text/javascript";n.src=E.szBasePath+"AudioRenderer.js";var i=document.getElementsByTagName("head")[0];i.appendChild(n);n.onload=n.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){if(this.bJSPrintLog){console.log(">>>JS AudioRenderer.js load finish!")}}}}if(!Le){Le=true;var r=document.createElement("script");r.type="text/javascript";r.src=E.szBasePath+"SuperRender_10.js";var o=document.getElementsByTagName("head")[0];o.appendChild(r);r.onload=r.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){if(this.bJSPrintLog){console.log(">>>JS SuperRender_10.js load finish!")}}}}this.convertErrorCode=function(e){switch(e){case 1:return re;case 98:return ie;default:return e}};this.arrayBufferCopy=function(e){var t=e.byteLength;var n=new Uint8Array(t);var i=new Uint8Array(e);var r=0;for(r=0;r<t;r++){n[r]=i[r]}return n};this.inputDataFun=function(){var e;var t;var n=0;E.bIsGetYUV=false;if(E.bIsInputBufOver||E.bIsInputBufWillOver){e=new Uint8Array(1);t=new Uint8Array(e);var i={command:"InputData",data:t.buffer,dataSize:0};E.decodeWorker.postMessage(i,[i.data])}else{if(E.bPlay&&(!E.bPause||E.bOnebyOne)||this.bOnlyPlaySound){while(E.aInputDataLens.length>0){n+=E.aInputDataLens.shift();if(n>E.iInputDataLen){break}}e=E.aInputDataBuffer.splice(0,n);t=new Uint8Array(e);var i={command:"InputData",data:t.buffer,dataSize:n};E.decodeWorker.postMessage(i,[i.data])}}e=null;t=null};this.getPic=function(e,t){if(this.decodeWorker==null||this.oSuperRender==null){return oe}if(!this.bPlay){return oe}if(e&&typeof e==="function"){this.dataCallBackFun=e}else{return ie}if(0===this.iZoomNum){this.stYUVRect.left=0;this.stYUVRect.top=0;this.stYUVRect.right=0;this.stYUVRect.bottom=0}else{if(0===this.iCanvasWidth||0===this.iCanvasHeight){this.stYUVRect.left=0;this.stYUVRect.top=0;this.stYUVRect.right=0;this.stYUVRect.bottom=0}else{var n=this.nWidth/this.iCanvasWidth;var i=this.nHeight/this.iCanvasHeight;this.stYUVRect.left=Math.round(this.stDisplayRect.left*n);this.stYUVRect.top=Math.round(this.stDisplayRect.top*i);this.stYUVRect.right=Math.round(this.stDisplayRect.right*n);this.stYUVRect.bottom=Math.round(this.stDisplayRect.bottom*i)}if(this.stYUVRect.right-this.stYUVRect.left<32||this.stYUVRect.bottom-this.stYUVRect.top<32){return ie}}if(this.aDisplayBuf==null){return oe}var r=this.arrayBufferCopy(this.aDisplayBuf);var o={command:t,data:r.buffer,width:this.nWidth,height:this.nHeight,rect:this.stYUVRect};this.decodeWorker.postMessage(o,[o.data]);return re};this.createWorker=function(D){if(window.Worker){if(this.decodeWorker==null){this.decodeWorker=new Worker(E.szBasePath+"DecodeWorker.js");if(D.bJSPrintLog){console.log(">>>JSPlayV1.1 createWorker success!")}if(this.decodeWorker==null){return he}}this.decodeWorker.onmessage=function(e){var t=null;var n=e.data;switch(n["function"]){case"printLog":console.log("print JSPlayerSDK log failed");break;case"loaded":t="loaded";D.setCallBack(D,"loaded",0,0,true);break;case"SetStreamOpenMode":t="SetStreamOpenMode";break;case"OpenStream":t="OpenStream";if(1===n.errorCode){E.bOpenStream=true;return}break;case"InputData":t="InputData";if(n.errorCode===se){E.bIsInputBufOver=true;console.log("yff inputBuffer over set key frame \n");if(E.nDecFrameType!=_e){E.PlayM4_SetDecodeFrameType(_e)}}if(n.errorCode===fe){E.bIsInputBufWillOver=true}if(n.errorCode===ue){E.bIsInputBufOver=false;E.bIsInputBufWillOver=false;if(E.aInputDataLens.length>0&&E.bIsInput){E.inputDataFun();E.bIsInput=false}else{E.bIsGetYUV=true}}break;case"GetFrameData":t="GetFrameData";if(!E.bOnlyPlaySound){if(n.data!=null&&n.frameInfo!=null){var i=n.frameInfo.width;var r=n.frameInfo.height}if(!E.bPlay){return}E.errorCode=n.errorCode;if(!E.bIsFirstFrame&&(n.errorCode===ue||n.errorCode===le)){if(n.errorCode===ue){E.bIsInputBufOver=false;E.bIsInputBufWillOver=false}if(E.loopNum>5){E.bIsGetYUV=true;E.loopNum=0}else{E.inputDataFun();E.loopNum++}break}else if(E.bIsInputBufOver||E.bIsInputBufWillOver){E.inputDataFun()}else{if(n.type==="videoType"){if(E.aInputDataLens.length>0&&E.bIsInput){E.inputDataFun();E.bIsInput=false}else{E.bIsGetYUV=true}E.bIsFirstFrame=false}}}if(E.bVisibility){if(re===n.errorCode){switch(n.type){case"videoType":if(n.data==null||n.frameInfo==null){return ie}if(E.DecCallBackFun!=null){E.DecInfoYUV.height=n.frameInfo.height;E.DecInfoYUV.width=n.frameInfo.width;E.DecInfoYUV.frameNum=n.frameInfo.frameNum;E.DecInfoYUV.yuvData=new Uint8Array(n.data);E.DecCallBackFun(E.DecInfoYUV)}E.bIsFirstFrame=false;D.nWidth=n.frameInfo.width;D.nHeight=n.frameInfo.height;D.nSPSCropLeft=n.frameInfo.cropLeft;D.nSPSCropRight=n.frameInfo.cropRight;D.nSPSCropTop=n.frameInfo.cropTop;D.nSPSCropBottom=n.frameInfo.cropBottom;var o=new Object;o.data=n.data;o.osdTime=n.osd;o.nWidth=n.frameInfo.width;o.nHeight=n.frameInfo.height;o.frameNum=n.frameInfo.frameNum;o.timeStamp=n.frameInfo.timeStamp;if(D.bWriteYUVData){var s=new Uint8Array(n.data);var a=D.aVideoYUVBuffer.length;for(var u=0,l=s.length;u<l;u++){D.aVideoYUVBuffer[a+u]=s[u]}D.iYUV10size++;s=null}if(D.bWriteYUVData&&D.iYUV10size>=qe){var f=new Uint8Array(D.aVideoYUVBuffer);D.downloadFile(f,"videoYUV.data");D.aVideoYUVBuffer.splice(0,D.aVideoYUVBuffer.length);D.bWriteYUVData=false;D.iYUV10size=0;f=null}D.aVideoFrameBuffer.push(o);o=null;var c=D.aVideoFrameBuffer.length;if(c>Re){if(!D.bOnebyOne){D.aVideoFrameBuffer.splice(0,xe)}}if(D.bOnebyOne){if(D.aVideoFrameBuffer.length>=be){D.setCallBack(D,"OnebyOne",0,0,false);D.bIsFirstFrame=true;break}}break;case"audioType":if(D.bPlaySound&&!D.bPlayRateChange||E.bOnlyPlaySound){if(E.PCMCallBackFun!=null){E.DecInfoPCM.sampleRate=n.frameInfo.samplesPerSec;E.DecInfoPCM.channel=n.frameInfo.channels;E.DecInfoPCM.bitsPerSample=n.frameInfo.bitsPerSample;E.DecInfoPCM.pcmData=new Uint8Array(n.data);E.DecInfoPCM.length=E.DecInfoPCM.pcmData.length;E.PCMCallBackFun(E.DecInfoPCM)}var s=new Uint8Array(n.data);var a=D.aAudioBuffer.length;for(var u=0,l=s.length;u<l;u++){D.aAudioBuffer[a+u]=s[u]}D.iAudioBufferSize++;s=null;if(D.bWritePCMData){var s=new Uint8Array(n.data);var a=D.aAudioPCMBuffer.length;for(var u=0,l=s.length;u<l;u++){D.aAudioPCMBuffer[a+u]=s[u]}console.log("audio_type num:"+D.iAudioBuffer500Size+", len:"+s.length);D.iAudioBuffer500Size++;s=null}if(D.bWritePCMData&&D.iAudioBuffer500Size>=Ee){var h=new Uint8Array(D.aAudioPCMBuffer);D.downloadFile(h,"audioPCM.data");D.aAudioPCMBuffer.splice(0,D.aAudioPCMBuffer.length);D.bWritePCMData=false;D.iAudioBuffer500Size=0;h=null}if(D.iAudioBufferSize>=Te){D.audioRenderer.Play(D.aAudioBuffer,D.aAudioBuffer.length,n.frameInfo);D.aAudioBuffer.splice(0,D.aAudioBuffer.length);D.aAudioBuffer.length=0;D.iAudioBufferSize=0}}break;case"privateType":break;default:break}}}break;case"GetRawData":t="GetRawData";if(D.bWriteRawData){var d=new Uint8Array(n.data);var p=D.aRawDataBuffer.length;for(var u=0,l=d.length;u<l;u++){D.aRawDataBuffer[p+u]=d[u]}D.iRawDataSize++;d=null}if(D.bWriteRawData&&D.iRawDataSize>=Me){var v=new Uint8Array(D.aRawDataBuffer);D.downloadFile(v,"rawBuffer.data");D.aRawDataBuffer.splice(0,D.aRawDataBuffer.length);D.bWriteRawData=false;D.iRawDataSize=0;v=null}break;case"PlaySound":t="PlaySound";break;case"GetJPEG":t="GetJPEG";if(n.errorCode!==re){console.log("GetJPEG ErrorParam");return}var m=n.data;D.dataCallBackFun(m);break;case"GetBMP":t="GetBMP";if(n.errorCode!==re){console.log("GetBMP ErrorParam");return}var y=n.data;D.dataCallBackFun(y);break;case"RunTimeInfoCallBack":t="RunTimeInfoCallBack";var g=n.nRunTimeModule;var S=n.nStrVersion;var w=n.nFrameTimeStamp;var P=n.nFrameNum;var _=n.nErrorCode;if(D.runtimeInfoCBFun!=null){D.runtimeInfoCBFun(g,S,w,P,_)}break;case"StreamInfoCallBack":t="StreamInfoCallBack";var b=n.nSystemformat;var C=n.nVideoformat;var k=n.nAudioformat;var T=n.nAudiochannels;var R=n.nAudiobitspersample;var x=n.nAudiosamplesrate;var I=n.nAudiobitrate;if(D.streamInfoCBFun!=null){D.streamInfoCBFun(b,C,k,T,R,x,I)}break;default:break}if("GetFrameData"!==t&&"loaded"!==t){D.setCallBack(D,t,0,D.convertErrorCode(n.errorCode),true)}else{if(ae===n.errorCode||me===n.errorCode||ve===n.errorCode||ce===n.errorCode){D.setCallBack(D,t,0,D.convertErrorCode(n.errorCode),true)}}}}};this.createWorker(E);this.draw=function(){if(E.bPlay){if(!E.bPause||E.bOnebyOne){requestAnimationFrame(E.draw);var e=E.aVideoFrameBuffer.length;if(E.YUVBufSizeCBFun!=null){E.YUVBufSizeCBFun(e)}if(E.bOnebyOne){if(e<=Ce){E.setCallBack(E,"OnebyOne",0,ue,true)}if(e<=E.FrameForwardLen+1){E.setCallBack(E,"OnebyOne",0,ue,true);return}else{var t=E.FrameForwardLen;while(t>1){var n=E.aVideoFrameBuffer.shift();t--}}E.bOnebyOne=false}if(e>0){var i=E.aVideoFrameBuffer.shift();E.aDisplayBuf=i.data;var r=new Uint8Array(E.aDisplayBuf);if(E.bVideoCropInfo){E.oSuperRender.SR_DisplayFrameData(i.nWidth,i.nHeight,r,i.nWidth-E.nSPSCropLeft-E.nSPSCropRight,i.nHeight-E.nSPSCropTop-E.nSPSCropBottom)}else{E.oSuperRender.SR_DisplayFrameData(i.nWidth,i.nHeight,r,i.nWidth,i.nHeight)}if(E.DisplayCallBackFun!=null){E.DisplayInfoYUV.height=i.nHeight;E.DisplayInfoYUV.width=i.nWidth;E.DisplayInfoYUV.frameNum=i.frameNum;E.DisplayInfoYUV.yuvData=new Uint8Array(r);E.DisplayCallBackFun(E.DisplayInfoYUV)}r=null;E.szOSDTime=i.osdTime.year+"-"+i.osdTime.month+"-"+i.osdTime.day+" "+i.osdTime.hour+":"+i.osdTime.minute+":"+i.osdTime.second;i=null}else{E.setCallBack(E,"Play",0,ue,true)}}}else{if(!E.bPlay){E.aVideoFrameBuffer.splice(0,E.aVideoFrameBuffer.length);E.aAudioBuffer.splice(0,E.aAudioBuffer.length)}}}}te(a,[{key:"PlayM4_SetCurrentFrameNum",value:function n(e,t){return ae}},{key:"PlayM4_OpenPlayerSDKPrintLog",value:function t(e){if(e===true){this.bJSPrintLog=true;this.decodeWorker.postMessage({command:"printLog",data:e})}else{this.bJSPrintLog=false;this.decodeWorker.postMessage({command:"printLog",data:e})}return re}},{key:"PlayM4_DownloadYUVdata",value:function e(){this.bWriteYUVData=true;return re}},{key:"PlayM4_DownloadPCMdata",value:function i(){this.bWritePCMData=true;return re}},{key:"PlayM4_SetDecCallBack",value:function r(e){if(e&&typeof e==="function"){this.DecCallBackFun=e;return re}else{return ie}}},{key:"PlayM4_SetDisplayCallBack",value:function o(e){if(e&&typeof e==="function"){this.DisplayCallBackFun=e;return re}else{return ie}}},{key:"PlayM4_SetPCMCallBack",value:function s(e){if(e&&typeof e==="function"){this.PCMCallBackFun=e;return re}else{return ie}}},{key:"PlayM4_SetStreamOpenMode",value:function u(e){if(e==null||e===undefined){return ie}if(e!==Se&&e!==we){return ie}this.streamOpenMode=e;return re}},{key:"PlayM4_DownloadRTPData",value:function l(e){this.downloadRTP=e}},{key:"PlayM4_SetVideoCropInfo",value:function f(e){if(e==null||e===undefined){return ie}if(typeof e!=="boolean"){return ie}this.bVideoCropInfo=e;return re}},{key:"PlayM4_OpenStream",value:function c(e,t,n){if(this.bJSPrintLog){console.log(">>>JS PlayM4_OpenStream nSysTime:"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds()+"."+(new Date).getMilliseconds())}if(this.decodeWorker==null){return oe}if(this.downloadRTP){var i=new Uint8Array(e.buffer);this.DownloadRTPData(i);console.log("write 40 hik head")}if(e==null||t<=0||n<=0){return ie}this.bPlay=false;this.bPause=false;this.bOnebyOne=false;this.bIsFirstFrame=true;this.bIsGetYUV=false;this.bIsInput=false;this.decodeWorker.postMessage({command:"SetStreamOpenMode",data:this.streamOpenMode});this.decodeWorker.postMessage({command:"OpenStream",data:e,dataSize:t,bufPoolSize:n});this.bOpenStream=true;return re}},{key:"PlayM4_CloseStream",value:function h(){if(this.decodeWorker===null||this.bOpenStream===false){return oe}this.bOnlyPlaySound=false;this.PlayM4_Stop();this.decodeWorker.postMessage({command:"CloseStream"});if(this.oSuperRender!==null){this.oSuperRender.SR_Destroy();this.oSuperRender=null}if(this.audioRenderer!==null){this.audioRenderer.Stop();this.audioRenderer=null}this.aAudioBuffer.splice(0,this.aAudioBuffer.length);this.aVideoFrameBuffer.splice(0,this.aVideoFrameBuffer.length);this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length);this.aInputDataLens.splice(0,this.aInputDataLens.length);this.aVideoYUVBuffer.splice(0,this.aVideoYUVBuffer.length);this.aAudioPCMBuffer.splice(0,this.aAudioPCMBuffer.length);this.aRawDataBuffer.splice(0,this.aRawDataBuffer.length);this.bOpenStream=false;this.iAudioBufferSize=0;this.szOSDTime=null;return re}},{key:"PlayM4_Destroy",value:function d(){if(this.decodeWorker===null){return re}this.PlayM4_CloseStream();this.decodeWorker.terminate();this.decodeWorker=null;return re}},{key:"PlayM4_InputData",value:function p(e,t){var n=this.aInputDataBuffer.length;if(t===4){var i=new Uint8Array(e.buffer);if(i[0]===1&&i[1]===2&&i[2]===3&&i[3]===4){if(this.bIsFirstFrame){this.inputDataFun()}else{if(this.bIsGetYUV){this.inputDataFun()}else{this.bIsInput=true}}i=null;return re}}if(n+t>this.iInputMaxBufSize){console.log("input over");if(this.bIsGetYUV){this.inputDataFun()}else{this.bIsInput=true}return se}var r=null;var o=t;switch(this.streamOpenMode){case we:r=new Uint8Array(e.buffer);if(this.downloadRTP){this.DownloadRTPData(r);this.rtpNum++;console.log("STREAM_FILE psNUm:"+this.rtpNum)}this.aInputDataLens.push(t);break;case Se:o=t+4;var s=new Uint32Array([t]);var a=new Uint8Array(s.buffer);r=new Uint8Array(o);r.set(a,0);r.set(e,4);if(this.downloadRTP){this.DownloadRTPData(r);this.rtpNum++;console.log("STREAM_REALTIME rtpNUm:"+this.rtpNum)}s=null;a=null;this.aInputDataLens.push(t+4);break;default:return ae}for(var u=0;u<o;u++){this.aInputDataBuffer[n+u]=r[u]}if(!this.bPlay&&!this.bOnlyPlaySound||this.decodeWorker===null||this.bOpenStream===false){return re}r=null;if(this.bOnlyPlaySound){this.inputDataFun()}else{if(this.bIsFirstFrame){this.inputDataFun()}else{if(this.bIsGetYUV){this.inputDataFun()}else{this.bIsInput=true}}}return re}},{key:"DownloadRTPData",value:function v(e){if(this.bWriteRTPData){var t=new Uint8Array(e);var n=this.aRTPDataBuffer.length;for(var i=0,r=t.length;i<r;i++){this.aRTPDataBuffer[n+i]=t[i]}this.iRTPDataSize++;t=null}if(this.bWriteRTPData&&this.iRTPDataSize>=Oe){console.log("download"+Oe+"RTPdata");var o=new Uint8Array(this.aRTPDataBuffer);this.downloadFile(o,"RTP.data");this.aRTPDataBuffer.splice(0,this.aRTPDataBuffer.length);this.iRTPDataSize=0;this.rtpNum=0;this.downloadRTP=false;o=null}}},{key:"PlayM4_Play",value:function m(e){if(this.decodeWorker===null){return oe}if(this.bJSPrintLog){console.log(">>>JS PlayM4_Play canvasID: "+e)}if(e===null){this.bOnlyPlaySound=true;this.decodeWorker.postMessage({command:"OnlyPlaySound"});this.sCanvasId=null}else{if(typeof e!=="string"){return ie}if(this.bOnebyOne){this.bPlayRateChange=false;this.bOnebyOne=false;this.bPause=false;this.draw()}if(this.bPlay){return re}if(this.oSuperRender==null){this.oSuperRender=new SuperRender(e,this.szBasePath);if(this.oSuperRender==null){return de}}this.sCanvasId=e;this.bPlay=true;this.bPause=false;this.bOnebyOne=false;this.bPlayRateChange=false;this.bOnlyPlaySound=false;this.draw()}if(this.audioRenderer==null){this.audioRenderer=new AudioRenderer;if(this.audioRenderer==null){return de}}this.decodeWorker.postMessage({command:"Play"});return re}},{key:"PlayM4_Stop",value:function y(){if(this.decodeWorker==null||this.oSuperRender==null){return oe}if(!this.bPlay){return oe}if(this.bPlaySound){this.PlayM4_StopSound();this.bPlaySound=true}this.bPlay=false;this.bOnebyOne=false;this.bPause=false;this.oSuperRender.SR_SetDisplayRect(null);this.iZoomNum=0;this.bDisRect=false;if(this.bVideoCropInfo){this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth-this.nSPSCropLeft-this.nSPSCropRight,this.nHeight-this.nSPSCropTop-this.nSPSCropBottom)}else{this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth,this.nHeight)}return re}},{key:"PlayM4_PlayRate",value:function g(e){if(this.decodeWorker==null){return oe}if(e===1){this.bPlayRateChange=false}else{this.bPlayRateChange=true}if(e<1){e=1}this.iInputDataLen=e*De;this.decodeWorker.postMessage({command:"PlayRate",playRate:e});return re}},{key:"PlayM4_Pause",value:function S(e){if(this.decodeWorker==null||this.oSuperRender==null){return oe}if(!this.bPlay){return oe}if(this.bOnebyOne){return oe}if(this.bPause==e){return oe}if(typeof e!=="boolean"){return ie}this.bPause=e;this.bIsFirstFrame=true;if(e){if(this.bPlaySound){this.PlayM4_StopSound();this.bPlaySound=true}}else{if(this.bPlaySound){this.PlayM4_PlaySound()}this.draw()}return re}},{key:"PlayM4_OneByOne",value:function w(e){if(this.decodeWorker==null||this.oSuperRender==null){return oe}if(!this.bPlay){return oe}if(e>10||e<=0){return ie}if(!e){e=1}this.iInputDataLen=De;this.FrameForwardLen=e;this.bPause=true;this.bOnebyOne=true;this.bIsFirstFrame=true;this.draw();return re}},{key:"PlayM4_PlaySound",value:function P(e){if(this.decodeWorker===null||this.bOpenStream===false){return oe}if(e<0||e>16){return ie}if(this.audioRenderer==null){this.audioRenderer=new AudioRenderer;if(this.audioRenderer==null){return de}}this.decodeWorker.postMessage({command:"PlaySound"});this.audioRenderer.SetWndNum(e);if(this.Volume!==0){this.audioRenderer.SetVolume(this.Volume)}this.audioRenderer.oAudioContext.resume();this.bPlaySound=true;return re}},{key:"PlayM4_StopSound",value:function _(){if(this.decodeWorker==null||this.audioRenderer==null){return oe}if(!this.bPlaySound){return oe}this.decodeWorker.postMessage({command:"StopSound"});this.bPlaySound=false;return re}},{key:"PlayM4_SetDisplayBuf",value:function b(e){if(this.decodeWorker==null){return oe}if(e<=0){return ie}this.YUVBufferSize=e;return re}},{key:"PlayM4_SetSecretKey",value:function C(e,t,n){if(this.decodeWorker==null||this.bOpenStream===false){return oe}if(t==null){return ie}if(ge===e){if(128===n){if(t==null||t===undefined){return ie}}else{return ie}}else if(ye===e){}else{return ie}this.decodeWorker.postMessage({command:"SetSecretKey",data:t,nKeyType:e,nKeyLen:n});return re}},{key:"PlayM4_SetDecodeFrameType",value:function k(e){console.log("PlayM4_SetDecodeFrameType nFrameType:"+e);if(this.decodeWorker==null||this.oSuperRender==null){return oe}if(e!==Pe&&e!==_e){return ie}if(this.bJSPrintLog){console.log(">>>JS PlayM4_SetDecodeFrameType :"+e)}this.nDecFrameType=e;this.decodeWorker.postMessage({command:"SetDecodeFrameType",data:e});return re}},{key:"PlayM4_SetIFrameDecInterval",value:function T(e){if(this.nDecFrameType!==_e){return oe}if(e<0){return ie}this.decodeWorker.postMessage({command:"SetIFrameDecInterval",data:e});return re}},{key:"PlayM4_SetLostFrameMode",value:function R(e){if(e<0||e>1){return ie}this.decodeWorker.postMessage({command:"SetLostFrameMode",data:e});return re}},{key:"PlayM4_SetDisplayRegion",value:function x(e,t){if(this.decodeWorker===null||this.bPlay===false||this.oSuperRender===null){return oe}if(this.canvasId===null){return oe}if(t===true){if(e===null||e===undefined){return ie}if(typeof e.left==="number"&&typeof e.top==="number"&&typeof e.right==="number"&&typeof e.bottom==="number"){if(e.right<0||e.left<0||e.top<0||e.bottom<0){return ie}var n=e.left;var i=e.right;var r=e.top;var o=e.bottom;var s=document.getElementById(this.sCanvasId).getBoundingClientRect();this.iCanvasWidth=s.width;this.iCanvasHeight=s.height;if(i-n<16||o-r<16||i-n>this.iCanvasWidth||o-r>this.iCanvasHeight){return ie}if(this.iZoomNum!==0){n=Math.round(n/this.iRatio_x)+this.stDisplayRect.left;r=Math.round(r/this.iRatio_y)+this.stDisplayRect.top;i=Math.round(i/this.iRatio_x)+this.stDisplayRect.left;o=Math.round(o/this.iRatio_y)+this.stDisplayRect.top}this.stDisplayRect={top:r,left:n,right:i,bottom:o};this.oSuperRender.SR_SetDisplayRect(this.stDisplayRect);this.bDisRect=true;var a=i-n;var u=o-r;this.iRatio_x=this.iCanvasWidth/a;this.iRatio_y=this.iCanvasHeight/u}else{return ie}}else{this.oSuperRender.SR_SetDisplayRect(null);this.iZoomNum=0;this.bDisRect=false}if(this.bPause||this.bOnebyOne||this.bPlayRateChange){if(this.bVideoCropInfo){this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,new Uint8Array(this.aDisplayBuf),this.nWidth-this.nSPSCropLeft-this.nSPSCropRight,this.nHeight-this.nSPSCropTop-this.nSPSCropBottom)}else{this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,new Uint8Array(this.aDisplayBuf),this.nWidth,this.nHeight)}}return re}},{key:"PlayM4_GetBMP",value:function I(e){return this.getPic(e,"GetBMP")}},{key:"PlayM4_GetJPEG",value:function D(e){return this.getPic(e,"GetJPEG")}},{key:"PlayM4_SetVolume",value:function E(e){if(this.decodeWorker==null){return oe}if(this.audioRenderer==null){return oe}if(e<0||e>100||e===""){return ie}this.Volume=e;this.audioRenderer.SetVolume(e);return re}},{key:"PlayM4_GetVolume",value:function q(e){if(this.decodeWorker==null){return oe}if(this.audioRenderer==null){return oe}if(e&&typeof e==="function"){var t=this.audioRenderer.GetVolume();if(t===null){return pe}else{e(t);return re}}else{return ie}}},{key:"PlayM4_GetOSDTime",value:function O(e){if(this.decodeWorker==null){return oe}if(!this.bPlay){return oe}if(e&&typeof e==="function"){e(this.szOSDTime);return re}else{return ie}}},{key:"PlayM4_IsVisible",value:function A(e){this.bVisibility=e;return re}},{key:"PlayM4_GetSdkVersion",value:function L(){return"07040006"}},{key:"PlayM4_GetBuildDate",value:function M(){return"20240229"}},{key:"PlayM4_GetInputBufSize",value:function F(){return this.aInputDataBuffer.length}},{key:"PlayM4_SetInputBufSize",value:function W(e){if(e>0){this.iInputMaxBufSize=e;console.log(">>JSBufferSize SetInputBufSize:"+this.iInputMaxBufSize);return re}else{return ie}}},{key:"PlayM4_GetYUVBufSize",value:function B(){return this.aVideoFrameBuffer.length}},{key:"PlayM4_GetFrameResolution",value:function N(e){if(this.decodeWorker==null){return oe}if(e&&typeof e==="function"){e(this.nWidth,this.nHeight);return re}else{return ie}}},{key:"PlayM4_RegisterYUVBufSizeCB",value:function z(e){if(e&&typeof e==="function"){this.YUVBufSizeCBFun=e;return re}else{return ie}}},{key:"PlayM4_UnRegisterYUVBufSizeCB",value:function J(){if(this.YUVBufSizeCBFun!=null){this.YUVBufSizeCBFun=null}return re}},{key:"PlayM4_ClearCanvas",value:function U(){if(this.oSuperRender==null){return oe}if(this.bVideoCropInfo){this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth-this.nSPSCropLeft-this.nSPSCropRight,this.nHeight-this.nSPSCropTop-this.nSPSCropBottom)}else{this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth,this.nHeight)}return re}},{key:"PlayM4_ReleaseInputBuffer",value:function H(){if(this.aInputDataBuffer===null){return oe}this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length);this.aInputDataLens.splice(0,this.aInputDataLens.length);return re}},{key:"PlayM4_GetDecodeFrameType",value:function j(){return this.nDecFrameType}},{key:"PlayM4_SetRunTimeInfoCallBackEx",value:function G(e,t){this.runtimeInfoCBFun=t;this.decodeWorker.postMessage({command:"SetRunTimeInfoCB",nModuleType:e});return re}},{key:"PlayM4_SetStreamInfoCallBack",value:function V(e,t){this.streamInfoCBFun=t;this.decodeWorker.postMessage({command:"SetStreamInfoCB",nType:e});return re}},{key:"PlayM4_SetDemuxModel",value:function Y(e,t){this.decodeWorker.postMessage({command:"SetDemuxModel",nIdemuxType:e,bTrue:t});return re}},{key:"PlayM4_SkipErrorData",value:function X(e){this.decodeWorker.postMessage({command:"SkipErrorData",bSkip:e});return re}},{key:"PlayM4_SetDecodeERC",value:function Z(e){this.decodeWorker.postMessage({command:"SetDecodeERC",nLevel:e});return re}},{key:"PlayM4_SetANRParam",value:function K(e,t){this.decodeWorker.postMessage({command:"SetANRParam",nEnable:e,nANRLevel:t});return re}},{key:"PlayM4_SetResampleValue",value:function $(e,t){this.decodeWorker.postMessage({command:"SetResampleValue",nEnable:e,resampleValue:t});return re}},{key:"PlayM4_SetGlobalBaseTime",value:function Q(e,t,n,i,r,o,s){if(e<2e3||e>3e3){return ae}if(t<1||t>12){return ae}if(e<0||t<0||n<0||i<0||r<0||o<0||s<0){return ae}this.decodeWorker.postMessage({command:"SetGlobalBaseTime",year:e,month:t,day:n,hour:i,min:r,sec:o,ms:s});return re}},{key:"downloadFile",value:function ee(e,t){var n=e;if(!(e instanceof Blob||e instanceof File)){n=new Blob([e])}var i=window.URL.createObjectURL(n);var r=window.document.createElement("a");r.href=i;r.download=t;var o=document.createEvent("MouseEvents");o.initEvent("click",true,true);r.dispatchEvent(o)}}]);return a}()},function(e,i,r){"use strict";(function(h){Object.defineProperty(i,"__esModule",{value:true});i.StorageManager=undefined;var l=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var e=r(8);var d=t(e);var f=r(38);function t(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c="Web/RecordFiles/";var v="Web/PlaybackFiles/";var m=1e3;var s=1;var y=3001;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.URL=window.URL||window.webkitURL;var u=function(){function r(e,t,n,i){p(this,r);this.szUUID=e;this.szFileName=t;this.iStreamType=n;this.szPath="";this.bStart=false;this.aStreamList=[];this.options=i}l(r,[{key:"init",value:function t(){var n=this;if(0===this.iStreamType){this.szPath=c}else if(1===this.iStreamType){this.szPath=v}this.szPath+=this.getDateDir();var i=n.szPath.split("/");var e=new Promise(function(t){window.requestFileSystem(window.TEMPORARY,n.options.iFileSize,function(e){n.createDir(e.root,i,function(){t()})},n.errorHandler)});return e}},{key:"getDateDir",value:function e(){return f.oTool.dateFormat(new Date,"yyyy-MM-dd")}},{key:"createDir",value:function o(e,t,n){var i=this;if(t.length){e.getDirectory(t[0],{create:true},function(e){i.createDir(e,t.slice(1),n)},i.errorHandler)}else{n()}}},{key:"errorHandler",value:function n(){}},{key:"writeFileHeader",value:function s(n){var i=this;window.requestFileSystem(window.TEMPORARY,i.options.iFileSize,function(e){e.root.getFile(i.szPath+"/"+i.szFileName,{create:true},function(e){e.createWriter(function(e){e.onwriteend=function(){i.bStart=true;i.writeFile(e)};e.onerror=function(){};e.seek(e.length);var t=new Blob([n]);e.write(t)},i.errorHandler)},i.errorHandler)},i.errorHandler)}},{key:"writeFileContent",value:function i(e){this.aStreamList.push(e)}},{key:"writeFile",value:function a(e){var t=this;if(this.bStart){if(this.aStreamList.length>0){var n=this.aStreamList.shift();e.seek(e.length);if(e.length>=this.options.iFileSize){if(this.options.cbEventHandler){this.options.cbEventHandler(y,this.szUUID)}return}var i=new Blob([n]);e.write(i)}else{setTimeout(function(){t.writeFile(e)},m)}}}},{key:"stopWriteFile",value:function u(){var i=this;this.bStart=false;this.aStreamList.length=0;var e=new Promise(function(t,n){window.requestFileSystem(window.TEMPORARY,i.options.iFileSize,function(e){e.root.getFile(i.szPath+"/"+i.szFileName,{create:false},function(e){e.file(function(e){t();f.oTool.downloadFile(e,e.name)})},function(){n()})},function(){n()})});return e}}]);return r}();var g=function(){function a(e,t,n,i,r,o,s){p(this,a);this.szBasePath=e;this.szUUID=t;this.szFileName=n;this.aHeadBuf=new Uint8Array(i);this.iPackType=r;this.iStreamType=o;this.oWorker=null;this.oFileSystem=null;this.options=s}l(a,[{key:"init",value:function t(){var n=this;var e=new Promise(function(e,t){n.initFileSystem().then(function(){n.initWorker().then(function(){e(n.szUUID)},function(e){t(e)})},function(e){t(e)})});return e}},{key:"initFileSystem",value:function i(){var n=this;this.oFileSystem=new u(this.szUUID,this.szFileName,this.iStreamType,this.options);var e=new Promise(function(e,t){n.oFileSystem.init().then(function(){e()},function(e){t(e)})});return e}},{key:"initWorker",value:function n(){var r=this;var e=new Promise(function(i){r.oWorker=new Worker(r.szBasePath+"/systemTransform-worker.min.js");r.oWorker.onmessage=function(e){var t=e.data;if("loaded"===t.type){r.oWorker.postMessage({type:"create",buf:r.aHeadBuf.buffer,len:40,packType:r.iPackType},[r.aHeadBuf.buffer])}else if("created"===t.type){i()}else if("outputData"===t.type){var n=new Uint8Array(t.buf);if(s===t.dType){r.oFileSystem.writeFileHeader(n)}else{r.oFileSystem.writeFileContent(n)}}}});return e}},{key:"inputData",value:function r(e){if(this.oWorker){var t=new Uint8Array(e);this.oWorker.postMessage({type:"inputData",buf:t.buffer,len:t.length},[t.buffer])}}},{key:"stopRecord",value:function o(){var n=this;var e=new Promise(function(e,t){if(n.oWorker){n.oWorker.postMessage({type:"release"})}else{t()}if(n.oFileSystem){n.oFileSystem.stopWriteFile().then(function(){e()},function(){t()})}else{t()}});return e}}]);return a}();var n=function(){var c=Symbol("STORAGELIST");var e=function(){function n(e,t){p(this,n);this.szBasePath=e;this[c]={};this.options={iFileSize:1024*1024*1024};h.extend(this.options,t)}l(n,[{key:"startRecord",value:function f(e,t,n,i,r){var o=this;var s=d["default"].v4();var a=h.extend({},this.options,r);var u=new g(this.szBasePath,s,e,t,n,i,a);var l=new Promise(function(t,n){u.init().then(function(e){o[c][e]=u;t(e)},function(e){n(e)})});return l}},{key:"inputData",value:function i(e,t){var n=this[c][e];if(n){n.inputData(t)}}},{key:"stopRecord",value:function t(i){var r=this;var e=new Promise(function(e,t){var n=r[c][i];if(n){n.stopRecord().then(function(){delete r[c][i];e()},function(){t()})}else{t()}});return e}}]);return n}();return e}();i.StorageManager=n}).call(this,r(1))},function(e,t,n){"use strict";(function(K){Object.defineProperty(t,"__esModule",{value:true});var $=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function Q(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var e=function(){var x=null;var I=Symbol("CANVAS");var D=Symbol("CONTEXT");var E=Symbol("SHAPES");var q=Symbol("DRAWSTATUS");var O=Symbol("SHAPETYPE");var A=Symbol("MAXSHAPENUMSUPPORT");var L=Symbol("SHAPESTYLE");var M=Symbol("POLYGONDRAWING");var F=Symbol("LINEDRAWING");var W=Symbol("CURRENTSHAPEINFO");var B=Symbol("DRAWSHAPEMULTIONETIME");var N=Symbol("EVENTCALLBACK");var z=Symbol("DRAWEVENTCALLBACK");var o=null;function J(e){x[D].clearRect(0,0,x.m_iCanvasWidth,x.m_iCanvasHeight);if(o&&e==="canvasRedraw"){o.setPointInfo(x.resizeCanvasPoints(o.m_aPoint));o.draw()}for(var t=0,n=x[E].length;t<n;t++){if(e==="canvasRedraw"){x[E][t].setPointInfo(x.resizeCanvasPoints(x[E][t].m_aPoint))}x[E][t].draw()}}function U(e){var t=x[E].length;if(t<x[A]){x[E].push(e);o=null}}function H(){var a=false;var u=0;var l=0;var f="draw";var c=null;function r(){var e=-1;for(var t=0,n=x[E].length;t<n;t++){if(x[E][t].m_bChoosed){e=t;break}}return e}x[I][0].oncontextmenu=function(){return false};x[I][0].onselectstart=function(){return false};x[I].unbind();x[I].bind("mousedown",{oEScanvasObject:x},function(e){x=e.data.oEScanvasObject;if(e.button===2){if(x[M]&&c){if(c.m_aPoint.length>=c.m_iMinClosed){c.m_bClosed=true;x[M]=false;c.setPointInfo(c.m_aPoint);U(c);J();a=false;if(!x[B]&&0===c.m_iRedrawMode){x[q]=false}x[z]&&x[z]({id:+c.m_szId,type:c.m_szType,event:"drawEnd"})}}if(x[F]&&c){if(c.m_aPoint.length>=c.m_iMinClosed){c.m_bClosed=true;x[F]=false;x[q]=false;c.setPointInfo(c.m_aPoint);U(c);J()}}}else if(e.button===0){u=e.offsetX;l=e.offsetY;f="draw";if(!x[M]){var t=r();if(t!==-1){if(x[E][t].inArc(e.offsetX,e.offsetY,5)){f="stretch"}}if(f!=="stretch"){for(var n=0,i=x[E].length;n<i;n++){if(x[E][n].inShape(e.offsetX,e.offsetY)&&x[E][n].m_iEditType!==2){x[E][n].m_bChoosed=true;x[E][n].getMouseDownPoints(e.offsetX,e.offsetY);f="drag";x[z]&&x[z]({id:+x[E][n].m_szId,type:x[E][n].m_szType,event:"choosed"})}else{x[E][n].m_bChoosed=false}}}if(f==="drag"){x[I][0].style.cursor="move"}else{x[I][0].style.cursor="default"}if("draw"===f&&1===x[E].length&&1===x[E][0].m_iRedrawMode&&x[q]){x.deleteRepeatByIdAndType(x[E][0].m_szId,x[E][0].m_szType)}}if(f==="draw"){if(x[q]){if(x[A]<=x[E].length&&x[O]!=="Grid"&&x[O]!=="Point"){return}if(x[O]==="Rect"){c=new j;c.m_szId=x[W].szId||"";c.m_szTips=x[W].szTips||"";c.m_iRedrawMode=x[W].iRedrawMode}else if(x[O]==="Grid"){if(x[E].length===0){c=new V;U(c)}}else if(x[O]==="Polygon"){if(!x[M]){x[M]=true;c=new X;c.m_szId=x[W].szId||"";c.m_szTips=x[W].szTips||"";c.m_iMinClosed=x[W].iMinClosed||3;c.m_iMaxPointNum=x[W].iMaxPointNum||11;c.m_iPolygonType=x[W].iPolygonType;c.m_szDrawColor=x[W].szDrawColor;c.m_szFillColor=x[W].szFillColor;c.m_iTranslucent=x[W].iTranslucent;c.m_iRedrawMode=x[W].iRedrawMode;o=c}if(c.m_iPolygonType===1){c.addPoint(u,l);if(c.m_aPoint.length===c.m_iMaxPointNum){c.m_bClosed=true;x[M]=false;U(c);J();a=false;if(!x[B]&&0===c.m_iRedrawMode){x[q]=false}x[z]&&x[z]({id:+c.m_szId,type:c.m_szType,event:"drawEnd"})}}}else if(x[O]==="Point"){x.clearShapeByType("Point");c=new Z;c.m_szId=x[W].szId||"";c.m_szDrawColor=x[W].szDrawColor;c.m_szTips=x[W].tips||"";c.m_iEditType=x[W].editType||0;c.m_szPointType=x[W].type||"circle";c.setPointInfo([[u,l]]);U(c);J()}else if(x[O]==="Line"){if(!x[F]){x[F]=true;c=new Y;c.m_szId=x[W].szId||"";c.m_szTips=x[W].szTips||"";c.m_szDrawColor=x[W].szDrawColor;c.m_iMinClosed=x[W].iMinClosed||2;c.m_iMaxPointNum=x[W].iMaxPointNum||2;c.m_iLineType=x[W].lineType||0;o=c}c.addPoint(u,l);if(c.m_aPoint.length===c.m_iMaxPointNum){c.m_bClosed=true;x[F]=false;x[q]=false;U(c);J();a=false;x[z]&&x[z]({id:+c.m_szId,type:c.m_szType,event:"drawEnd"})}}}}a=true}});x[I].bind("mousemove",{oEScanvasObject:x},function(e){x=e.data.oEScanvasObject;if(!x[M]&&!x[F]){var t=r();if(t>-1){if(a){if(f==="drag"){x[E][t].drag(e.offsetX,e.offsetY)}else if(f==="stretch"){x[E][t].stretch(e.offsetX,e.offsetY);x[z]&&x[z]({id:+x[E][t].m_szId,type:x[E][t].m_szType,event:"stretch"})}}}else{if(x[q]){if(a){if(x[O]==="Rect"){c.move([[u,l],[e.offsetX,e.offsetY]])}else if(x[O]==="Grid"){x[E][0].move(u,l,e.offsetX,e.offsetY)}}}}}else if(x[M]){if(x[q]){if(a){if(x[O]==="Polygon"&&c.m_iPolygonType===0){c.m_bClosed=true}J();c.move(e.offsetX,e.offsetY,u,l)}}}else if(x[F]){if(x[q]){if(a){J();c.move(e.offsetX,e.offsetY)}}}});x[I].bind("mouseup",{oEScanvasObject:x},function(e){x=e.data.oEScanvasObject;x[I][0].style.cursor="default";if(c!==null&&typeof c!=="undefined"&&f==="draw"&&x[q]){if(x[O]==="Rect"){if(Math.abs(e.offsetX-u)>2&&Math.abs(e.offsetY-l)>2){U(c);if(!x[B]&&0===c.m_iRedrawMode&&1===x[A]){x[q]=false}x[z]&&x[z]({id:+c.m_szId,type:c.m_szType,event:"drawEnd"})}if(x[N]){var t={id:+c.m_szId,startPos:[],endPos:[],tips:c.m_szTips};if(c.m_aPoint[0]&&c.m_aPoint[2]){try{var n=void 0;var i=void 0;var r=void 0;var o=void 0;if(e.offsetX>u&&e.offsetY>l){t.startPos=c.m_aPoint[0]||[e.offsetX,e.offsetY];t.endPos=c.m_aPoint[2]||[e.offsetX,e.offsetY];n=c.m_aPoint[0][0]/x.m_iCanvasWidth;i=c.m_aPoint[0][1]/x.m_iCanvasHeight;r=c.m_aPoint[2][0]/x.m_iCanvasWidth;o=c.m_aPoint[2][1]/x.m_iCanvasHeight}else{t.startPos=c.m_aPoint[2]||[e.offsetX,e.offsetY];t.endPos=c.m_aPoint[0]||[e.offsetX,e.offsetY];n=c.m_aPoint[2][0]/x.m_iCanvasWidth;i=c.m_aPoint[2][1]/x.m_iCanvasHeight;r=c.m_aPoint[0][0]/x.m_iCanvasWidth;o=c.m_aPoint[0][1]/x.m_iCanvasHeight}t.points=[[n,i],[r,i],[r,o],[n,o]];x[N]&&x[N](t)}catch(s){}}x.clearAllShape()}c=null}else if(x[O]==="Polygon"&&c.m_iPolygonType===0&&x[M]){if(Math.abs(e.offsetX-u)>2&&Math.abs(e.offsetY-l)>2){U(c);x[M]=false;if(!x[B]&&0===c.m_iRedrawMode){x[q]=false}x[z]&&x[z]({id:+c.m_szId,type:c.m_szType,event:"drawEnd"})}}}if(!x[M]&&!x[F]){a=false}else{a=true}if(!x[M]||!x[F]){J()}});x[I].bind("dblclick",{oEScanvasObject:x},function(e){x=e.data.oEScanvasObject;if(x[q]){if(x[O]==="Grid"){x[E][0].m_szGridMap="fffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffc";J()}}if(o){o.m_aPoint.pop()}});x[I].bind("mouseout",function(){x[I][0].style.cursor="default";if(!x[M]&&!x[F]){a=false}else{a=true}})}var e=function(){function e(){Q(this,e);this.m_szId="";this.m_aPoint=[];this.m_bChoosed=false;this.m_szDrawColor=x[L].szDrawColor;this.m_szFillColor=x[L].szFillColor;this.m_iTranslucent=x[L].iTranslucent;this.m_iIndexChoosePoint=-1;this.m_iDriftStartX=0;this.m_iDriftStartY=0;this.m_oEdgePoints={top:{x:0,y:0},left:{x:0,y:0},right:{x:0,y:0},bottom:{x:0,y:0}};this.m_szTips="";this.m_iEditType=0;this.m_iMinClosed=3;this.m_iMaxPointNum=11;this.m_bClosed=false;this.m_iRedrawMode=0}$(e,[{key:"draw",value:function t(){}},{key:"drag",value:function r(e,t){if(this.m_iEditType!==2){var n=this.m_aPoint.length;var i=0;for(i=0;i<n;i++){if(this.m_aPoint[i][0]+e-this.m_iDriftStartX>x.m_iCanvasWidth||this.m_aPoint[i][1]+t-this.m_iDriftStartY>x.m_iCanvasHeight||this.m_aPoint[i][0]+e-this.m_iDriftStartX<0||this.m_aPoint[i][1]+t-this.m_iDriftStartY<0){this.m_iDriftStartX=e;this.m_iDriftStartY=t;return}}for(i=0;i<n;i++){this.m_aPoint[i][0]=this.m_aPoint[i][0]+e-this.m_iDriftStartX;this.m_aPoint[i][1]=this.m_aPoint[i][1]+t-this.m_iDriftStartY}this.m_iDriftStartX=e;this.m_iDriftStartY=t;this.setPointInfo(this.m_aPoint);J()}}},{key:"stretch",value:function n(e,t){if(this.m_iEditType===0){if(this.m_iIndexChoosePoint!==-1){this.m_aPoint[this.m_iIndexChoosePoint][0]=e;this.m_aPoint[this.m_iIndexChoosePoint][1]=t}this.setPointInfo(this.m_aPoint);J()}}},{key:"inShape",value:function s(e,t){var n=false;var i=this.m_aPoint.length;for(var r=0,o=i-1;r<i;o=r++){if(this.m_aPoint[r][1]>t!==this.m_aPoint[o][1]>t&&e<(this.m_aPoint[o][0]-this.m_aPoint[r][0])*(t-this.m_aPoint[r][1])/(this.m_aPoint[o][1]-this.m_aPoint[r][1])+this.m_aPoint[r][0]){n=!n}}return n}},{key:"inArc",value:function a(e,t,n){var i=false;for(var r=0,o=this.m_aPoint.length;r<o;r++){var s=Math.sqrt((e-this.m_aPoint[r][0])*(e-this.m_aPoint[r][0])+(t-this.m_aPoint[r][1])*(t-this.m_aPoint[r][1]));if(s<n){i=true;this.m_iIndexChoosePoint=r;break}}return i}},{key:"getMouseDownPoints",value:function i(e,t){this.m_iDriftStartX=e;this.m_iDriftStartY=t}},{key:"getPointInfo",value:function o(){return this.m_aPoint}},{key:"setPointInfo",value:function u(e){if(e!==null&&typeof e!=="undefined"&&e.length>0){this.m_aPoint=e;this.setEdgePoints(e)}}},{key:"addPoint",value:function l(e,t){if(this.m_aPoint.length<this.m_iMaxPointNum){this.m_aPoint.push([e,t])}if(this.m_aPoint.length===this.m_iMaxPointNum){this.setPointInfo(this.m_aPoint)}}},{key:"setEdgePoints",value:function f(e){for(var t=0,n=e.length;t<n;t++){if(t===0){this.m_oEdgePoints.top.x=e[t][0];this.m_oEdgePoints.top.y=e[t][1];this.m_oEdgePoints.left.x=e[t][0];this.m_oEdgePoints.left.y=e[t][1];this.m_oEdgePoints.right.x=e[t][0];this.m_oEdgePoints.right.y=e[t][1];this.m_oEdgePoints.bottom.x=e[t][0];this.m_oEdgePoints.bottom.y=e[t][1]}else{if(e[t][1]<this.m_oEdgePoints.top.y){this.m_oEdgePoints.top.x=e[t][0];this.m_oEdgePoints.top.y=e[t][1]}if(e[t][0]>this.m_oEdgePoints.right.x){this.m_oEdgePoints.right.x=e[t][0];this.m_oEdgePoints.right.y=e[t][1]}if(e[t][1]>this.m_oEdgePoints.bottom.y){this.m_oEdgePoints.bottom.x=e[t][0];this.m_oEdgePoints.bottom.y=e[t][1]}if(e[t][0]<this.m_oEdgePoints.left.x){this.m_oEdgePoints.left.x=e[t][0];this.m_oEdgePoints.left.y=e[t][1]}}}}}]);return e}();var j=function(e){m(t,e);function t(){Q(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.m_szType="Rect";return e}$(t,[{key:"setPointInfo",value:function a(e){if(e!==null&&typeof e!=="undefined"){var t=e[0][0];var n=e[0][1];var i=e[0][0];var r=e[0][1];for(var o=0,s=e.length;o<s;o++){if(t>e[o][0]){t=e[o][0]}if(n>e[o][1]){n=e[o][1]}if(i<e[o][0]){i=e[o][0]}if(r<e[o][1]){r=e[o][1]}}this.m_aPoint=[[t,n],[i,n],[i,r],[t,r]]}}},{key:"draw",value:function l(){x[D].fillStyle=this.m_szFillColor;x[D].strokeStyle=this.m_szDrawColor;var e=this.m_aPoint[0][0];var t=this.m_aPoint[0][1];var n=this.m_aPoint[2][0]-e;var i=this.m_aPoint[2][1]-t;x[D].globalAlpha=this.m_iTranslucent;x[D].fillRect(e,t,n,i);x[D].globalAlpha=1;x[D].fillText(this.m_szTips,(e+this.m_aPoint[2][0])/2,(t+this.m_aPoint[2][1])/2);if(this.m_bChoosed){var r=Math.round(n/2);var o=Math.round(i/2);if(this.m_iEditType===0){var s=[e,e+r,e+n,e,e+n,e,e+r,e+n];var a=[t,t,t,t+o,t+o,t+i,t+i,t+i];for(var u=0;u<8;u++){x[D].beginPath();x[D].arc(s[u],a[u],3,0,360,false);x[D].fillStyle=this.m_szDrawColor;x[D].closePath();x[D].fill()}}}x[D].strokeRect(e,t,n,i)}},{key:"stretch",value:function n(e,t){if(this.m_iEditType===0){if(this.m_iIndexChoosePoint===0){if(e<this.m_aPoint[2][0]&&t<this.m_aPoint[2][1]){this.m_aPoint[0][0]=e;this.m_aPoint[0][1]=t;this.m_aPoint[3][0]=e;this.m_aPoint[1][1]=t}}else if(this.m_iIndexChoosePoint===1){if(t<this.m_aPoint[2][1]){this.m_aPoint[0][1]=t;this.m_aPoint[1][1]=t}}else if(this.m_iIndexChoosePoint===2){if(e>this.m_aPoint[3][0]&&t<this.m_aPoint[3][1]){this.m_aPoint[1][0]=e;this.m_aPoint[1][1]=t;this.m_aPoint[2][0]=e;this.m_aPoint[0][1]=t}}else if(this.m_iIndexChoosePoint===3){if(e<this.m_aPoint[2][0]){this.m_aPoint[0][0]=e;this.m_aPoint[3][0]=e}}else if(this.m_iIndexChoosePoint===4){if(e>this.m_aPoint[0][0]){this.m_aPoint[1][0]=e;this.m_aPoint[2][0]=e}}else if(this.m_iIndexChoosePoint===5){if(e<this.m_aPoint[1][0]&&t>this.m_aPoint[1][1]){this.m_aPoint[3][0]=e;this.m_aPoint[3][1]=t;this.m_aPoint[0][0]=e;this.m_aPoint[2][1]=t}}else if(this.m_iIndexChoosePoint===6){if(t>this.m_aPoint[1][1]){this.m_aPoint[2][1]=t;this.m_aPoint[3][1]=t}}else if(this.m_iIndexChoosePoint===7){if(e>this.m_aPoint[0][0]&&t>this.m_aPoint[0][1]){this.m_aPoint[2][0]=e;this.m_aPoint[2][1]=t;this.m_aPoint[1][0]=e;this.m_aPoint[3][1]=t}}J()}}},{key:"move",value:function o(e){J();this.m_bChoosed=true;var t=e[0][0];var n=e[0][1];var i=e[1][0];var r=e[1][1];this.setPointInfo([[t,n],[i,n],[i,r],[t,r]]);this.draw()}},{key:"inArc",value:function d(e,t,n){var i=this.m_aPoint[0][0];var r=this.m_aPoint[0][1];var o=this.m_aPoint[2][0]-i;var s=this.m_aPoint[2][1]-r;var a=Math.round(o/2);var u=Math.round(s/2);var l=[i,i+a,i+o,i,i+o,i,i+a,i+o];var f=[r,r,r,r+u,r+u,r+s,r+s,r+s];for(var c=0;c<8;c++){var h=Math.sqrt((e-l[c])*(e-l[c])+(t-f[c])*(t-f[c]));if(h<n){this.m_iIndexChoosePoint=c;return true}}return false}}]);return t}(e);var G=function(e){m(i,e);function i(e,t){Q(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));n.m_szType="RectOSD";n.m_szOSDType="overlay-date";n.m_szText=e||"";n.m_szEnabled=t||"";n.m_szDateStyle="";n.m_szClockType="";n.m_szDisplayWeek="";n.m_szId="";n.m_szAlignment="0";return n}$(i,[{key:"draw",value:function r(){if(this.m_szEnabled==="true"){var e=this.m_aPoint[0][0];var t=this.m_aPoint[0][1];var n=this.m_aPoint[2][0]-e;var i=this.m_aPoint[2][1]-t;x[D].beginPath();x[D].strokeStyle=this.m_szDrawColor;x[D].globalAlpha=1;x[D].rect(e,t,n,i);x[D].font="15px serif";x[D].strokeText(this.m_szText,e,t+15);x[D].stroke()}}},{key:"drag",value:function o(e,t){var n=this.m_aPoint.length;var i=0;if("0"===this.m_szAlignment){for(i=0;i<n;i++){if(this.m_aPoint[i][1]+t-this.m_iDriftStartY>x.m_iCanvasHeight||this.m_aPoint[i][0]+e-this.m_iDriftStartX<0||this.m_aPoint[i][1]+t-this.m_iDriftStartY<0){this.m_iDriftStartX=e;this.m_iDriftStartY=t;return}}for(i=0;i<n;i++){this.m_aPoint[i][0]=this.m_aPoint[i][0]+e-this.m_iDriftStartX;this.m_aPoint[i][1]=this.m_aPoint[i][1]+t-this.m_iDriftStartY}}else if("1"===this.m_szAlignment||"2"===this.m_szAlignment){for(i=0;i<n;i++){if(this.m_aPoint[i][1]+t-this.m_iDriftStartY>x.m_iCanvasHeight||this.m_aPoint[i][1]+t-this.m_iDriftStartY<0){this.m_iDriftStartX=e;this.m_iDriftStartY=t;return}}for(i=0;i<n;i++){this.m_aPoint[i][1]=this.m_aPoint[i][1]+t-this.m_iDriftStartY}}this.m_iDriftStartX=e;this.m_iDriftStartY=t;this.setEdgePoints(this.m_aPoint);J()}},{key:"stretch",value:function t(){}}]);return i}(e);var V=function(e){m(t,e);function t(){Q(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.m_szType="Grid";e.m_iGridColNum=22;e.m_iGridRowNum=18;e.m_szGridMap="";e.m_aAddGridMap=[];return e}$(t,[{key:"draw",value:function l(){var e=x.m_iCanvasWidth/this.m_iGridColNum;var t=x.m_iCanvasHeight/this.m_iGridRowNum;var n="";for(var i=0;i<this.m_iGridRowNum;i++){var r=this.m_szGridMap.substring(i*6,i*6+6);var o=parseInt("f"+r,16).toString(2).split("").slice(4);var s="";for(var a=0;a<this.m_iGridColNum;a++){var u="";if(o[a]==="1"){x[D].strokeStyle=this.m_szDrawColor;x[D].globalAlpha=1;x[D].strokeRect(e*a,t*i,e,t);u="1"}else{u="0"}if(this.m_aAddGridMap.length){if(this.m_aAddGridMap[i][a]===1){x[D].strokeStyle=this.m_szDrawColor;x[D].strokeRect(e*a,t*i,e,t);u="1"}}s+=u}n+=parseInt("1111"+s+"00",2).toString(16).substring(1)}this.m_szGridMap=n}},{key:"move",value:function v(e,t,n,i){var r=x.m_iCanvasWidth/this.m_iGridColNum;var o=x.m_iCanvasHeight/this.m_iGridRowNum;var s=Math.floor(e/r);var a=Math.floor(t/o);var u=Math.floor(Math.abs(n-e)/r);var l=Math.floor(Math.abs(i-t)/o);var f=1;var c=1;if(n-e>0){f=1}else{f=-1}if(i-t>0){c=1}else{c=-1}var h=[];for(var d=0;d<this.m_iGridRowNum;d++){h[d]=[];for(var p=0;p<this.m_iGridColNum;p++){if(f===1){if(c===1){if(d>=a&&d<=a+l&&p>=s&&p<=s+u){h[d][p]=1}else{h[d][p]=0}}else{if(d<=a&&d>=a-l&&p>=s&&p<=s+u){h[d][p]=1}else{h[d][p]=0}}}else{if(c===1){if(d>=a&&d<=a+l&&p<=s&&p>=s-u){h[d][p]=1}else{h[d][p]=0}}else{if(d<=a&&d>=a-l&&p<=s&&p>=s-u){h[d][p]=1}else{h[d][p]=0}}}}}this.m_aAddGridMap=h;this.draw()}}]);return t}(e);var Y=function(e){m(t,e);function t(){Q(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.m_szType="Line";e.m_iLineType=0;e.m_iDirection=0;e.m_iArrowType=0;e.m_aCrossArrowPoint=[];return e}$(t,[{key:"draw",value:function n(){if(this.m_iLineType===0||this.m_iLineType===2){this.drawNormalLine()}else if(this.m_iLineType===1){this.drawArrowLine2()}else if(this.m_iLineType===3){this.drawCrossLine()}else if(this.m_iLineType===4){this.drawLineCount()}}},{key:"drawNormalLine",value:function r(){x[D].globalAlpha=1;if(this.m_aPoint.length>0){x[D].beginPath();x[D].strokeStyle=this.m_szDrawColor;x[D].lineWidth=2;x[D].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(var e=1,t=this.m_aPoint.length;e<t;e++){x[D].lineTo(this.m_aPoint[e][0],this.m_aPoint[e][1])}x[D].stroke();if(this.m_bChoosed){for(var n=0,i=this.m_aPoint.length;n<i;n++){x[D].beginPath();x[D].fillStyle=this.m_szDrawColor;x[D].arc(this.m_aPoint[n][0],this.m_aPoint[n][1],3,0,Math.PI*2,true);x[D].closePath();x[D].fill()}}if(this.m_szTips!==""){x[D].strokeStyle=this.m_szDrawColor;x[D].fillStyle=this.m_szDrawColor;x[D].fillText(this.m_szTips,this.m_aPoint[0][0]+10,this.m_aPoint[0][1]+4)}}}},{key:"drawArrowLine2",value:function c(){this.drawNormalLine();var e=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2;var t=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2;var n=Math.atan2(t-this.m_aPoint[0][1],e-this.m_aPoint[0][0])*180/Math.PI;var i=(n+90)*Math.PI/180;var r=(n-90)*Math.PI/180;var o=25*Math.cos(i);var s=25*Math.sin(i);var a=25*Math.cos(r);var u=25*Math.sin(r);var l=0;var f=0;l=e-o;f=t-s;this.drawArrowLine(0,l,f,e,t);x[D].strokeStyle=this.m_szDrawColor}},{key:"drawArrowLine",value:function y(e,t,n,i,r,o,s,a){o=typeof o!=="undefined"?o:30;s=typeof s!=="undefined"?s:10;a=typeof a!=="undefined"?a:1;var u=Math.atan2(n-r,t-i)*180/Math.PI;var l=(u+o)*Math.PI/180;var f=(u-o)*Math.PI/180;var c=s*Math.cos(l);var h=s*Math.sin(l);var d=s*Math.cos(f);var p=s*Math.sin(f);x[D].save();x[D].beginPath();var v=t-c;var m=n-h;x[D].moveTo(v,m);x[D].lineTo(t,n);v=t-d;m=n-p;x[D].lineTo(v,m);x[D].moveTo(t,n);x[D].lineTo(i,r);if(e===1){v=i+c;m=r+h;x[D].moveTo(v,m);x[D].lineTo(i,r);v=i+d;m=r+p;x[D].lineTo(v,m)}x[D].strokeStyle=this.m_szDrawColor;x[D].lineWidth=a;x[D].stroke();x[D].restore()}},{key:"drawCrossLine",value:function d(){this.drawNormalLine();var e=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2;var t=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2;var n=Math.atan2(t-this.m_aPoint[0][1],e-this.m_aPoint[0][0])*180/Math.PI;var i=(n+90)*Math.PI/180;var r=(n-90)*Math.PI/180;var o=25*Math.cos(i);var s=25*Math.sin(i);var a=25*Math.cos(r);var u=25*Math.sin(r);var l=0;var f=0;l=e-o;f=t-s;var c=0;var h=0;if(this.m_iDirection===0){c=-10;h=-15}else if(this.m_iDirection===1){c=10;h=10}else{c=10;h=-15}if(this.m_iDirection!==0){this.drawArrowLine(0,l,f,e,t)}x[D].strokeStyle=this.m_szDrawColor;x[D].font="8px";x[D].strokeText("A",l+c,f+4);l=e-a;f=t-u;if(this.m_iDirection!==1){this.drawArrowLine(0,l,f,e,t)}x[D].strokeStyle=this.m_szDrawColor;x[D].font="8px";x[D].strokeText("B",l+h,f+4)}},{key:"drawLineCount",value:function h(){this.drawNormalLine();var e=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2;var t=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2;var n=Math.atan2(t-this.m_aPoint[0][1],e-this.m_aPoint[0][0])*180/Math.PI;var i=(n+90)*Math.PI/180;var r=(n-90)*Math.PI/180;var o=25*Math.cos(i);var s=25*Math.sin(i);var a=25*Math.cos(r);var u=25*Math.sin(r);var l=0;var f=0;l=e-o;f=t-s;if(this.m_iArrowType===1){l=e-a;f=t-u;this.drawArrowLine(0,l,f,e,t)}else if(this.m_iArrowType===0){this.drawArrowLine(0,l,f,e,t)}this.m_aCrossArrowPoint=[[e,t],[l,f]]}},{key:"inShape",value:function u(e,t){var n=false;for(var i=0,r=this.m_aPoint.length-1;i<r;i++){var o=Math.sqrt((this.m_aPoint[i+1][0]-this.m_aPoint[i][0])*(this.m_aPoint[i+1][0]-this.m_aPoint[i][0])+(this.m_aPoint[i+1][1]-this.m_aPoint[i][1])*(this.m_aPoint[i+1][1]-this.m_aPoint[i][1]));var s=Math.sqrt((e-this.m_aPoint[i][0])*(e-this.m_aPoint[i][0])+(t-this.m_aPoint[i][1])*(t-this.m_aPoint[i][1]));var a=Math.sqrt((e-this.m_aPoint[i+1][0])*(e-this.m_aPoint[i+1][0])+(t-this.m_aPoint[i+1][1])*(t-this.m_aPoint[i+1][1]));if(s+a-o<1){n=true}}return n}},{key:"move",value:function o(e,t){if(this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.length>0){x[D].strokeStyle=this.m_szDrawColor;x[D].globalAlpha=1;var n=0;var i=0;for(n=0,i=this.m_aPoint.length;n<i;n++){x[D].beginPath();x[D].arc(this.m_aPoint[n][0],this.m_aPoint[n][1],3,0,360,false);x[D].fillStyle=this.m_szDrawColor;x[D].closePath();x[D].fill()}x[D].beginPath();x[D].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(n=0,i=this.m_aPoint.length;n<i;n++){if(n!==0){x[D].lineTo(this.m_aPoint[n][0],this.m_aPoint[n][1])}}x[D].lineTo(e,t);x[D].stroke()}}}]);return t}(e);var X=function(e){m(t,e);function t(){Q(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.m_szType="Polygon";e.m_iPolygonType=1;return e}$(t,[{key:"setPointInfo",value:function a(e){if(e!==null&&typeof e!=="undefined"){if(this.m_iPolygonType===0){var t=e[0][0];var n=e[0][1];var i=e[0][0];var r=e[0][1];for(var o=0,s=e.length;o<s;o++){if(t>e[o][0]){t=e[o][0]}if(n>e[o][1]){n=e[o][1]}if(i<e[o][0]){i=e[o][0]}if(r<e[o][1]){r=e[o][1]}}this.m_aPoint=[[t,n],[i,n],[i,r],[t,r]]}else if(this.m_iPolygonType===1){this.m_aPoint=e}else{this.m_aPoint=e}this.setEdgePoints(e)}}},{key:"draw",value:function n(){if(this.m_aPoint.length>0){x[D].fillStyle=this.m_szFillColor;x[D].strokeStyle=this.m_szDrawColor;x[D].globalAlpha=1;var e=0;var t=0;if(this.m_bChoosed){for(e=0,t=this.m_aPoint.length;e<t;e++){x[D].beginPath();x[D].arc(this.m_aPoint[e][0],this.m_aPoint[e][1],3,0,360,false);x[D].fillStyle=this.m_szDrawColor;x[D].closePath();x[D].fill()}}x[D].beginPath();x[D].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(e=0,t=this.m_aPoint.length;e<t;e++){if(e!==0){x[D].lineTo(this.m_aPoint[e][0],this.m_aPoint[e][1])}}x[D].stroke();if(this.m_bClosed){x[D].fillText(this.m_szTips,(this.m_oEdgePoints.left.x+this.m_oEdgePoints.right.x)/2,(this.m_oEdgePoints.top.y+this.m_oEdgePoints.bottom.y)/2);x[D].closePath();x[D].stroke();x[D].globalAlpha=this.m_iTranslucent;x[D].fill()}}}},{key:"move",value:function f(e,t,n,i){if(this.m_iPolygonType===1){if(this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.length>0){x[D].fillStyle=this.m_szFillColor;x[D].strokeStyle=this.m_szDrawColor;x[D].globalAlpha=1;var r=0;var o=0;for(r=0,o=this.m_aPoint.length;r<o;r++){x[D].beginPath();x[D].arc(this.m_aPoint[r][0],this.m_aPoint[r][1],3,0,360,false);x[D].fillStyle=this.m_szDrawColor;x[D].closePath();x[D].fill()}x[D].beginPath();x[D].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(r=0,o=this.m_aPoint.length;r<o;r++){if(r!==0){x[D].lineTo(this.m_aPoint[r][0],this.m_aPoint[r][1])}}x[D].lineTo(e,t);x[D].closePath();x[D].stroke()}}else if(this.m_iPolygonType===0){this.m_bChoosed=true;var s=n;var a=i;var u=e;var l=t;this.setPointInfo([[s,a],[u,a],[u,l],[s,l]]);this.draw()}}},{key:"stretch",value:function i(e,t){if(this.m_iEditType===0){if(this.m_iPolygonType===1){if(this.m_iIndexChoosePoint!==-1){this.m_aPoint[this.m_iIndexChoosePoint][0]=e;this.m_aPoint[this.m_iIndexChoosePoint][1]=t}}else{if(this.m_iIndexChoosePoint===0){if(e<this.m_aPoint[2][0]&&t<this.m_aPoint[2][1]){this.m_aPoint[0][0]=e;this.m_aPoint[0][1]=t;this.m_aPoint[3][0]=e;this.m_aPoint[1][1]=t}}else if(this.m_iIndexChoosePoint===1){if(e>this.m_aPoint[3][0]&&t<this.m_aPoint[3][1]){this.m_aPoint[1][0]=e;this.m_aPoint[1][1]=t;this.m_aPoint[2][0]=e;this.m_aPoint[0][1]=t}}else if(this.m_iIndexChoosePoint===2){if(e>this.m_aPoint[0][0]&&t>this.m_aPoint[0][1]){this.m_aPoint[2][0]=e;this.m_aPoint[2][1]=t;this.m_aPoint[1][0]=e;this.m_aPoint[3][1]=t}}else if(this.m_iIndexChoosePoint===3){if(e<this.m_aPoint[1][0]&&t>this.m_aPoint[1][1]){this.m_aPoint[3][0]=e;this.m_aPoint[3][1]=t;this.m_aPoint[0][0]=e;this.m_aPoint[2][1]=t}}}this.setPointInfo(this.m_aPoint);J()}}}]);return t}(e);var Z=function(e){m(t,e);function t(){Q(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.m_szType="Point";e.m_szId="";e.m_szPointType="circle";return e}$(t,[{key:"draw",value:function n(){if(this.m_szPointType==="circle"){this.drawCirclePoint()}else if(this.m_szPointType==="cross"){this.drawcrossPoint()}}},{key:"drawCirclePoint",value:function i(){x[D].beginPath();x[D].fillStyle=this.m_szDrawColor;x[D].globalAlpha=1;x[D].arc(this.m_aPoint[0][0],this.m_aPoint[0][1],10,0,Math.PI*2,true);x[D].closePath();x[D].fill()}},{key:"drawcrossPoint",value:function r(){x[D].beginPath();x[D].strokeStyle=this.m_szDrawColor;x[D].fillStyle=this.m_szDrawColor;x[D].lineWidth=2;x[D].globalAlpha=1;x[D].moveTo(this.m_aPoint[0][0]-12,this.m_aPoint[0][1]);x[D].lineTo(this.m_aPoint[0][0]+12,this.m_aPoint[0][1]);x[D].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]-12);x[D].lineTo(this.m_aPoint[0][0],this.m_aPoint[0][1]+12);x[D].fillText(this.m_szTips,this.m_aPoint[0][0]+12,this.m_aPoint[0][1]-12);x[D].closePath();x[D].stroke()}},{key:"stretch",value:function o(){}},{key:"inShape",value:function s(e,t){var n=false;if(this.m_szPointType==="cross"){if(e<=this.m_aPoint[0][0]+4&&e>=this.m_aPoint[0][0]-4&&t<=this.m_aPoint[0][1]+12&&t>=this.m_aPoint[0][1]-12){n=true}else if(t<=this.m_aPoint[0][1]+4&&t>=this.m_aPoint[0][1]-4&&e<=this.m_aPoint[0][0]+12&&e>=this.m_aPoint[0][0]-12){n=true}}return n}}]);return t}(e);var t=function(){function n(e,t){Q(this,n);x=this;this.szCanvasId=e;this.szIframeId=t;if(t&&K("#"+t).length){this[I]=K("#"+e,K("#"+t)[0].contentWindow.document)}else{this[I]=K("#"+e)}this[D]=this[I][0].getContext("2d");this[E]=[];this[q]=false;this[O]="";this[A]=10;this[B]=true;this[W]={};this[N]=null;this[L]={szDrawColor:"#ff0000",szFillColor:"#343434",iTranslucent:.7};this[M]=false;this[F]=false;if(t){this.m_iCanvasWidth=this[I].width()||K("#"+t)[0].contentWindow.document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||K("#"+t)[0].contentWindow.document.getElementById(this.szCanvasId).height}else{this.m_iCanvasWidth=this[I].width()||document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||document.getElementById(this.szCanvasId).height}this.m_iHorizontalResolution=0;this.m_iVerticalResolution=0;this.m_szDisplayMode="";this.m_szVideoFormat="";this.m_iHistoryCanvasWidth=this[I].width();this.m_iHistoryCanvasHeight=this[I].height();H();this[E].length=0}$(n,[{key:"_getCanvasPoints",value:function r(e){var t=e.length;var n=[];for(var i=0;i<t;i++){n.push([e[i][0]*this.m_iCanvasWidth,e[i][1]*this.m_iCanvasHeight])}return n}},{key:"_getNormalizedPoints",value:function o(e){var t=e.length;var n=[];for(var i=0;i<t;i++){n.push([e[i][0]/this.m_iCanvasWidth,e[i][1]/this.m_iCanvasHeight])}return n}},{key:"resizeCanvasPoints",value:function s(e){var t=e.length;var n=[];for(var i=0;i<t;i++){e[i][0]=e[i][0]*this.m_iCanvasWidth/this.m_iHistoryCanvasWidth;e[i][1]=e[i][1]*this.m_iCanvasHeight/this.m_iHistoryCanvasHeight;n.push([e[i][0],e[i][1]])}return n}},{key:"setDrawMutiShapeOneTime",value:function t(e){this[B]=e}},{key:"setMaxShapeSupport",value:function i(e){this[A]=e}},{key:"getMaxShapeSupport",value:function e(){return this[A]}},{key:"setDrawStatus",value:function a(e,t){this[q]=e;if(t&&e){this[N]=t}if(!e){this[N]=null}}},{key:"setShapeType",value:function u(e){x=this;this[O]=e;J()}},{key:"setCurrentShapeInfo",value:function l(e){x=this;for(var t=0,n=this[E].length;t<n;t++){if(this[E][t].m_szId===e.szId){this[E].splice(t,1);break}}J();this[W]=e||{szId:"",szTips:"",iMinClosed:3,iMaxPointNum:11,iPolygonType:1,iRedrawMode:0}}},{key:"getShapeType",value:function f(){return this[O]}},{key:"getAllShapesInfo",value:function c(){var e=[];for(var t=0,n=this[E].length;t<n;t++){if(this[E][t].m_szType==="Grid"){e.push({szType:this[E][t].m_szType,szGridMap:this[E][t].m_szGridMap,iGridColNum:this[E][t].m_iGridColNum,iGridRowNum:this[E][t].m_iGridRowNum})}else if(this[E][t].m_szType==="RectOSD"){e.push({szType:this[E][t].m_szType,szText:this[E][t].m_szText,szEnabled:this[E][t].m_szEnabled,szOSDType:this[E][t].m_szOSDType,iPositionX:this[E][t].m_aPoint[0][0]/this.m_iCanvasWidth,iPositionY:this[E][t].m_aPoint[0][1]/this.m_iCanvasHeight,szDateStyle:this[E][t].m_szDateStyle,szClockType:this[E][t].m_szClockType,szDisplayWeek:this[E][t].m_szDisplayWeek,szId:this[E][t].m_szId,szAlignment:this[E][t].m_szAlignment})}else{e.push({szType:this[E][t].m_szType,aPoint:this._getNormalizedPoints(this[E][t].m_aPoint),szId:this[E][t].m_szId,bChoosed:this[E][t].m_bChoosed})}}return e}},{key:"deleteRepeatByIdAndType",value:function h(e,t){var n=this.getAllShapesInfo();var i=n.length;if(i>0){for(var r=0;r<i;r++){if(n[r].szType===t){if(Number(n[r].szId)===Number(e)){this.deleteShape(r)}}}}}},{key:"getShapesInfoByType",value:function d(e){var t=[];for(var n=0,i=this[E].length;n<i;n++){if(this[E][n].m_szType===e){if(this[E][n].m_szType==="Grid"){t.push({gridMap:this[E][n].m_szGridMap,gridColNum:this[E][n].m_iGridColNum,gridRowNum:this[E][n].m_iGridRowNum})}else if(this[E][n].m_szType==="RectOSD"){t.push({szType:this[E][n].m_szType,szText:this[E][n].m_szText,szEnabled:this[E][n].m_szEnabled,szOSDType:this[E][n].m_szOSDType,iPositionX:this[E][n].m_aPoint[0][0]/this.m_iCanvasWidth,iPositionY:this[E][n].m_aPoint[0][1]/this.m_iCanvasHeight,szDateStyle:this[E][n].m_szDateStyle,szClockType:this[E][n].m_szClockType,szDisplayWeek:this[E][n].m_szDisplayWeek,szId:this[E][n].m_szId,szAlignment:this[E][n].m_szAlignment})}else if(e==="Polygon"){t.push({id:this[E][n].m_szId,points:this._getNormalizedPoints(this[E][n].m_aPoint),closed:this[E][n].m_bClosed,tips:this[E][n].m_szTips,drawColor:this[E][n].m_szDrawColor})}else if(e==="Line"){var r={id:this[E][n].m_szId,points:this._getNormalizedPoints(this[E][n].m_aPoint),tips:this[E][n].m_szTips,closed:this[E][n].m_bClosed,lineType:this[E][n].m_iLineType,direction:this[E][n].m_iDirection};if(r.lineType===1||r.lineType===4){r.direction=this[E][n].m_iArrowType}if(r.lineType===4){r.pdcArrow=this._getNormalizedPoints(this[E][n].m_aCrossArrowPoint)}t.push(r)}else if(e==="Rect"){t.push({id:this[E][n].m_szId,points:this._getNormalizedPoints(this[E][n].m_aPoint),tips:this[E][n].m_szTips,closed:this[E][n].m_bClosed})}else if(e==="Point"){t.push({id:this[E][n].m_szId,points:this._getNormalizedPoints(this[E][n].m_aPoint)[0],tips:this[E][n].m_szTips,type:this[E][n].m_szPointType,drawColor:this[E][n].m_szDrawColor})}else{t.push({points:this._getNormalizedPoints(this[E][n].m_aPoint)})}}}return t}},{key:"setShapesInfoByType",value:function p(e,t){x=this;if(!t){t=[]}var n=null;if(e==="Rect"||e==="Polygon"||e==="Line"||e==="Point"){for(var i=0,r=t.length;i<r;i++){if(e==="Rect"){if(""!==t[i].id){this.deleteRepeatByIdAndType(t[i].id,"Rect")}n=new j;n.m_szId=t[i].id;n.m_iEditType=t[i].editType||0;n.m_szTips=t[i].tips;n.m_szDrawColor=t[i].drawColor;n.m_szFillColor=t[i].fillColor||t[i].drawColor;n.m_iTranslucent=t[i].translucent;n.m_iRedrawMode=t[i].redrawMode;n.m_bClosed=t[i].closed||true}else if(e==="Polygon"){if(""!==t[i].id){this.deleteRepeatByIdAndType(t[i].id,"Polygon")}n=new X;n.m_szTips=t[i].tips;n.m_szId=t[i].id||"";n.m_iMinClosed=t[i].minPointSupport||3;n.m_iMaxPointNum=t[i].maxPointSupport||11;n.m_iEditType=t[i].editType||0;n.m_szDrawColor=t[i].drawColor;n.m_szFillColor=t[i].fillColor||t[i].drawColor;n.m_iTranslucent=t[i].translucent;n.m_iRedrawMode=t[i].redrawMode;n.m_bClosed=t[i].closed||true}else if(e==="Line"){if(""!==t[i].id){this.deleteRepeatByIdAndType(t[i].id,"Line")}n=new Y;n.m_iLineType=t[i].lineType;n.m_szTips=t[i].tips;n.m_szId=t[i].id;n.m_iEditType=t[i].editType||0;n.m_bClosed=t[i].redrawMode||true;n.m_iDirection=parseInt(t[i].direction,10);if(t[i].lineType===1||t[i].lineType===4){n.m_iArrowType=parseInt(t[i].direction,10)}n.m_szDrawColor=t[i].drawColor}else if(e==="Point"){if(""!==t[i].id){this.deleteRepeatByIdAndType(t[i].id,"Point")}n=new Z;n.m_szId=t[i].id;n.m_szDrawColor=t[i].drawColor;n.m_szTips=t[i].tips||"";n.m_iEditType=t[i].editType||0;n.m_szPointType=t[i].type||"circle"}n.setPointInfo(this._getCanvasPoints(t[i].points));if(i===0){n.m_bChoosed=true}U(n)}}else if(e==="Grid"){n=new V;n.m_szGridMap=t[0].gridMap||"";n.m_iGridColNum=t[0].gridColNum||22;n.m_iGridRowNum=t[0].gridRowNum||18;U(n)}J()}},{key:"addOSDShape",value:function v(e,t,n,i,r){x=this;var o=n*this.m_iCanvasWidth;var s=i*this.m_iCanvasHeight;if(!o&&!s){o=0;s=0}if(!r){r={}}var a=new G(e,t);var u=e.replace(/[^x00-xff]/g,"rr").length*10;a.m_szOSDType=r.szOSDType||"";a.m_szDateStyle=r.szDateStyle||"";a.m_szClockType=r.szClockType||"";a.m_szDisplayWeek=r.szDisplayWeek||"";a.m_szId=r.szId||"";a.m_szAlignment=""+r.szAlignment||"0";if("0"===a.m_szAlignment){a.m_aPoint=[[o,s],[u+o,s],[u+o,s+20],[o,s+20]]}else if("1"===a.m_szAlignment){a.m_aPoint=[[0,s],[u,s],[u,s+20],[0,s+20]]}else if("2"===a.m_szAlignment){a.m_aPoint=[[this.m_iCanvasWidth-u,s],[this.m_iCanvasWidth,s],[this.m_iCanvasWidth,s+20],[this.m_iCanvasWidth-u,s+20]]}else{a.m_aPoint=[[o,s],[u+o,s],[u+o,s+20],[o,s+20]]}U(a);J()}},{key:"selectShapeById",value:function m(e,t){x=this;for(var n=0,i=x[E].length;n<i;n++){if(e===x[E][n].m_szType){if(t===x[E][n].m_szId+""){x[E][n].m_bChoosed=true}else{x[E][n].m_bChoosed=false}}}J()}},{key:"setCanvasSize",value:function y(e,t){x=this;if(e>0&&t>0){this.m_iCanvasWidth=e;this.m_iCanvasHeight=t;J()}}},{key:"setDrawStyle",value:function g(e,t,n){this[L]={szDrawColor:e,szFillColor:t,iTranslucent:n}}},{key:"clearAllShape",value:function S(){x=this;this[E].length=0;x[M]=false;x[F]=false;J()}},{key:"clearShapeByType",value:function w(e){x=this;var t=this[E].length;for(var n=t;n>0;n--){if(this[E][n-1].m_szType===e){if(e==="Grid"){this[E][n-1].m_szGridMap="";this[E][n-1].m_aAddGridMap=[]}else{this[E].splice(n-1,1)}}}if("Polygon"===e){x[M]=false}if("Line"===e){x[F]=false}if(e==="All"||e==="AllWindows"){this[E].length=0}J()}},{key:"deleteChoosedShape",value:function P(){var e=this.getAllShapesInfo();var t=e.length;if(t>0){for(var n=0;n<t;n++){if(e[n].bChoosed){this.deleteShape(n);return+e[n].szId}}return-1}return-1}},{key:"deleteTargetShape",value:function _(e,t){var n=this.getAllShapesInfo();var i=n.length;if(i>0){for(var r=0;r<i;r++){if(n[r].szType===e){if(n[r].szId===t){this.deleteShape(r);break}}}}}},{key:"deleteShape",value:function b(e){x=this;if(this[E].length>e){this[E].splice(e,1)}J()}},{key:"updateCanvas",value:function C(e,t){x=this;this.szIframeId=t;this.szCanvasId=e;if(t&&K("#"+t).length){this[I]=K("#"+e,K("#"+t)[0].contentWindow.document)}else{this[I]=K("#"+e)}this[D]=this[I][0].getContext("2d");if(t){this.m_iCanvasWidth=this[I].width()||K("#"+t)[0].contentWindow.document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||K("#"+t)[0].contentWindow.document.getElementById(this.szCanvasId).height}else{this.m_iCanvasWidth=this[I].width()||document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||document.getElementById(this.szCanvasId).height}H()}},{key:"resizeCanvas",value:function k(){this.m_iHistoryCanvasWidth=this.m_iCanvasWidth;this.m_iHistoryCanvasHeight=this.m_iCanvasHeight;if(this.szIframeId){this.m_iCanvasWidth=this[I].width()||K("#"+this.szIframeId)[0].contentWindow.document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||K("#"+this.szIframeId)[0].contentWindow.document.getElementById(this.szCanvasId).height}else{this.m_iCanvasWidth=this[I].width()||document.getElementById(this.szCanvasId).width;this.m_iCanvasHeight=this[I].height()||document.getElementById(this.szCanvasId).height}}},{key:"canvasRedraw",value:function T(){x=this;J("canvasRedraw")}},{key:"setDrawEventCallback",value:function R(e){this[z]=e}}]);return n}();return t}();t.ESCanvas=e}).call(this,n(1))},function(e,r,o){"use strict";(function($t){Object.defineProperty(r,"__esModule",{value:true});r.LocalServiceControl=undefined;var Qt=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var en=o(76);var tn=o(10);var e=o(18);var t=n(e);function n(e){return e&&e.__esModule?e:{"default":e}}function nn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function rn(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){var e=function(){function r(e){rn(this,r);var t=this;var n={szPluginContainer:"",cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null};this.oOptions=$t.extend(n,e);this.oPluginColor={backgroundColor:t.oOptions.szBackgroundColor,subBackgroundColor:t.oOptions.szSubBackgroundColor,borderColor:t.oOptions.szBorderColor,selectBorderColor:t.oOptions.szSelectBorderColor};if(this.oOptions.szIframeId&&$t("#"+this.oOptions.szIframeId).length){this.oOptions.oPluginContainer=$t("#"+this.oOptions.szPluginContainer,$t("#"+this.oOptions.szIframeId)[0].contentWindow.document)}else{this.oOptions.oPluginContainer=$t("#"+this.oOptions.szPluginContainer)}this.bFreeze=false;this.bFocus=true;this.bEmbed=false;if("bEmbed"in t.oOptions){this.bEmbed=!!t.oOptions.bEmbed}else{this.bEmbed=tn.oUtils.getCreateWndMode()}this.szWndId="";this.iCreateWndTimer=-1;this.iUpdateParentWndTimer=-1;this.bDevTool=false;this.iVCTimeStart=-1;this.iVCTimeEnd=-1;this.oWndCover={left:0,top:0,right:0,bottom:0};this.bOpened=false;this.bLocalServiceRunning=false;this.fCurrentCallback=null;this.afCurrentCallback=[];this.iProtocolType=0;this.oPluginCallback={};this.iPackageType=2;this.iDrawWondIndex=-1;this.iPluginMode=2;this.szUUID="";this.fVisibilityChange=function(){if(document.hidden){t.iVCTimeStart=(new Date).getTime();t.fHideWnd()}else{t.iVCTimeEnd=(new Date).getTime();var e=tn.oUtils.browser();if(e.chrome||e.mozilla){if(t.iUpdateParentWndTimer>0){clearTimeout(t.iUpdateParentWndTimer);t.iUpdateParentWndTimer=-1}if(t.iVCTimeEnd-t.iVCTimeStart<100){t.iUpdateParentWndTimer=setTimeout(function(){t.oRequest.updateParentWnd().then(function(){if(!t.bFreeze&&!t.bDevTool){t.fShowWnd()}},function(){})},100)}else{if(!t.bFreeze&&!t.bDevTool){t.fShowWnd()}}}else{if(!t.bFreeze&&!t.bDevTool){t.fShowWnd()}}}};this.fHideWnd=function(){return this.oRequest.hideWnd()};this.fShowWnd=function(){this.oRequest.showWnd()};this.fUnload=function(){$t(window).off("unload",this.fUnload);this.JS_Disconnect()};this.fFocus=function(){t.bFocus=true;setTimeout(function(){if(!document.hidden&&!t.bFreeze&&!t.bDevTool){t.fShowWnd()}},200)};this.fBlur=function(){this.bFocus=false};document.addEventListener("visibilitychange",this.fVisibilityChange,true);$t(window).on("focus",this.fFocus);$t(window).on("blur",this.fBlur);this.oRequest=new en.Request({szPluginContainer:this.oOptions.szPluginContainer,cbConnectSuccess:this.oOptions.cbConnectSuccess,cbConnectError:this.oOptions.cbConnectError,cbConnectClose:function i(e){if(t.iCreateWndTimer>0){clearTimeout(t.iCreateWndTimer);t.iCreateWndTimer=-1}if(t.oOptions.cbConnectClose){t.oOptions.cbConnectClose(e)}},oSessionInfo:this.oOptions.oSessionInfo,bNoDetectPort:this.oOptions.bNoDetectPort,bUseInQT:this.oOptions.bUseInQT,iServicePortStart:this.oOptions.iServicePortStart,iServicePortEnd:this.oOptions.iServicePortEnd});if(this.oRequest!==null){$t(window).on("unload",this.fUnload)}}Qt(r,[{key:"JS_Disconnect",value:function e(){this.oRequest.disconnect()}},{key:"JS_CreateWnd",value:function t(n,u,l){var f=this;this.szWndId=n;var e=new Promise(function(t,i){var e=null;if(f.oOptions.szIframeId&&$t("#"+f.oOptions.szIframeId).length){e=$t("#"+n,$t("#"+f.oOptions.szIframeId)[0].contentWindow.document)}else{e=$t("#"+n)}if(e.length>0){var o=tn.oUtils.getWndPostion(e,f.bEmbed,f.oOptions.szIframeId,f.oOptions.bChildIframe,f.oOptions.szChildIframeId,f.oOptions.aIframe);var s=f.oOptions.szIframeId?$t("#"+f.oOptions.szIframeId)[0].contentWindow||window.top:window.top;var a=s.document.title;f.iCreateWndTimer=function(){var r="";if(tn.oUtils.browser().msie){r="IEFrame"}else if(tn.oUtils.browser().chrome){r="Chrome"}if(!f.bDevTool){var e=tn.oUtils.getDevicePixelRatio();u=Math.round(u*e);l=Math.round(l*e);var n=function n(e,t){var i=function i(t,n){f.oRequest.createWnd(o.left,o.top,u,l,r,f.bEmbed,f.oPluginColor).then(function(){s.document.title=a;f.freshDocumentTitle();t()},function(e){s.document.title=a;f.freshDocumentTitle();if(5001===e.errorCode){if(!document.hidden&&!f.bFreeze&&f.bFocus){f.fShowWnd()}t()}else{n(e)}})};f.handleBeforeCreateWnd(f.oOptions.beforeCreateWnd).then(function(){i(e,t)},function(){i(e,t)})};f.oRequest.destroyWnd().then(function(){n(t,i)},function(){n(t,i)})}};$t(function(){f.oRequest.getRequestUUID().then(function(e){if(!e){i("uuid undefined");return false}s.document.title=e;f.freshDocumentTitle();f.iCreateWndTimer()})})}else{i()}});return e}},{key:"handleBeforeCreateWnd",value:function n(i){return new Promise(function(e,t){if("function"===typeof i){try{i(e,t)}catch(n){t(n)}}else{e()}})}},{key:"JS_CheckLocalServiceConnected",value:function o(n,i,r){var e=new Promise(function(e,t){en.Request.checkLocalServiceConnected(n,i,r).then(function(){e()},function(){t()})});return e}},{key:"JS_ShowWnd",value:function i(){var n=this;var e=new Promise(function(e,t){n.bFreeze=false;if(!document.hidden&&!n.bDevTool){n.fShowWnd()}e()});return e}},{key:"JS_HideWnd",value:function s(){var n=this;var e=new Promise(function(e,t){n.bFreeze=true;n.fHideWnd().then(function(){e()},function(){t()})});return e}},{key:"JS_SetWndCover",value:function a(i,r){var o=this;var e=new Promise(function(e,t){var n=tn.oUtils.getDevicePixelRatio();if(!tn.oUtils.browser().msie){if("left"===i){o.oWndCover.left=r}else if("top"===i){o.oWndCover.top=r}else if("right"===i){o.oWndCover.right=r}else if("bottom"===i){o.oWndCover.bottom=r}}r=Math.round(r*n);o.oRequest.setWndCover(i,r).then(function(){e()},function(){t()})});return e}},{key:"JS_SetWindowControlCallback",value:function p(e){var t=this;$t.extend(this.oPluginCallback,e);var n={onGetSelectWndInfo:function i(e){if(0<=e.wndInfo.wndIndex){t.fCurrentCallback=t.afCurrentCallback[e.wndInfo.wndIndex]}if(t.oPluginCallback.onGetSelectWndInfo){t.oPluginCallback.onGetSelectWndInfo(parseInt(e.wndInfo.wndIndex,10))}},onPluginEventHandler:function r(e){if(t.oPluginCallback.onPluginEventHandler){t.oPluginCallback.onPluginEventHandler(parseInt(e.wndIndex,10),parseInt(e.eventType,10))}},onDrawCallback:function o(e){if(t.fCurrentCallback){t.fCurrentCallback(e.shapeInfo)}},onDrawEvent:function s(e){if(t.oPluginCallback.onDrawEvent){t.oPluginCallback.onDrawEvent(e)}},onFisheyePTZInfo:function a(e){if(t.oPluginCallback.onFisheyePTZInfo){t.oPluginCallback.onFisheyePTZInfo(e&&e.fishEyePTZInfo)}},onFullScreenChange:function u(e){if(t.oPluginCallback.onFullScreenChange){t.oPluginCallback.onFullScreenChange(e&&e.full)}},onMouseEvent:function l(e){if(t.oPluginCallback.onMouseEvent){t.oPluginCallback.onMouseEvent(e&&e.mouseInfo)}},onUploadAlarmInfo:function f(e){if(t.oPluginCallback.onUploadAlarmInfo){t.oPluginCallback.onUploadAlarmInfo(e&&e.alarm)}},onGetVoiceInfo:function c(e){if(t.oPluginCallback.onGetVoiceInfo){if(e&&e.dbValue){t.oPluginCallback.onGetVoiceInfo([e.dbValue])}if(e&&e.levlAngle){t.oPluginCallback.onGetVoiceInfo([],parseInt(e.levlAngle,10))}}},onFingerMessage:function h(e){if(t.oPluginCallback.onFingerMessage){t.oPluginCallback.onFingerMessage(parseInt(e.eventType,10),e.messageData)}},onDeviceChange:function d(e){if(t.oPluginCallback.onDeviceChange){t.oPluginCallback.onDeviceChange()}}};this.oRequest.setWindowControlCallback(n)}},{key:"JS_ArrangeWindow",value:function u(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.arrangeWindow(n,i).then(function(){e()},function(){t()})});return e}},{key:"JS_SetSecretKey",value:function l(e,n,i){var r=this;var t=new Promise(function(e,t){r.oRequest.setSecretKey(n,i).then(function(){e()},function(e){t(e.errorCode)})});return t}},{key:"JS_SetOriginalString",value:function f(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.setOriginalString(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetEncryptString",value:function c(e,i,r){var o=this;var t=new Promise(function(t,n){o.oRequest.getEncryptString(e,i,r).then(function(e){t(e.encryptString)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetDecryptString",value:function h(e,i,r){var o=this;var t=new Promise(function(t,n){o.oRequest.getDecryptString(e,i,r).then(function(e){t(e.decryptString)},function(e){n(e.errorCode)})});return t}},{key:"JS_DestroyPlugin",value:function d(n){var i=this;this.oPluginCallback={};var e=new Promise(function(e,t){i.oRequest.destroyWnd().then(function(){if(n){i.JS_Disconnect()}e()},function(){t()})});return e}},{key:"JS_DestroyAll",value:function v(){this.JS_DestroyPlugin();this.oRequest.destroy();return Promise.resolve()}},{key:"JS_Play",value:function m(n,i,r,o,s){var a=this;var e=new Promise(function(e,t){a.oRequest.startPlay(n,i,r,o,s).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Play2",value:function y(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.startPlayV2(i,n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_ReversePlay",value:function g(n,i,r,o,s){var a=this;var e=new Promise(function(e,t){a.oRequest.reversePlay(n,i,r,o,s).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Stop",value:function S(n){var i=this;var e=new Promise(function(e,t){i.oRequest.stop(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Seek",value:function w(){var e=new Promise(function(e){e()});return e}},{key:"JS_StopRealPlayAll",value:function P(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopAll().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Pause",value:function _(n){var i=this;var e=new Promise(function(e,t){i.oRequest.pause(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Resume",value:function b(n){var i=this;var e=new Promise(function(e,t){i.oRequest.resume(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Slow",value:function C(n){var i=this;var e=new Promise(function(e,t){i.oRequest.slow(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Fast",value:function k(n){var i=this;var e=new Promise(function(e,t){i.oRequest.fast(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Transmission",value:function T(){var e=new Promise(function(e){e()});return e}},{key:"JS_FrameForward",value:function R(n){var i=this;var e=new Promise(function(e,t){i.oRequest.frame(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetOSDTime",value:function x(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getOSDTime(e).then(function(e){t(e.osdTime)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetPlayInfo",value:function I(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getPlayInfo(e).then(function(e){t(e.playInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_OpenSound",value:function D(n){var i=this;var e=new Promise(function(e,t){i.oRequest.openSound(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_CloseSound",value:function E(){var n=this;var e=new Promise(function(e,t){n.oRequest.closeSound().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetVolume",value:function q(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getVolume(e).then(function(e){t(e.volume)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetVolume",value:function O(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.setVolume(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_EnableZoom",value:function A(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.enableZoom(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_DisableZoom",value:function L(n){var i=this;var e=new Promise(function(e,t){i.oRequest.disableZoom(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_CapturePicture",value:function M(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.capture(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartSave",value:function F(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.startSave(n,i,r.iPackageType).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopSave",value:function W(n){var i=this;var e=new Promise(function(e,t){i.oRequest.stopSave(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartTalk",value:function B(n,i,r,o,s,a,u,l,f,c){var h=this;var e=new Promise(function(e,t){h.oRequest.startTalk(n,i,r,o,s,a,u,l,f,c).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopTalk",value:function N(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopTalk().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetPlayMode",value:function z(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetFullScreenCapability",value:function J(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setFullScreenCapability(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_FullScreenDisplay",value:function U(n){var i=this;var e=new Promise(function(e,t){i.oRequest.fullScreen(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_EnableIVS",value:function H(n,i,r){var o=this;var e=new Promise(function(e,t){o.oRequest.enableIVS(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SRInit",value:function j(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.SRInit(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SRPTZ",value:function G(n,i,r){var o=this;var e=new Promise(function(e,t){if(i===4||i===5){o.oRequest.SRZoom(n,5-i,r).then(function(){e()},function(e){t(e.errorCode)})}else{o.oRequest.SRPTZ(n,i,r).then(function(){e()},function(e){t(e.errorCode)})}});return e}},{key:"JS_SetPlaybackDrawType",value:function V(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.setPlaybackDrawType(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetPlayBackType",value:function Y(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setPlayBackType(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetTrsPlayBackParam",value:function X(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.setTrsPlayBackParam(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetLocalConfig",value:function Z(){var i=this;var e=new Promise(function(t,n){i.oRequest.getLocalConfig().then(function(e){t(e.localConfig);i.iProtocolType=parseInt(e.localConfig.protocolType,10)},function(e){n(e&&e.errorCode)})});return e}},{key:"JS_GetEngineSupport",value:function K(){var e=this;var t=new Promise(function(t,n){e.oRequest.getEngineSupport().then(function(e){t(e)},function(e){n(e&&e.errorCode)})});return t}},{key:"JS_SetLocalConfig",value:function $(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setLocalConfig(n).then(function(){i.iProtocolType=parseInt(n.protocolType,10);e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetLastError",value:function Q(){var e=this;var t=new Promise(function(t,n){e.oRequest.getLastError().then(function(e){t(e.lastError)},function(e){n(e.errorCode)})});return t}},{key:"JS_OpenFileBrowser",value:function ee(e,i){var r=this;var t=new Promise(function(t,n){if(!r.bLocalServiceRunning||r.bOpened){n();return}r.bOpened=true;r.oRequest.browseFilePath(e,i).then(function(e){r.bOpened=false;t(e.filepath)},function(e){r.bOpened=false;n(e.errorCode)})});return t}},{key:"JS_OpenDirectory",value:function te(n){var i=this;var e=new Promise(function(e,t){i.oRequest.openDirectory(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartAsynUpload",value:function ne(n,i,r,o,e,s){var a=this;var t=new Promise(function(e,t){a.oRequest.startAsynUpload(n,i,r,o).then(function(){e()},function(e){if(s){t(e)}else{t(e.errorCode)}})});return t}},{key:"JS_StopAsynUpload",value:function ie(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopAsynUpload().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetUploadErrorInfo",value:function re(){var e=this;var t=new Promise(function(t,n){e.oRequest.getUploadErrorInfo().then(function(e){t(e.errorInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_UploadFile",value:function oe(e,i,r,o){var s=this;var t=new Promise(function(t,n){s.oRequest.uploadFile(e,i,r,o).then(function(e){t(e)},function(e){n({readyState:4,status:e.errorCode,responseXML:e.errorInfo?tn.oUtils.parseXmlFromStr(e.errorInfo):null,errorInfo:e.errorInfo})})});return t}},{key:"JS_GetIpcImportErrorInfo",value:function se(){var e=this;var t=new Promise(function(t,n){e.oRequest.getIpcImportErrorInfo().then(function(e){t(e.errorInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_DownloadFile",value:function ae(e,i,r,o,s,a){var u=this;var t=new Promise(function(t,n){u.oRequest.downloadFile(e,i,r,o,s,a).then(function(e){if(typeof e.ret==="undefined"){t(0)}else{t(e.ret)}},function(e){n({readyState:4,status:e.errorCode,subStatus:e.subErrorCode,responseXML:e.errorInfo?tn.oUtils.parseXmlFromStr(e.errorInfo,true):null})})});return t}},{key:"JS_DownloadFileNoPlugin",value:function ue(t){var e=new Promise(function(e){$t("body").append('<a id="jsplugin_download_a" href="'+t+'"><li id="jsplugin_download_li"></li></a>');$t("#jsplugin_download_li").trigger("click");$t("#jsplugin_download_a").remove();e()});return e}},{key:"JS_StartUpgrade",value:function le(n,i,r,o,s){var a=this;var e=new Promise(function(e,t){a.oRequest.startUpgrade(n,i,r,o,s).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopUpgrade",value:function fe(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopUpgrade().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetUpgradeStatus",value:function ce(){var e=this;var t=new Promise(function(t,n){e.oRequest.getUpgradeStatus().then(function(e){t(e.upgradeStatus)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetUpgradeProgress",value:function he(){var e=this;var t=new Promise(function(t,n){e.oRequest.getUpgradeProgress().then(function(e){t(e.upgradeProgress)},function(e){n(e.errorCode)})});return t}},{key:"JS_ExportDeviceLog",value:function de(e,i,r){var o=this;var t=new Promise(function(t,n){o.oRequest.exportDeviceLog(e,i,r).then(function(e){if(typeof e.ret==="undefined"){t(0)}else{t(e.ret)}},function(e){n(e.errorCode)})});return t}},{key:"JS_ExportReport",value:function pe(e,i,r){var o=this;var t=new Promise(function(t,n){o.oRequest.exportReport(e,i,r).then(function(e){if(typeof e.ret==="undefined"){t(0)}else{t(e.ret)}},function(e){n(e.errorCode)})});return t}},{key:"JS_StartAsyncDownload",value:function ve(e,i,r,o){var s=this;var t=new Promise(function(t,n){s.oRequest.startAsyncDownload(e,i,r,o,s.iPackageType).then(function(e){t(e.downloadId)},function(e){n({readyState:4,status:e.errorCode,subStatus:e.subErrorCode,responseXML:e.errorInfo?tn.oUtils.parseXmlFromStr(e.errorInfo):null})})});return t}},{key:"JS_StopAsyncDownload",value:function me(n){var i=this;var e=new Promise(function(e,t){i.oRequest.stopAsyncDownload(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetDownloadStatus",value:function ye(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getDownloadStatus(e).then(function(e){t(e.downloadStatus)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetDownloadProgress",value:function ge(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getDownloadProgress(e).then(function(e){t(e.downloadProgress)},function(e){n(e.errorCode)})});return t}},{key:"JS_EnablePDC",value:function Se(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.enablePDC(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_Resize",value:function we(o,s){var a=this;var e=new Promise(function(e,t){var n=null;if(a.oOptions.szIframeId&&$t("#"+a.oOptions.szIframeId).length){n=$t("#"+a.szWndId,$t("#"+a.oOptions.szIframeId)[0].contentWindow.document)}else{n=$t("#"+a.szWndId)}if(n.length>0){var i=tn.oUtils.getWndPostion(n,a.bEmbed,a.oOptions.szIframeId,a.oOptions.bChildIframe,a.oOptions.szChildIframeId,a.oOptions.aIframe);var r=tn.oUtils.getDevicePixelRatio();if(!tn.oUtils.browser().msie){if(a.oWndCover.left>0){i.left=i.left+Math.round(a.oWndCover.left*r);o=o-a.oWndCover.left}if(a.oWndCover.top>0){i.top=i.top+Math.round(a.oWndCover.top*r);s=s-a.oWndCover.top}if(a.oWndCover.right>0){o=o-a.oWndCover.right}if(a.oWndCover.bottom>0){s=s-a.oWndCover.bottom}}o=Math.round(o*r);s=Math.round(s*r);a.oRequest.setWndGeometry(i.left,i.top,o,s).then(function(){e()},function(){t()})}else{t()}});return e}},{key:"JS_SetDrawCallback",value:function Pe(n,i,r,o,s,a){var u=this;a=a||{};u.fCurrentCallback=null;u.afCurrentCallback[n]=null;var e=new Promise(function(e,t){u.oRequest.setDrawCallback(n,i,r,o,a).then(function(){u.fCurrentCallback=s;u.afCurrentCallback[n]=s;e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetDrawStatus",value:function _e(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setDrawStatus(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_ClearRegion",value:function be(){var n=this;var e=new Promise(function(e,t){n.oRequest.clearRegion().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetDrawShapeInfo",value:function Ce(n,i,r){var o=this;var e=new Promise(function(e,t){if(o.iDrawWondIndex!==-1){i.wndIndex=o.iDrawWondIndex}o.oRequest.setDrawShapeInfo(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetGridInfo",value:function ke(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setGridInfo(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetGridInfo",value:function Te(){var e=this;var t=new Promise(function(t,n){e.oRequest.getGridInfo().then(function(e){t(e.gridInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetRectInfo",value:function Re(i,r){var o=this;var e=new Promise(function(e,t){if(o.iDrawWondIndex!==-1){var n=void 0;for(n=0;n<i.length;n++){i[n].wndIndex=o.iDrawWondIndex}}o.oRequest.setRectInfo(i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetRectInfo",value:function xe(){var e=this;var t=new Promise(function(t,n){e.oRequest.getRectInfo(e.iDrawWondIndex).then(function(e){t(e.rectInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetPolygonInfo",value:function Ie(i,r){var o=this;var e=new Promise(function(e,t){if(o.iDrawWondIndex!==-1){var n=void 0;for(n=0;n<i.length;n++){i[n].wndIndex=o.iDrawWondIndex}}o.oRequest.setPolygonInfo(i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetPolygonInfo",value:function De(){var e=this;var t=new Promise(function(t,n){e.oRequest.getPolygonInfo(e.iDrawWondIndex).then(function(e){t(e.polygonInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetLineInfo",value:function Ee(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setLineInfo(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetLineInfo",value:function qe(){var e=this;var t=new Promise(function(t,n){e.oRequest.getLineInfo().then(function(e){t(e.lineInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetPointInfo",value:function Oe(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setPointInfo(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetPointInfo",value:function Ae(){var e=this;var t=new Promise(function(t,n){e.oRequest.getPointInfo().then(function(e){t(e.pointInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetTextOverlay",value:function Le(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setTextOverlay(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetTextOverlay",value:function Me(){var e=this;var t=new Promise(function(t,n){e.oRequest.getTextOverlay().then(function(e){t(e.overlayInfo)},function(e){n(e.errorCode)})});return t}},{key:"JS_ClearShapeByType",value:function Fe(i,e){var r=this;var t=new Promise(function(t,n){r.oRequest.clearShapeByType(i,e).then(function(e){if("Choosed"===i){t(e.clearedShapeId)}else{t()}},function(e){n(e.errorCode)})});return t}},{key:"JS_ChooseShape",value:function We(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.chooseShape(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetCorrectionType",value:function Be(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setCorrectionType(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetPlaceType",value:function Ne(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setPlaceType(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartFishListener",value:function ze(n,i,r){var o=this;var e=new Promise(function(e,t){o.oRequest.startFishListener(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopFishListener",value:function Je(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopFishListener().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetFishBoxListInfo",value:function Ue(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setFishBoxListInfo(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetFishBoxListInfo",value:function He(){var e=this;var t=new Promise(function(t,n){e.oRequest.getFishBoxListInfo().then(function(e){t(e.fishBoxList)},function(e){n(e.errorCode)})});return t}},{key:"JS_ClearAllWndFishBoxInfo",value:function je(){var n=this;var e=new Promise(function(e,t){n.oRequest.clearAllWndFishBoxInfo().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetFishWndProperty",value:function Ge(n,i,r){var o=this;var e=new Promise(function(e,t){o.oRequest.setFishWndProperty(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetFishParams",value:function Ve(n,i,r,o){var s=this;var e=new Promise(function(e,t){s.oRequest.setFishParams(n,i,r,o).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_ArrangeFECWindow",value:function Ye(n){var i=this;var e=new Promise(function(e,t){i.oRequest.arrangeFECWindow(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartFECScan",value:function Xe(n){var i=this;var e=new Promise(function(e,t){i.oRequest.startFECScan(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopFECScan",value:function Ze(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopFECScan().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_FishEyePTZ",value:function Ke(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.fishEyePTZ(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_FishEyeGetPreset",value:function $e(){var e=this;var t=new Promise(function(t,n){e.oRequest.fishEyeGetPreset().then(function(e){t(e.fishEyePreset)},function(e){n(e.errorCode)})});return t}},{key:"JS_FishEyeSetPreset",value:function Qe(n){var i=this;var e=new Promise(function(e,t){i.oRequest.fishEyeSetPreset(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartFECCruise",value:function et(n){var i=this;var e=new Promise(function(e,t){i.oRequest.startFECCruise(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopFECCruise",value:function tt(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopFECCruise().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetIsHttps",value:function nt(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setIsHttps(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetReconnectInfo",value:function it(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.setReconnectInfo(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_CheckUpdate",value:function rt(n,e){var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=this;var t=new Promise(function(r,e){var t=tn.oUtils.parseXmlFromStr(n);var o=$t(t).find("localServiceControl").eq(0).text();i.oRequest.getLocalServiceVersion().then(function(e){var t=parseInt(e.localServiceVersion.replace(/\./g,""),10);var n=parseInt(o.replace(/\./g,""),10);var i=n>t;if(s){r({bUpdate:i,iVersionRunning:t})}else{r(i)}},function(){e()})});return t}},{key:"JS_SelectShape",value:function ot(n,i){var r=this;var e=new Promise(function(e,t){r.oRequest.selectShape(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetPictureSize",value:function st(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getPictureSize(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetOriginResolution",value:function at(n,i,r){var o=this;var e=new Promise(function(e,t){o.oRequest.setOriginResolution(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetPlayWndMode",value:function ut(n,i,r){var o=this;var e=new Promise(function(e,t){o.oRequest.setPlayWndMode(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_CuttingPartWindow",value:function lt(n,i,r,o){var s=this;var e=new Promise(function(e,t){s.oRequest.cuttingPartWindow(n,i,r,o).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_RepairPartWindow",value:function ft(n,i,r,o){var s=this;var e=new Promise(function(e,t){s.oRequest.repairPartWindow(n,i,r,o).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_PlayWithImg",value:function ct(){return Promise.resolve()}},{key:"JS_SetPackageType",value:function ht(e){this.iPackageType=e;return Promise.resolve()}},{key:"JS_SetSnapDrawWndIndex",value:function dt(e){this.iDrawWondIndex=e;return Promise.resolve()}},{key:"JS_ExistGetSlfPointList",value:function pt(){return Promise.resolve(true)}},{key:"JS_GetSlfPointList",value:function vt(e,i){var r=this;var t=new Promise(function(t,n){r.oRequest.getSlfPointList(e,i).then(function(e){t(e.points)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetWindowSelected",value:function mt(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setWindowSelected(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_AudioPlay",value:function yt(n,i,r,o,s,a){var u=this;var e=new Promise(function(e,t){u.oRequest.audioPlay(n,i,r,o,s,a).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartSycAudioPlay",value:function gt(n,i,r,o){var s=this;var e=new Promise(function(e,t){s.oRequest.startSycAudioPlay(n,i,r,o).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetDownFilePath",value:function St(e){var i=this;var t=new Promise(function(t,n){i.oRequest.getDownFilePath(e).then(function(e){t({downloadFile:e.files[0].path,result:e.files})},function(e){n(e.errorCode)})});return t}},{key:"JS_DeleteDownloadFile",value:function wt(e){var i=this;var t=new Promise(function(t,n){i.oRequest.deleteDownloadFile(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_SycVideoAndAudio",value:function Pt(e,i,r){var o=this;var t=new Promise(function(t,n){o.oRequest.sycVideoAndAudio(e,i,r).then(function(e){t(e.files)},function(e){n(e.errorCode)})});return t}},{key:"JS_StopSycAudioPlay",value:function _t(n){var i=this;var e=new Promise(function(e,t){i.oRequest.stopSycAudioPlay(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetAudioPlayStatus",value:function bt(n){var i=this;var e=new Promise(function(e,t){i.oRequest.setAudioPlayStatus(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopAudioPlay",value:function Ct(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopAudioPlay().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartAudioSave",value:function kt(n){var i=this;var e=new Promise(function(e,t){i.oRequest.startAudioRecord(n).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StopAudioSave",value:function Tt(){var n=this;var e=new Promise(function(e,t){n.oRequest.stopAudioSave().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetAudioPlayedTime",value:function Rt(){var e=this;var t=new Promise(function(n,i){if(!e.bLocalServiceRunning){i();return}e.oRequest.getAudioPlayedTime().then(function(e){var t=e.time;if(t<0||!t){i()}else{n(t)}},function(e){i(e.errorCode)})});return t}},{key:"JS_AudioPause",value:function xt(){var n=this;var e=new Promise(function(e,t){if(!n.bLocalServiceRunning){t();return}n.oRequest.audioPlayPasue().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_AudioResume",value:function It(){var n=this;var e=new Promise(function(e,t){if(!n.bLocalServiceRunning){t();return}n.oRequest.audioPlayResume().then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_SetAudioVolume",value:function Dt(n,i){var r=this;var e=new Promise(function(e,t){if(!r.bLocalServiceRunning){t();return}r.oRequest.setAudioVolume(n,i).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_StartAlarmChan",value:function Et(e,t,n,i){var r=Array.prototype.slice.call(arguments,0);return this.commonReturn("startAlarmChan",r)}},{key:"JS_StopAlarmChan",value:function qt(e){var t=Array.prototype.slice.call(arguments,0);return this.commonReturn("stopAlarmChan",t)}},{key:"JS_StartFormAsynUpload",value:function Ot(e,t){var n=Array.prototype.slice.call(arguments,0);return this.commonReturn("startFormAsynUpload",n)}},{key:"JS_StopFormAsynUpload",value:function At(e){var t=Array.prototype.slice.call(arguments,0);return this.commonReturn("stopFormAsynUpload",t)}},{key:"JS_IsPluginExist",value:function Lt(){var e=false;if(this.oRequest&&this.oRequest.oRequest&&this.oRequest.oRequest.szUUID){e=true}return e}},{key:"JS_OpenFileBrowser2",value:function Mt(){var e=Array.prototype.slice.call(arguments,0);return this.commonReturn("openFileBrowser2",e)}},{key:"commonReturn",value:function Ft(r){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var s=this;var e=new Promise(function(t,n){try{var e;(e=s.oRequest)[r].apply(e,nn(o)).then(function(e){t(e)},function(e){n(e)})}catch(i){n(i)}});return e}},{key:"freshDocumentTitle",value:function Wt(){var e=document.createElement("iframe");e.src="data:text/html;base64,bm90aGluZw==";e.style.display="none";var t=function t(){setTimeout(function(){e.removeEventListener("load",t);e.parentNode.removeChild(e)},0)};e.addEventListener("load",t);document.body.appendChild(e)}},{key:"JS_SetPicInfoToPlayer",value:function Bt(n,i,r,o){var s=this;var e=new Promise(function(e,t){if(!s.bLocalServiceRunning){t();return}s.oRequest.setPicInfoToPlayer(n,i,r,o).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetEnumUSBDevices",value:function Nt(e){var i=this;var t=new Promise(function(t,n){if(!i.bLocalServiceRunning){n();return}i.oRequest.getEnumUSBDevices(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_LoginUSBDeicve",value:function zt(e,i){var r=this;var t=new Promise(function(t,n){if(!r.bLocalServiceRunning){n();return}r.oRequest.loginUSBDeicve(e,i).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetUSBDeviceConfig",value:function Jt(e,i,r){var o=this;var t=new Promise(function(t,n){if(!o.bLocalServiceRunning){n();return}o.oRequest.getUSBDeviceConfig(e,i,r).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_SetUSBDeviceConfig",value:function Ut(n,i,r){var o=this;var e=new Promise(function(e,t){if(!o.bLocalServiceRunning){t();return}o.oRequest.setUSBDeviceConfig(n,i,r).then(function(){e()},function(e){t(e.errorCode)})});return e}},{key:"JS_GetUSBCardSerial",value:function Ht(e,i){var r=this;var t=new Promise(function(t,n){if(!r.bLocalServiceRunning){n();return}r.oRequest.getUSBCardSerial(e,i).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_StartEnrollFingerprint",value:function jt(e,i,r){var o=this;var t=new Promise(function(t,n){if(!o.bLocalServiceRunning){n();return}o.oRequest.startEnrollFingerprint(e,i,r).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_StopEnrollFingerprint",value:function Gt(){var e=this;var t=new Promise(function(t,n){if(!e.bLocalServiceRunning){n();return}e.oRequest.stopEnrollFingerprint().then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_LogoutUSBDevice",value:function Vt(e){var i=this;var t=new Promise(function(t,n){if(!i.bLocalServiceRunning){n();return}i.oRequest.logoutUSBDevice(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetM1AuthKey",value:function Yt(e,i){var r=this;var t=new Promise(function(t,n){if(!r.bLocalServiceRunning){n();return}r.oRequest.getM1AuthKey(e,i).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_CheckUpdateNew",value:function Xt(e){var i=this;var t=new Promise(function(t,n){if(!i.bLocalServiceRunning){n();return}i.oRequest.checkUpdate(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_StartSyncHttpTransmission",value:function Zt(e){var i=this;var t=new Promise(function(t,n){if(!i.bLocalServiceRunning){n();return}i.oRequest.syncHttpTransmission(e).then(function(e){t(e)},function(e){n(e.errorCode)})});return t}},{key:"JS_GetCaptureData",value:function Kt(e){var i=this;var t=new Promise(function(t,n){if(!i.bLocalServiceRunning){n();return}i.oRequest.getCaptureData(e).then(function(e){t(e.fileContent)},function(e){n(e.errorCode)})});return t}}]);return r}();return e}();r.LocalServiceControl=i}).call(this,o(1))},function(e,i,r){"use strict";(function(Vt){Object.defineProperty(i,"__esModule",{value:true});i.Request=undefined;var Yt=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Xt=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var Zt=r(77);var Kt=r(78);var $t=r(88);var Qt=r(10);var e=r(18);var en=t(e);function t(e){return e&&e.__esModule?e:{"default":e}}function tn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function nn(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=function(){var e=function(){function n(e){nn(this,n);var t={szPluginContainer:"",cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null,iServicePortStart:33686,iServicePortEnd:33689};this.oOptions=Vt.extend(t,e);this.iPort=-1;this.oRequest=null;this.isInit=false;this.oCallbacks={};this.oRequestPromise=this.init(this.oOptions.oSessionInfo)||Promise.resolve(false)}Xt(n,[{key:"destroy",value:function t(){var e=this;this.disconnect().then(function(){e.oOptions=null;e.oRequest=null;e.oCallbacks={}})}},{key:"init",value:function s(e){var i=this;var r=Vt.Deferred();if(i.oOptions.bNoDetectPort){i.oRequest=new Zt.WebSocketRequest({iPort:i.oOptions.iServicePortStart,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose});r.resolve(true)}else{if(i.oOptions.bUseInQT){i.oRequest=new $t.WebChannelRequest({iPort:i.iPort,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose});r.resolve(true)}else{Qt.oUtils.detectPort(i.oOptions.iServicePortStart,i.oOptions.iServicePortEnd,{oSessionInfo:e,success:function o(e){i.iPort=e;if(Qt.oUtils.browser().msie){r.resolve(false)}else{if("https:"===window.location.protocol){if(Qt.oUtils.browser().chrome){try{i.oRequest=new Zt.WebSocketRequest({iPort:i.iPort,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose})}catch(n){i.oRequest=new Kt.ImageHttpRequest({iPort:i.iPort,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose})}}else{i.oRequest=new Kt.ImageHttpRequest({iPort:i.iPort,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose})}r.resolve(true)}else{if("WebSocket"in window){i.oRequest=new Zt.WebSocketRequest({iPort:i.iPort,cbConnectSuccess:i.oOptions.cbConnectSuccess,cbConnectError:i.oOptions.cbConnectError,cbConnectClose:i.oOptions.cbConnectClose});r.resolve(true)}else{r.resolve(false)}}}i.isInit=true;for(var t in i.oCallbacks){i.oRequest[t](i.oCallbacks[t])}},error:function t(){if(i.oOptions.cbConnectError){i.oOptions.cbConnectError()}r.resolve(false)}})}}return r.promise()}},{key:"setWindowControlCallback",value:function e(r){var o=this;return this.oRequest?this.oRequest.setWindowControlCallback(r):new Promise(function(n,i){o.oRequestPromise.then(function(e){if(e){try{o.oRequest.setWindowControlCallback(r);n()}catch(t){i(t)}}else{i("request init fail")}},function(e){i(e)})})}},{key:"getServiceVersion",value:function i(){return this.oRequest?this.oRequest.getServiceVersion():""}},{key:"getRequestUUID",value:function r(){var i=this;return this.oRequest?Promise.resolve(this.oRequest.getRequestUUID()):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){t(i.oRequest.getRequestUUID())}else{n("oRequest init fail")}},function(e){n(e)})})}},{key:"disconnect",value:function o(){var r=this;return this.oRequest?this.oRequest.disconnect():new Promise(function(n,i){r.oRequestPromise.then(function(e){if(e){try{r.oRequest.disconnect();n()}catch(t){i(t)}}else{i("request init fail")}},function(e){i(e)})})}},{key:"createWnd",value:function c(i,r,o,s,a,u,l){var f=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.createWnd",rect:{left:i,top:r,width:o,height:s},className:a,embed:u,pluginColor:l}):new Promise(function(t,n){f.oRequestPromise.then(function(e){if(e){f.oRequest.sendRequest({cmd:"window.createWnd",rect:{left:i,top:r,width:o,height:s},className:a,embed:u,pluginColor:l}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"showWnd",value:function a(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.showWnd"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"window.showWnd"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"hideWnd",value:function u(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.hideWnd"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"window.hideWnd"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"destroyWnd",value:function l(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.destroyWnd"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"window.destroyWnd"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setWndGeometry",value:function f(i,r,o,s){var a=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.setWndGeometry",rect:{left:i,top:r,width:o,height:s}}):new Promise(function(t,n){a.oRequestPromise.then(function(e){if(e){a.oRequest.sendRequest({cmd:"window.setWndGeometry",rect:{left:i,top:r,width:o,height:s}}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setWndCover",value:function h(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.setWndCover",position:i,size:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"window.setWndCover",position:i,size:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setWndZOrder",value:function d(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.setWndZOrder",flag:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"window.setWndZOrder",flag:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"updateParentWnd",value:function p(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.updateParentWnd"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"window.updateParentWnd"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getLocalServiceVersion",value:function v(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.getLocalServiceVersion"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"window.getLocalServiceVersion"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startPlay",value:function m(e,t,n,i,r){var o=this;if(t===null||typeof t==="undefined"){t={}}var s={cmd:"video.startPlay",url:e,token:t.token||"",auth:t.auth||"",wndIndex:n,startTime:i||"",stopTime:r||""};return this.oRequest?this.oRequest.sendRequest(s):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest(s).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startPlayV2",value:function y(e,t){var i=this;if(e===null||typeof e==="undefined"){e={}}var r={cmd:"video.startPlayV2",oParams:e,wndIndex:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stop",value:function g(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.stop",wndIndex:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.stop",wndIndex:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopAll",value:function S(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.stopAll"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.stopAll"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"reversePlay",value:function w(e,t,n,i,r){var o=this;if(t===null||typeof t==="undefined"){t={}}var s={cmd:"video.reversePlay",url:e,token:t.token||"",auth:t.auth||"",wndIndex:n,startTime:i||"",stopTime:r||""};return this.oRequest?this.oRequest.sendRequest(s):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest(s).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startSave",value:function P(e,t,n){var i=this;var r={cmd:"video.startSave",wndIndex:e,fileName:t||"",packageType:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopSave",value:function _(e){var i=this;var r={cmd:"video.stopSave",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getLastError",value:function b(){var i=this;var r={cmd:"video.getLastError"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"openSound",value:function C(e){var i=this;var r={cmd:"video.openSound",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"closeSound",value:function k(){var i=this;var r={cmd:"video.closeSound"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getVolume",value:function T(){var i=this;var r={cmd:"video.getVolume"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setVolume",value:function R(e,t){var i=this;var r={cmd:"video.setVolume",wndIndex:e,volume:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"pause",value:function x(e){var i=this;var r={cmd:"video.pause",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setAudioVolume",value:function I(e,t){var n={cmd:"video.setAudioVolume",wndIndex:e,volume:t};return this.oRequest.sendRequest(n)}},{key:"getAudioPlayedTime",value:function D(e){var t={cmd:"video.getAudioPlayedTime",wndIndex:e};return this.oRequest.sendRequest(t)}},{key:"audioPlayPasue",value:function E(e){var t={cmd:"video.audioPlayPasue",wndIndex:e};return this.oRequest.sendRequest(t)}},{key:"audioPlayResume",value:function q(e){var t={cmd:"video.audioPlayResume",wndIndex:e};return this.oRequest.sendRequest(t)}},{key:"resume",value:function O(e){var i=this;var r={cmd:"video.resume",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"slow",value:function M(e){var i=this;var r={cmd:"video.slow",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"fast",value:function F(e){var i=this;var r={cmd:"video.fast",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"frame",value:function W(e){var i=this;var r={cmd:"video.frame",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getOSDTime",value:function B(e){var i=this;var r={cmd:"video.getOSDTime",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getPlayInfo",value:function A(e){var i=this;var r={cmd:"video.getPlayInfo",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"capture",value:function N(e,t){var i=this;var r={cmd:"video.capture",wndIndex:e,fileName:t||""};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"arrangeWindow",value:function z(e,t){var i=this;var r={cmd:"video.arrangeWindow",type:e,custom:t||[]};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"enableIVS",value:function J(e,t,n){var i=this;var r={cmd:"video.enableIVS",wndIndex:e,type:t,enable:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPlaybackDrawType",value:function U(e,t){var i=this;var r={cmd:"video.setPlaybackDrawType",wndIndex:e,type:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPlayBackType",value:function H(e){var i=this;var r={cmd:"video.setPlayBackType",type:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setTrsPlayBackParam",value:function j(e,t){var i=this;var r={cmd:"video.setTrsPlayBackParam",wndIndex:e,params:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startTalk",value:function G(e,t,n,i,r,o,s,a,u,l){var f=this;var c={cmd:"video.startTalk",openUrl:e,closeUrl:t,dataUrl:n,auth:i,audioType:r,bitRate:o,sampleRate:s,soundChannel:a,deviceCastChannelNum:u,talkMode:l};return this.oRequest?this.oRequest.sendRequest(c):new Promise(function(t,n){f.oRequestPromise.then(function(e){if(e){f.oRequest.sendRequest(c).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopTalk",value:function V(){var i=this;var r={cmd:"video.stopTalk"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"enableZoom",value:function Y(e,t){var i=this;var r={cmd:"video.enableZoom",wndIndex:e,type:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"disableZoom",value:function X(e){var i=this;var r={cmd:"video.disableZoom",wndIndex:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setFullScreenCapability",value:function Z(e){var i=this;var r={cmd:"video.setFullScreenCapability",mode:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"fullScreen",value:function K(e){var i=this;var r={cmd:"video.fullScreen",full:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setSecretKey",value:function $(e,t){var i=this;var r={cmd:"video.setSecretKey",keyType:t,key:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getEncryptString",value:function Q(e,t,n){var i=this;var r={cmd:"video.getEncryptString",type:e,originalKey:t,encrypted:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setOriginalString",value:function ee(e,t){var i=this;var r={cmd:"video.setOriginalString",key:e,encrypted:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getDecryptString",value:function te(e,t,n){var i=this;var r={cmd:"video.getDecryptString",type:e,encrypted:t,key:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getLocalConfig",value:function ne(){var i=this;var r={cmd:"video.getLocalConfig"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getEngineSupport",value:function ie(){var i=this;var r={cmd:"video.getEngineSupport"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setLocalConfig",value:function re(e){var i=this;var r={cmd:"video.setLocalConfig",localConfig:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPlayMode",value:function oe(e){var i=this;var r={cmd:"video.setPlayMode",mode:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"browseFilePath",value:function se(e,t){var i=this;var r={cmd:"video.browseFilePath",mode:e,fileType:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"openDirectory",value:function ae(e){var i=this;var r={cmd:"video.openDirectory",dir:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startAsynUpload",value:function ue(e,t,n,i){var r=this;var o={cmd:"video.startAsynUpload",uploadUrl:e,statusUrl:t,auth:n,filepath:i};return this.oRequest?this.oRequest.sendRequest(o):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest(o).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopAsynUpload",value:function le(){var i=this;var r={cmd:"video.stopAsynUpload"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getUploadErrorInfo",value:function fe(){var i=this;var r={cmd:"video.getUploadErrorInfo"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"uploadFile",value:function ce(e,t,n,i){var r=this;var o={cmd:"video.uploadFile",uploadUrl:e,auth:t,filepath:n,contentType:i};return this.oRequest?this.oRequest.sendRequest(o):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest(o).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getIpcImportErrorInfo",value:function he(){var i=this;var r={cmd:"video.getIpcImportErrorInfo"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"downloadFile",value:function de(e,t,n,i,r,o){var s=this;var a={cmd:"video.downloadFile",downloadUrl:e,auth:t,xmlContent:n,method:i,fileType:r,decode:o};return this.oRequest?this.oRequest.sendRequest(a):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest(a).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startUpgrade",value:function pe(e,t,n,i,r){var o=this;var s={cmd:"video.startUpgrade",upgradeUrl:e,statusUrl:t,auth:n,filepath:i,upgradeFlag:r};return this.oRequest?this.oRequest.sendRequest(s):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest(s).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopUpgrade",value:function ve(){var i=this;var r={cmd:"video.stopUpgrade"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getUpgradeStatus",value:function me(){var i=this;var r={cmd:"video.getUpgradeStatus"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getUpgradeProgress",value:function ye(){var i=this;var r={cmd:"video.getUpgradeProgress"};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"exportDeviceLog",value:function ge(e,t,n){var i=this;var r={cmd:"video.exportDeviceLog",logXml:e,filename:t,fileType:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"enablePDC",value:function Se(e,t){var i=this;var r={cmd:"video.enablePDC",wndIndex:e,enable:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"exportReport",value:function we(e,t,n){var i=this;var r={cmd:"video.exportReport",reportXml:e,filename:t,fileType:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startAsyncDownload",value:function Pe(e,t,n,i,r){var o=this;var s={cmd:"video.startAsyncDownload",downloadUrl:e,auth:t,filename:n,downloadXml:i,packageType:r};return this.oRequest?this.oRequest.sendRequest(s):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest(s).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopAsyncDownload",value:function _e(e){var i=this;var r={cmd:"video.stopAsyncDownload",downloadId:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getDownloadStatus",value:function be(e){var i=this;var r={cmd:"video.getDownloadStatus",downloadId:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getDownloadProgress",value:function Ce(e){var i=this;var r={cmd:"video.getDownloadProgress",downloadId:e};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"SRInit",value:function ke(e,t){var i=this;var r={cmd:"video.SRInit",wndIndex:e,type:t};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"SRPTZ",value:function Te(e,t,n){var i=this;var r={cmd:"video.SRPTZ",wndIndex:e,direction:t,step:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"SRZoom",value:function Re(e,t,n){var i=this;var r={cmd:"video.SRZoom",wndIndex:e,type:t,step:n};return this.oRequest?this.oRequest.sendRequest(r):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest(r).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setDrawCallback",value:function xe(e,t,n,i,r){var o=this;var s={cmd:"video.setDrawCallback",wndIndex:e,enable:t,type:n,display:i};Vt.extend(s,r);return this.oRequest?this.oRequest.sendRequest(s):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest(s).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setDrawStatus",value:function Ie(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setDrawStatus",enable:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setDrawStatus",enable:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"clearRegion",value:function De(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.clearRegion"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.clearRegion"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setDrawShapeInfo",value:function Ee(i,r,o){var s=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setDrawShapeInfo",drawType:i,drawInfo:r,wndIndex:o}):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest({cmd:"video.setDrawShapeInfo",drawType:i,drawInfo:r,wndIndex:o}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setGridInfo",value:function qe(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setGridInfo",gridInfo:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setGridInfo",gridInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getGridInfo",value:function Oe(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getGridInfo"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.getGridInfo"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPolygonInfo",value:function Ae(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({wndIndex:r,cmd:"video.setPolygonInfo",polygonInfo:i}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.setPolygonInfo",wndIndex:r,polygonInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getPolygonInfo",value:function Le(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getPolygonInfo",wndIndex:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.getPolygonInfo",wndIndex:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setLineInfo",value:function Me(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setLineInfo",lineInfo:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setLineInfo",lineInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getLineInfo",value:function Fe(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getLineInfo"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.getLineInfo"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPointInfo",value:function We(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setPointInfo",pointInfo:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setPointInfo",pointInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getPointInfo",value:function Be(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getPointInfo"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.getPointInfo"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setTextOverlay",value:function Ne(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setTextOverlay",overlayInfo:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setTextOverlay",overlayInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getTextOverlay",value:function ze(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getTextOverlay"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.getTextOverlay"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setRectInfo",value:function Je(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setRectInfo",wndIndex:r,rectInfo:i}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.setRectInfo",wndIndex:r,rectInfo:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getRectInfo",value:function Ue(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getRectInfo",wndIndex:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.getRectInfo",wndIndex:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"clearShapeByType",value:function He(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.clearShapeByType",type:i,id:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.clearShapeByType",type:i,id:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"chooseShape",value:function je(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.chooseShape",type:i,id:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.chooseShape",type:i,id:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setCorrectionType",value:function Ge(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setCorrectionType",type:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setCorrectionType",type:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPlaceType",value:function Ve(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setPlaceType",type:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setPlaceType",type:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startFishListener",value:function Ye(i,r,o){var s=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.startFishListener",url:i,auth:r,extData:o}):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest({cmd:"video.startFishListener",url:i,auth:r,extData:o}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopFishListener",value:function Xe(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.stopFishListener"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.stopFishListener"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setFishBoxListInfo",value:function Ze(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setFishBoxListInfo",fishBoxList:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setFishBoxListInfo",fishBoxList:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getFishBoxListInfo",value:function Ke(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getFishBoxListInfo"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.getFishBoxListInfo"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"clearAllWndFishBoxInfo",value:function $e(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.clearAllWndFishBoxInfo"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.clearAllWndFishBoxInfo"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setFishWndProperty",value:function Qe(i,r,o){var s=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setFishWndProperty",wndIndex:i,type:r,id:o}):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest({cmd:"video.setFishWndProperty",wndIndex:i,type:r,id:o}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setFishParams",value:function et(i,r,o,s){var a=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setFishParams",top:i,right:r,bottom:o,left:s}):new Promise(function(t,n){a.oRequestPromise.then(function(e){if(e){a.oRequest.sendRequest({cmd:"video.setFishParams",top:i,right:r,bottom:o,left:s}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"arrangeFECWindow",value:function tt(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.arrangeFECWindow",type:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.arrangeFECWindow",type:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startFECScan",value:function nt(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.startFECScan",speed:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.startFECScan",speed:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopFECScan",value:function it(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.stopFECScan"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.stopFECScan"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"fishEyePTZ",value:function rt(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.fishEyePTZ",direction:i,speed:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.fishEyePTZ",direction:i,speed:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"fishEyeGetPreset",value:function ot(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.fishEyeGetPreset"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.fishEyeGetPreset"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"fishEyeSetPreset",value:function st(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.fishEyeSetPreset",fishEyePreset:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.fishEyeSetPreset",fishEyePreset:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startFECCruise",value:function at(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.startFECCruise",fishEyePresetList:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.startFECCruise",fishEyePresetList:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"stopFECCruise",value:function ut(){var i=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.stopFECCruise"}):new Promise(function(t,n){i.oRequestPromise.then(function(e){if(e){i.oRequest.sendRequest({cmd:"video.stopFECCruise"}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setIsHttps",value:function lt(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setIsHttps",https:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.setIsHttps",https:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setReconnectInfo",value:function ft(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setReconnectInfo",wndIndex:i,auth:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.setReconnectInfo",wndIndex:i,auth:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"selectShape",value:function ct(i,r){var o=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.chooseShape",type:i,id:r}):new Promise(function(t,n){o.oRequestPromise.then(function(e){if(e){o.oRequest.sendRequest({cmd:"video.chooseShape",type:i,id:r}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getPlayInfo",value:function A(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.getPlayInfo",wndIndex:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"video.getPlayInfo",wndIndex:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setOriginResolution",value:function ht(i,r,o){var s=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setWndResolution",wndIndex:i,width:r,height:o}):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest({cmd:"video.setWndResolution",wndIndex:i,width:r,height:o}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setPlayWndMode",value:function dt(i,r,o){var s=this;return this.oRequest?this.oRequest.sendRequest({cmd:"video.setWndRatioMode",wndIndex:i,mode:r,allWnd:o}):new Promise(function(t,n){s.oRequestPromise.then(function(e){if(e){s.oRequest.sendRequest({cmd:"video.setWndRatioMode",wndIndex:i,mode:r,allWnd:o}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"cuttingPartWindow",value:function pt(i,r,o,s){var a=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.cuttingPartWindow",rect:{left:i,top:r,width:o,height:s},round:0}):new Promise(function(t,n){a.oRequestPromise.then(function(e){if(e){a.oRequest.sendRequest({cmd:"window.cuttingPartWindow",rect:{left:i,top:r,width:o,height:s},round:0}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"setWindowSelected",value:function vt(i){var r=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.setWindowSelected",wndIndex:i}):new Promise(function(t,n){r.oRequestPromise.then(function(e){if(e){r.oRequest.sendRequest({cmd:"window.setWindowSelected",wndIndex:i}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"getSlfPointList",value:function mt(e,t){return this.oRequest.sendRequest({cmd:"video.getSlfPointList",filePath:e,key:t})}},{key:"audioPlay",value:function yt(e,t,n,i,r,o){return this.oRequest.sendRequest({cmd:"video.audioPlay",url:e,auth:t,soundChannel:n,mode:i,playSound:r,audioType:o})}},{key:"startSycAudioPlay",value:function gt(e,t,n,i){return this.oRequest.sendRequest({cmd:"video.startSycAudioPlay",url:e,auth:t,wndIndex:n,mode:i})}},{key:"getDownFilePath",value:function St(e){return this.oRequest.sendRequest({cmd:"video.getDownFilePath",downloadId:e})}},{key:"deleteDownloadFile",value:function wt(e){return this.oRequest.sendRequest({cmd:"video.deleteDownloadFile",filePath:e})}},{key:"sycVideoAndAudio",value:function Pt(e,t,n){return this.oRequest.sendRequest({cmd:"video.sycVideoAndAudio",outfilePath:e,videoPath:t,audioPath:n})}},{key:"stopSycAudioPlay",value:function _t(e){return this.oRequest.sendRequest({cmd:"video.stopSycAudioPlay",wndIndex:e})}},{key:"setAudioPlayStatus",value:function bt(e){return this.oRequest.sendRequest({cmd:"video.setAudioPlayStatus",playSound:e})}},{key:"stopAudioPlay",value:function Ct(){return this.oRequest.sendRequest({cmd:"video.stopAudioPlay"})}},{key:"startAudioRecord",value:function kt(e){return this.oRequest.sendRequest({cmd:"video.startAudioRecord",fileName:e})}},{key:"stopAudioSave",value:function Tt(){return this.oRequest.sendRequest({cmd:"video.stopAudioSave"})}},{key:"repairPartWindow",value:function L(e,t,n,i){return this.oRequest.sendRequest({cmd:"window.repairPartWindow",rect:{left:e,top:t,width:n,height:i},round:0})}},{key:"repairPartWindow",value:function L(i,r,o,s){var a=this;return this.oRequest?this.oRequest.sendRequest({cmd:"window.repairPartWindow",rect:{left:i,top:r,width:o,height:s},round:0}):new Promise(function(t,n){a.oRequestPromise.then(function(e){if(e){a.oRequest.sendRequest({cmd:"window.repairPartWindow",rect:{left:i,top:r,width:o,height:s},round:0}).then(function(e){t(e)},function(e){n(e)})}else{n("request init fail")}},function(e){n(e)})})}},{key:"startAlarmChan",value:function Rt(e,t,n){var i={cmd:"video.startAlarmChan",URL:e,auth:t,extData:n};return this.judgeRequestHandle("sendRequest",[i])}},{key:"stopAlarmChan",value:function xt(){var e={cmd:"video.stopAlarmChan"};return this.judgeRequestHandle("sendRequest",[e])}},{key:"getPictureSize",value:function It(e){var t={cmd:"video.getPictureSize",wndIndex:e};return this.judgeRequestHandle("sendRequest",[t])}},{key:"startFormAsynUpload",value:function Dt(e){var i=this;if((typeof e==="undefined"?"undefined":Yt(e))==="object"){e.cmd="video.startFormAsynUpload";return i.judgeRequestHandle("sendRequest",[e])}en["default"].parseString(e,function(e,t){if(e){return Promise.reject(e)}if(t&&t.UploadInfo){var n={cmd:"video.startFormAsynUpload",uploadUrl:t.UploadInfo.url&&t.UploadInfo.url[0],formName:t.UploadInfo.formName&&t.UploadInfo.formName[0],param:t.UploadInfo.param&&t.UploadInfo.param[0],auth:t.UploadInfo.auth&&t.UploadInfo.auth[0],filepath:t.UploadInfo.filePath&&t.UploadInfo.filePath[0]};return i.judgeRequestHandle("sendRequest",[n])}});return Promise.reject("params error")}},{key:"stopFormAsynUpload",value:function Et(){var e={cmd:"video.stopFormAsynUpload"};return this.judgeRequestHandle("sendRequest",[e])}},{key:"openFileBrowser2",value:function qt(e,t){var n={cmd:"video.browseFilePathV2",lSelectMode:e,iListMax:t};return this.judgeRequestHandle("sendRequest",[n])}},{key:"judgeRequestHandle",value:function Ot(r,o){var s=this;if(this.oRequest){var e;return(e=this.oRequest)[r].apply(e,tn(o))}return new Promise(function(n,i){s.oRequestPromise.then(function(e){if(e){var t;(t=s.oRequest)[r].apply(t,tn(o)).then(function(e){n(e)},function(e){i(e)})}else{i("oRequest init fail")}},function(e){i(e)})})}},{key:"setPicInfoToPlayer",value:function At(e,t,n,i){var r={cmd:"video.setPicInfoToPlayer",wndIndex:e,path:t,picType:n,open:i};return this.judgeRequestHandle("sendRequest",[r])}},{key:"getEnumUSBDevices",value:function Lt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3e4;var t={cmd:"other.enumUSBDevices",timeout:e};return this.judgeRequestHandle("sendRequest",[t])}},{key:"loginUSBDeicve",value:function Mt(e,t){var n={cmd:"other.loginUSBDeicve",deviceType:e};if(e===0){n.deviceLoginInfo=t}return this.judgeRequestHandle("sendRequest",[n])}},{key:"getUSBDeviceConfig",value:function Ft(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1004;if(typeof t.timeOut==="undefined"){t.timeOut=3}var i={cmd:"other.getUSBDeviceConfig",userID:e,usbCommand:n,inputInfo:t};return this.judgeRequestHandle("sendRequest",[i])}},{key:"setUSBDeviceConfig",value:function Wt(e,t,n){var i={cmd:"other.setUSBDeviceConfig",userID:e,usbCommand:t,inputInfo:n};return this.judgeRequestHandle("sendRequest",[i])}},{key:"getUSBCardSerial",value:function Bt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e4;var n={cmd:"other.getUSBCardSerial",userID:e,timeout:t};return this.judgeRequestHandle("sendRequest",[n])}},{key:"startEnrollFingerprint",value:function Nt(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var i={cmd:"other.startEnrollFingerprint",userID:e,collectTimes:t,timeout:n};return this.judgeRequestHandle("sendRequest",[i])}},{key:"stopEnrollFingerprint",value:function zt(){var e={cmd:"other.stopEnrollFingerprint"};return this.judgeRequestHandle("sendRequest",[e])}},{key:"logoutUSBDevice",value:function Jt(e){var t={cmd:"other.logoutUSBDevice",userID:e};return this.judgeRequestHandle("sendRequest",[t])}},{key:"getM1AuthKey",value:function Ut(e,t){var n={cmd:"other.getM1AuthKey",uid:e,sectorID:t};return this.judgeRequestHandle("sendRequest",[n])}},{key:"checkUpdate",value:function Ht(e){var t={cmd:"video.checkUpdate",version:e};return this.judgeRequestHandle("sendRequest",[t])}},{key:"syncHttpTransmission",value:function jt(e){var t={cmd:"video.syncHttpTransmission",url:e.url,auth:e.auth,method:e.method,content:e.content?e.content:"",timeout:e.timeout?e.timeout:3e4};return this.judgeRequestHandle("sendRequest",[t])}},{key:"getCaptureData",value:function Gt(e){var t={cmd:"video.captureUpload",wndIndex:e};return this.judgeRequestHandle("sendRequest",[t])}}]);return n}();e.checkLocalServiceConnected=function(r,o,s){if(o===null||typeof o==="undefined"){o=33686;s=33695}var e=new Promise(function(e,t){Qt.oUtils.detectPort(o,s,{oSessionInfo:r,success:function n(){e()},error:function i(){t()}})});return e};return e}();i.Request=n}).call(this,r(1))},function(e,i,r){"use strict";(function(u){Object.defineProperty(i,"__esModule",{value:true});i.WebSocketRequest=undefined;var l=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var e=r(8);var f=t(e);var c=r(10);function t(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=function(){var e=function(){function n(e){h(this,n);var t={iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null};this.oOptions=u.extend(t,e);this.oWebSocket=null;this.szUUID="";this.szVersion="";this.oRequestList={};this.bNormalClose=false;this.oWindowControlCallback={};this.init()}l(n,[{key:"init",value:function t(){var r=this;var e=function e(){if(r.oOptions.cbConnectClose){r.oOptions.cbConnectClose(r.bNormalClose)}r.bNormalClose=false};r.oWebSocket=new WebSocket("ws://127.0.0.1:"+r.oOptions.iPort);r.oWebSocket.onerror=function(){};r.oWebSocket.onopen=function(){var e=f["default"].v4();var t={sequence:e,cmd:"system.webconnect"};var n=JSON.stringify(t);r.oWebSocket.send(n)};r.oWebSocket.onmessage=function(e){var t=e.data;if(!t){return}var n=JSON.parse(t);var i=n.sequence;if(typeof i==="undefined"&&typeof n.cmd==="undefined"){r.szUUID=n.uuid;r.szVersion=n.version;if(r.oOptions.cbConnectSuccess){r.oOptions.cbConnectSuccess(n.uuid)}}else{if(typeof n.cmd!=="undefined"){r.parseCmd(n)}else{if(typeof r.oRequestList[i]!=="undefined"){if(0===n.errorCode){r.oRequestList[i].resolve(n)}else{r.oRequestList[i].reject(n)}delete r.oRequestList[i]}}}};r.oWebSocket.onclose=function(){r.oWebSocket=null;if(c.oUtils.browser().mozilla){setTimeout(function(){e()},100)}else{e()}}}},{key:"setWindowControlCallback",value:function i(e){this.oWindowControlCallback=e}},{key:"getServiceVersion",value:function e(){return this.szVersion}},{key:"getRequestUUID",value:function r(){return this.szUUID}},{key:"disconnect",value:function o(){this.bNormalClose=true;if(this.oWebSocket&&WebSocket.OPEN===this.oWebSocket.readyState){this.oWebSocket.close()}}},{key:"sendRequest",value:function s(r){var o=this;var e=new Promise(function(e,t){var n=f["default"].v4();r.sequence=n;o.oRequestList[n]={resolve:e,reject:t};r.uuid=o.szUUID;r.timestamp=(new Date).getTime()+"";var i=JSON.stringify(r);if(o.oWebSocket&&WebSocket.OPEN===o.oWebSocket.readyState){o.oWebSocket.send(i)}else{t()}});return e}},{key:"parseCmd",value:function a(e){var t=e.cmd;var n=t.split(".");var i=n[1];if("window"===n[0]||"video"===n[0]){if(this.oWindowControlCallback[i]){this.oWindowControlCallback[i](e)}}}}]);return n}();return e}();i.WebSocketRequest=n}).call(this,r(1))},function(e,r,o){"use strict";(function(p){Object.defineProperty(r,"__esModule",{value:true});r.ImageHttpRequest=undefined;var h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var e=o(8);var v=n(e);var t=o(79);var m=n(t);var y=o(10);function n(e){return e&&e.__esModule?e:{"default":e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){var e=function(){function n(e){g(this,n);var t={iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null};this.oOptions=p.extend(t,e);this.szHost="http://127.0.0.1";this.szUUID="";this.szVersion="";this.bNormalClose=false;this.bConnected=false;this.bInitConnect=true;this.iGetErrorCount=0;this.oWindowControlCallback={};this.oUIControlCallback={};this.init()}h(n,[{key:"init",value:function s(){var n=this;var e=v["default"].v4();var t={sequence:e,cmd:"system.webconnect"};var i=JSON.stringify(t);n.sendImageHttp(n.szHost+":"+n.oOptions.iPort+"/imghttp/local",i,e,{success:function r(e){if(!e){return}var t=JSON.parse(e);n.szUUID=t.uuid;n.szVersion=t.version;n.bConnected=true;n.bInitConnect=false;setTimeout(function(){n.imageHttpPolling()},100);if(n.oOptions.cbConnectSuccess){n.oOptions.cbConnectSuccess()}},error:function o(){}})}},{key:"sendImageHttp",value:function d(i,e,t,r){var o=this;var n={success:null,error:null,abort:null};r=p.extend(n,r);var s=encodeURIComponent(btoa(m["default"].deflate(e)));var a=this.splitStr(s);var u=[];var l="";for(var f=0,c=a.length;f<c;f++){if(f===c-1){l="update="+(new Date).getTime()+"&isLast=true&data="+a[f]+"&sequence="+t}else{l="update="+(new Date).getTime()+"&isLast=false&data="+a[f]+"&sequence="+t}u.push(l)}if(u.length>0){var h=function h(){o.imageHttp(i+"?"+u[0],{success:function t(e){u.shift();if(u.length>0){if(o.bInitConnect||o.bConnected){h()}}else{if(r.success){r.success(e)}}},error:function e(){if(r.error){r.error()}},abort:function n(){if(r.abort){r.abort()}}})};h()}}},{key:"splitStr",value:function a(e){var t=this.getByteLen(e);var n=[];var i=1500;for(var r=0,o=Math.ceil(t/i);r<o;r++){n[r]=e.slice(i*r,i*(r+1))}return n}},{key:"getByteLen",value:function o(e){var t=0;var n="";for(var i=0,r=e.length;i<r;i++){n=e.charAt(i);if(/[^\x20-\xff]/.test(n)){t+=2}else{t+=1}}return t}},{key:"imageHttp",value:function i(e,f){var t={success:null,error:null,abort:null};f=p.extend(t,f);var c=new Image;c.onload=function(){if(f.success){var e=document.createElement("canvas");var t=e.getContext("2d");var n=c.width;var i=c.height;e.width=n;e.height=i;try{t.drawImage(c,0,0);var r=t.getImageData(0,0,n,i).data;var o="";var s=-1;for(var a=i-1;a>=0;a--){for(var u=0;u<n*4;u++){s=a*n*4+u;if(0===r[s]){break}else if(255===r[s]){continue}else{o+=String.fromCharCode(r[s])}}}f.success(y.oUtils.utf8to16(o))}catch(l){if(f.error){f.error()}}}};c.onerror=function(){if(f.error){f.error()}};c.onabort=function(){if(f.abort){f.abort()}};c.crossOrigin="anonymous";c.src=e}},{key:"setWindowControlCallback",value:function t(e){this.oWindowControlCallback=e}},{key:"getServiceVersion",value:function e(){return this.szVersion}},{key:"getRequestUUID",value:function r(){return this.szUUID}},{key:"disconnect",value:function u(){var e=this;var t=v["default"].v4();var n={sequence:t,uuid:e.szUUID,cmd:"system.disconnect"};var i=JSON.stringify(n);if(e.bConnected){e.sendImageHttp(e.szHost+":"+e.oOptions.iPort+"/imghttp/local",i,t,{success:function r(){e.bNormalClose=true;e.bConnected=false},error:function o(){e.bConnected=false}})}}},{key:"imageHttpPolling",value:function l(){var n=this;var e=v["default"].v4();var t={sequence:e,uuid:n.szUUID,cmd:"system.get"};var i=JSON.stringify(t);if(n.bConnected){n.sendImageHttp(n.szHost+":"+n.oOptions.iPort+"/imghttp/local",i,e,{success:function r(e){n.iGetErrorCount=0;if("timeout"===e){setTimeout(function(){n.imageHttpPolling()},100)}else if("invalid"===e){n.bConnected=false;if(n.oOptions.cbConnectError){n.oOptions.cbConnectError()}}else{var t=JSON.parse(e);if(typeof t.cmd!=="undefined"){n.parseCmd(t)}else{}setTimeout(function(){n.imageHttpPolling()},100)}},error:function o(){if(5===n.iGetErrorCount){n.bNormalClose=false;n.bConnected=false;if(n.oOptions.cbConnectClose){n.oOptions.cbConnectClose(n.bNormalClose)}}else{setTimeout(function(){n.iGetErrorCount++;n.imageHttpPolling()},100)}}})}}},{key:"sendRequest",value:function f(u){var l=this;var e=new Promise(function(n,i){var e=u.cmd.split(".");var t="";if(e.length>1){t="laputa"===e[0]?"laputa":"local"}else{i()}var r=v["default"].v4();u.sequence=r;u.uuid=l.szUUID;u.timestamp=(new Date).getTime()+"";var o=JSON.stringify(u);if(l.bConnected){l.sendImageHttp(l.szHost+":"+l.oOptions.iPort+"/imghttp/"+t,o,r,{success:function s(e){if(!e){i();return}var t=JSON.parse(e);if(0===t.errorCode){n(t)}else{i(t)}},error:function a(){i()}})}else{i()}});return e}},{key:"parseCmd",value:function c(e){var t=e.cmd;var n=t.split(".");var i=n[1];if("window"===n[0]||"video"===n[0]){if(this.oWindowControlCallback[i]){this.oWindowControlCallback[i](e)}}}}]);return n}();return e}();r.ImageHttpRequest=i}).call(this,o(1))},function(e,t,n){"use strict";var i=n(4).assign;var r=n(80);var o=n(83);var s=n(45);var a={};i(a,r,o,s);e.exports=a},function(e,t,n){"use strict";var s=n(81);var a=n(4);var u=n(43);var r=n(17);var o=n(44);var l=Object.prototype.toString;var f=0;var c=4;var h=0;var d=1;var p=2;var v=-1;var m=0;var y=8;function g(e){if(!(this instanceof g))return new g(e);this.options=a.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;if(t.raw&&t.windowBits>0){t.windowBits=-t.windowBits}else if(t.gzip&&t.windowBits>0&&t.windowBits<16){t.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new o;this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h){throw new Error(r[n])}if(t.header){s.deflateSetHeader(this.strm,t.header)}if(t.dictionary){var i;if(typeof t.dictionary==="string"){i=u.string2buf(t.dictionary)}else if(l.call(t.dictionary)==="[object ArrayBuffer]"){i=new Uint8Array(t.dictionary)}else{i=t.dictionary}n=s.deflateSetDictionary(this.strm,i);if(n!==h){throw new Error(r[n])}this._dict_set=true}}g.prototype.push=function(e,t){var n=this.strm;var i=this.options.chunkSize;var r,o;if(this.ended){return false}o=t===~~t?t:t===true?c:f;if(typeof e==="string"){n.input=u.string2buf(e)}else if(l.call(e)==="[object ArrayBuffer]"){n.input=new Uint8Array(e)}else{n.input=e}n.next_in=0;n.avail_in=n.input.length;do{if(n.avail_out===0){n.output=new a.Buf8(i);n.next_out=0;n.avail_out=i}r=s.deflate(n,o);if(r!==d&&r!==h){this.onEnd(r);this.ended=true;return false}if(n.avail_out===0||n.avail_in===0&&(o===c||o===p)){if(this.options.to==="string"){this.onData(u.buf2binstring(a.shrinkBuf(n.output,n.next_out)))}else{this.onData(a.shrinkBuf(n.output,n.next_out))}}}while((n.avail_in>0||n.avail_out===0)&&r!==d);if(o===c){r=s.deflateEnd(this.strm);this.onEnd(r);this.ended=true;return r===h}if(o===p){this.onEnd(h);n.avail_out=0;return true}return true};g.prototype.onData=function(e){this.chunks.push(e)};g.prototype.onEnd=function(e){if(e===h){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=a.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function i(e,t){var n=new g(t);n.push(e,true);if(n.err){throw n.msg||r[n.err]}return n.result}function S(e,t){t=t||{};t.raw=true;return i(e,t)}function w(e,t){t=t||{};t.gzip=true;return i(e,t)}t.Deflate=g;t.deflate=i;t.deflateRaw=S;t.gzip=w},function(o,e,t){"use strict";var c=t(4);var l=t(82);var B=t(41);var f=t(42);var s=t(17);var h=0;var N=1;var z=3;var d=4;var J=5;var p=0;var U=1;var v=-2;var u=-3;var m=-5;var H=-1;var j=1;var y=2;var G=3;var V=4;var Y=0;var X=2;var g=8;var Z=9;var K=15;var $=8;var Q=29;var ee=256;var n=ee+1+Q;var te=30;var ne=19;var ie=2*n+1;var re=15;var S=3;var w=258;var P=w+S+1;var oe=32;var _=42;var se=69;var b=73;var C=91;var k=103;var T=113;var R=666;var x=1;var I=2;var D=3;var E=4;var ae=3;function q(e,t){e.msg=s[t];return t}function ue(e){return(e<<1)-(e>4?9:0)}function O(e){var t=e.length;while(--t>=0){e[t]=0}}function A(e){var t=e.state;var n=t.pending;if(n>e.avail_out){n=e.avail_out}if(n===0){return}c.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out);e.next_out+=n;t.pending_out+=n;e.total_out+=n;e.avail_out-=n;t.pending-=n;if(t.pending===0){t.pending_out=0}}function a(e,t){l._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t);e.block_start=e.strstart;A(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function M(e,t){e.pending_buf[e.pending++]=t>>>8&255;e.pending_buf[e.pending++]=t&255}function le(e,t,n,i){var r=e.avail_in;if(r>i){r=i}if(r===0){return 0}e.avail_in-=r;c.arraySet(t,e.input,e.next_in,r,n);if(e.state.wrap===1){e.adler=B(e.adler,t,r,n)}else if(e.state.wrap===2){e.adler=f(e.adler,t,r,n)}e.next_in+=r;e.total_in+=r;return r}function fe(e,t){var n=e.max_chain_length;var i=e.strstart;var r;var o;var s=e.prev_length;var a=e.nice_match;var u=e.strstart>e.w_size-P?e.strstart-(e.w_size-P):0;var l=e.window;var f=e.w_mask;var c=e.prev;var h=e.strstart+w;var d=l[i+s-1];var p=l[i+s];if(e.prev_length>=e.good_match){n>>=2}if(a>e.lookahead){a=e.lookahead}do{r=t;if(l[r+s]!==p||l[r+s-1]!==d||l[r]!==l[i]||l[++r]!==l[i+1]){continue}i+=2;r++;do{}while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<h);o=w-(h-i);i=h-w;if(o>s){e.match_start=t;s=o;if(o>=a){break}d=l[i+s-1];p=l[i+s]}}while((t=c[t&f])>u&&--n!==0);if(s<=e.lookahead){return s}return e.lookahead}function F(e){var t=e.w_size;var n,i,r,o,s;do{o=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-P)){c.arraySet(e.window,e.window,t,t,0);e.match_start-=t;e.strstart-=t;e.block_start-=t;i=e.hash_size;n=i;do{r=e.head[--n];e.head[n]=r>=t?r-t:0}while(--i);i=t;n=i;do{r=e.prev[--n];e.prev[n]=r>=t?r-t:0}while(--i);o+=t}if(e.strm.avail_in===0){break}i=le(e.strm,e.window,e.strstart+e.lookahead,o);e.lookahead+=i;if(e.lookahead+e.insert>=S){s=e.strstart-e.insert;e.ins_h=e.window[s];e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;while(e.insert){e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+S-1])&e.hash_mask;e.prev[s&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=s;s++;e.insert--;if(e.lookahead+e.insert<S){break}}}}while(e.lookahead<P&&e.strm.avail_in!==0)}function ce(e,t){var n=65535;if(n>e.pending_buf_size-5){n=e.pending_buf_size-5}for(;;){if(e.lookahead<=1){F(e);if(e.lookahead===0&&t===h){return x}if(e.lookahead===0){break}}e.strstart+=e.lookahead;e.lookahead=0;var i=e.block_start+n;if(e.strstart===0||e.strstart>=i){e.lookahead=e.strstart-i;e.strstart=i;a(e,false);if(e.strm.avail_out===0){return x}}if(e.strstart-e.block_start>=e.w_size-P){a(e,false);if(e.strm.avail_out===0){return x}}}e.insert=0;if(t===d){a(e,true);if(e.strm.avail_out===0){return D}return E}if(e.strstart>e.block_start){a(e,false);if(e.strm.avail_out===0){return x}}return x}function he(e,t){var n;var i;for(;;){if(e.lookahead<P){F(e);if(e.lookahead<P&&t===h){return x}if(e.lookahead===0){break}}n=0;if(e.lookahead>=S){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}if(n!==0&&e.strstart-n<=e.w_size-P){e.match_length=fe(e,n)}if(e.match_length>=S){i=l._tr_tally(e,e.strstart-e.match_start,e.match_length-S);e.lookahead-=e.match_length;if(e.match_length<=e.max_lazy_match&&e.lookahead>=S){e.match_length--;do{e.strstart++;e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}while(--e.match_length!==0);e.strstart++}else{e.strstart+=e.match_length;e.match_length=0;e.ins_h=e.window[e.strstart];e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}}else{i=l._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(i){a(e,false);if(e.strm.avail_out===0){return x}}}e.insert=e.strstart<S-1?e.strstart:S-1;if(t===d){a(e,true);if(e.strm.avail_out===0){return D}return E}if(e.last_lit){a(e,false);if(e.strm.avail_out===0){return x}}return I}function i(e,t){var n;var i;var r;for(;;){if(e.lookahead<P){F(e);if(e.lookahead<P&&t===h){return x}if(e.lookahead===0){break}}n=0;if(e.lookahead>=S){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}e.prev_length=e.match_length;e.prev_match=e.match_start;e.match_length=S-1;if(n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-P){e.match_length=fe(e,n);if(e.match_length<=5&&(e.strategy===j||e.match_length===S&&e.strstart-e.match_start>4096)){e.match_length=S-1}}if(e.prev_length>=S&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-S;i=l._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S);e.lookahead-=e.prev_length-1;e.prev_length-=2;do{if(++e.strstart<=r){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask;n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}}while(--e.prev_length!==0);e.match_available=0;e.match_length=S-1;e.strstart++;if(i){a(e,false);if(e.strm.avail_out===0){return x}}}else if(e.match_available){i=l._tr_tally(e,0,e.window[e.strstart-1]);if(i){a(e,false)}e.strstart++;e.lookahead--;if(e.strm.avail_out===0){return x}}else{e.match_available=1;e.strstart++;e.lookahead--}}if(e.match_available){i=l._tr_tally(e,0,e.window[e.strstart-1]);e.match_available=0}e.insert=e.strstart<S-1?e.strstart:S-1;if(t===d){a(e,true);if(e.strm.avail_out===0){return D}return E}if(e.last_lit){a(e,false);if(e.strm.avail_out===0){return x}}return I}function de(e,t){var n;var i;var r,o;var s=e.window;for(;;){if(e.lookahead<=w){F(e);if(e.lookahead<=w&&t===h){return x}if(e.lookahead===0){break}}e.match_length=0;if(e.lookahead>=S&&e.strstart>0){r=e.strstart-1;i=s[r];if(i===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+w;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=w-(o-r);if(e.match_length>e.lookahead){e.match_length=e.lookahead}}}if(e.match_length>=S){n=l._tr_tally(e,1,e.match_length-S);e.lookahead-=e.match_length;e.strstart+=e.match_length;e.match_length=0}else{n=l._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(n){a(e,false);if(e.strm.avail_out===0){return x}}}e.insert=0;if(t===d){a(e,true);if(e.strm.avail_out===0){return D}return E}if(e.last_lit){a(e,false);if(e.strm.avail_out===0){return x}}return I}function pe(e,t){var n;for(;;){if(e.lookahead===0){F(e);if(e.lookahead===0){if(t===h){return x}break}}e.match_length=0;n=l._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++;if(n){a(e,false);if(e.strm.avail_out===0){return x}}}e.insert=0;if(t===d){a(e,true);if(e.strm.avail_out===0){return D}return E}if(e.last_lit){a(e,false);if(e.strm.avail_out===0){return x}}return I}function r(e,t,n,i,r){this.good_length=e;this.max_lazy=t;this.nice_length=n;this.max_chain=i;this.func=r}var W;W=[new r(0,0,0,0,ce),new r(4,4,8,4,he),new r(4,5,16,8,he),new r(4,6,32,32,he),new r(4,4,16,16,i),new r(8,16,32,32,i),new r(8,16,128,128,i),new r(8,32,128,256,i),new r(32,128,258,1024,i),new r(32,258,258,4096,i)];function ve(e){e.window_size=2*e.w_size;O(e.head);e.max_lazy_match=W[e.level].max_lazy;e.good_match=W[e.level].good_length;e.nice_match=W[e.level].nice_length;e.max_chain_length=W[e.level].max_chain;e.strstart=0;e.block_start=0;e.lookahead=0;e.insert=0;e.match_length=e.prev_length=S-1;e.match_available=0;e.ins_h=0}function me(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=g;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new c.Buf16(ie*2);this.dyn_dtree=new c.Buf16((2*te+1)*2);this.bl_tree=new c.Buf16((2*ne+1)*2);O(this.dyn_ltree);O(this.dyn_dtree);O(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new c.Buf16(re+1);this.heap=new c.Buf16(2*n+1);O(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new c.Buf16(2*n+1);O(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function ye(e){var t;if(!e||!e.state){return q(e,v)}e.total_in=e.total_out=0;e.data_type=X;t=e.state;t.pending=0;t.pending_out=0;if(t.wrap<0){t.wrap=-t.wrap}t.status=t.wrap?_:T;e.adler=t.wrap===2?0:1;t.last_flush=h;l._tr_init(t);return p}function ge(e){var t=ye(e);if(t===p){ve(e.state)}return t}function Se(e,t){if(!e||!e.state){return v}if(e.state.wrap!==2){return v}e.state.gzhead=t;return p}function we(e,t,n,i,r,o){if(!e){return v}var s=1;if(t===H){t=6}if(i<0){s=0;i=-i}else if(i>15){s=2;i-=16}if(r<1||r>Z||n!==g||i<8||i>15||t<0||t>9||o<0||o>V){return q(e,v)}if(i===8){i=9}var a=new me;e.state=a;a.strm=e;a.wrap=s;a.gzhead=null;a.w_bits=i;a.w_size=1<<a.w_bits;a.w_mask=a.w_size-1;a.hash_bits=r+7;a.hash_size=1<<a.hash_bits;a.hash_mask=a.hash_size-1;a.hash_shift=~~((a.hash_bits+S-1)/S);a.window=new c.Buf8(a.w_size*2);a.head=new c.Buf16(a.hash_size);a.prev=new c.Buf16(a.w_size);a.lit_bufsize=1<<r+6;a.pending_buf_size=a.lit_bufsize*4;a.pending_buf=new c.Buf8(a.pending_buf_size);a.d_buf=1*a.lit_bufsize;a.l_buf=(1+2)*a.lit_bufsize;a.level=t;a.strategy=o;a.method=n;return ge(e)}function Pe(e,t){return we(e,t,g,K,$,Y)}function _e(e,t){var n,i;var r,o;if(!e||!e.state||t>J||t<0){return e?q(e,v):v}i=e.state;if(!e.output||!e.input&&e.avail_in!==0||i.status===R&&t!==d){return q(e,e.avail_out===0?m:v)}i.strm=e;n=i.last_flush;i.last_flush=t;if(i.status===_){if(i.wrap===2){e.adler=0;L(i,31);L(i,139);L(i,8);if(!i.gzhead){L(i,0);L(i,0);L(i,0);L(i,0);L(i,0);L(i,i.level===9?2:i.strategy>=y||i.level<2?4:0);L(i,ae);i.status=T}else{L(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(!i.gzhead.extra?0:4)+(!i.gzhead.name?0:8)+(!i.gzhead.comment?0:16));L(i,i.gzhead.time&255);L(i,i.gzhead.time>>8&255);L(i,i.gzhead.time>>16&255);L(i,i.gzhead.time>>24&255);L(i,i.level===9?2:i.strategy>=y||i.level<2?4:0);L(i,i.gzhead.os&255);if(i.gzhead.extra&&i.gzhead.extra.length){L(i,i.gzhead.extra.length&255);L(i,i.gzhead.extra.length>>8&255)}if(i.gzhead.hcrc){e.adler=f(e.adler,i.pending_buf,i.pending,0)}i.gzindex=0;i.status=se}}else{var s=g+(i.w_bits-8<<4)<<8;var a=-1;if(i.strategy>=y||i.level<2){a=0}else if(i.level<6){a=1}else if(i.level===6){a=2}else{a=3}s|=a<<6;if(i.strstart!==0){s|=oe}s+=31-s%31;i.status=T;M(i,s);if(i.strstart!==0){M(i,e.adler>>>16);M(i,e.adler&65535)}e.adler=1}}if(i.status===se){if(i.gzhead.extra){r=i.pending;while(i.gzindex<(i.gzhead.extra.length&65535)){if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}A(e);r=i.pending;if(i.pending===i.pending_buf_size){break}}L(i,i.gzhead.extra[i.gzindex]&255);i.gzindex++}if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}if(i.gzindex===i.gzhead.extra.length){i.gzindex=0;i.status=b}}else{i.status=b}}if(i.status===b){if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}A(e);r=i.pending;if(i.pending===i.pending_buf_size){o=1;break}}if(i.gzindex<i.gzhead.name.length){o=i.gzhead.name.charCodeAt(i.gzindex++)&255}else{o=0}L(i,o)}while(o!==0);if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}if(o===0){i.gzindex=0;i.status=C}}else{i.status=C}}if(i.status===C){if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}A(e);r=i.pending;if(i.pending===i.pending_buf_size){o=1;break}}if(i.gzindex<i.gzhead.comment.length){o=i.gzhead.comment.charCodeAt(i.gzindex++)&255}else{o=0}L(i,o)}while(o!==0);if(i.gzhead.hcrc&&i.pending>r){e.adler=f(e.adler,i.pending_buf,i.pending-r,r)}if(o===0){i.status=k}}else{i.status=k}}if(i.status===k){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size){A(e)}if(i.pending+2<=i.pending_buf_size){L(i,e.adler&255);L(i,e.adler>>8&255);e.adler=0;i.status=T}}else{i.status=T}}if(i.pending!==0){A(e);if(e.avail_out===0){i.last_flush=-1;return p}}else if(e.avail_in===0&&ue(t)<=ue(n)&&t!==d){return q(e,m)}if(i.status===R&&e.avail_in!==0){return q(e,m)}if(e.avail_in!==0||i.lookahead!==0||t!==h&&i.status!==R){var u=i.strategy===y?pe(i,t):i.strategy===G?de(i,t):W[i.level].func(i,t);if(u===D||u===E){i.status=R}if(u===x||u===D){if(e.avail_out===0){i.last_flush=-1}return p}if(u===I){if(t===N){l._tr_align(i)}else if(t!==J){l._tr_stored_block(i,0,0,false);if(t===z){O(i.head);if(i.lookahead===0){i.strstart=0;i.block_start=0;i.insert=0}}}A(e);if(e.avail_out===0){i.last_flush=-1;return p}}}if(t!==d){return p}if(i.wrap<=0){return U}if(i.wrap===2){L(i,e.adler&255);L(i,e.adler>>8&255);L(i,e.adler>>16&255);L(i,e.adler>>24&255);L(i,e.total_in&255);L(i,e.total_in>>8&255);L(i,e.total_in>>16&255);L(i,e.total_in>>24&255)}else{M(i,e.adler>>>16);M(i,e.adler&65535)}A(e);if(i.wrap>0){i.wrap=-i.wrap}return i.pending!==0?p:U}function be(e){var t;if(!e||!e.state){return v}t=e.state.status;if(t!==_&&t!==se&&t!==b&&t!==C&&t!==k&&t!==T&&t!==R){return q(e,v)}e.state=null;return t===T?q(e,u):p}function Ce(e,t){var n=t.length;var i;var r,o;var s;var a;var u;var l;var f;if(!e||!e.state){return v}i=e.state;s=i.wrap;if(s===2||s===1&&i.status!==_||i.lookahead){return v}if(s===1){e.adler=B(e.adler,t,n,0)}i.wrap=0;if(n>=i.w_size){if(s===0){O(i.head);i.strstart=0;i.block_start=0;i.insert=0}f=new c.Buf8(i.w_size);c.arraySet(f,t,n-i.w_size,i.w_size,0);t=f;n=i.w_size}a=e.avail_in;u=e.next_in;l=e.input;e.avail_in=n;e.next_in=0;e.input=t;F(i);while(i.lookahead>=S){r=i.strstart;o=i.lookahead-(S-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+S-1])&i.hash_mask;i.prev[r&i.w_mask]=i.head[i.ins_h];i.head[i.ins_h]=r;r++}while(--o);i.strstart=r;i.lookahead=S-1;F(i)}i.strstart+=i.lookahead;i.block_start=i.strstart;i.insert=i.lookahead;i.lookahead=0;i.match_length=i.prev_length=S-1;i.match_available=0;e.next_in=u;e.input=l;e.avail_in=a;i.wrap=s;return p}e.deflateInit=Pe;e.deflateInit2=we;e.deflateReset=ge;e.deflateResetKeep=ye;e.deflateSetHeader=Se;e.deflate=_e;e.deflateEnd=be;e.deflateSetDictionary=Ce;e.deflateInfo="pako deflate (from Nodeca project)"},function(M,e,F){"use strict";var W=F(4);var B=4;var i=0;var r=1;var N=2;function t(e){var t=e.length;while(--t>=0){e[t]=0}}var z=0;var a=1;var J=2;var U=3;var H=258;var s=29;var u=256;var l=u+1+s;var f=30;var c=19;var m=2*l+1;var y=15;var o=16;var j=7;var h=256;var d=16;var p=17;var v=18;var g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var V=512;var P=new Array((l+2)*2);t(P);var _=new Array(f*2);t(_);var b=new Array(V);t(b);var C=new Array(H-U+1);t(C);var k=new Array(s);t(k);var T=new Array(f);t(T);function R(e,t,n,i,r){this.static_tree=e;this.extra_bits=t;this.extra_base=n;this.elems=i;this.max_length=r;this.has_stree=e&&e.length}var x;var I;var D;function n(e,t){this.dyn_tree=e;this.max_code=0;this.stat_desc=t}function Y(e){return e<256?b[e]:b[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=t&255;e.pending_buf[e.pending++]=t>>>8&255}function q(e,t,n){if(e.bi_valid>o-n){e.bi_buf|=t<<e.bi_valid&65535;E(e,e.bi_buf);e.bi_buf=t>>o-e.bi_valid;e.bi_valid+=n-o}else{e.bi_buf|=t<<e.bi_valid&65535;e.bi_valid+=n}}function O(e,t,n){q(e,n[t*2],n[t*2+1])}function X(e,t){var n=0;do{n|=e&1;e>>>=1;n<<=1}while(--t>0);return n>>>1}function Z(e){if(e.bi_valid===16){E(e,e.bi_buf);e.bi_buf=0;e.bi_valid=0}else if(e.bi_valid>=8){e.pending_buf[e.pending++]=e.bi_buf&255;e.bi_buf>>=8;e.bi_valid-=8}}function K(e,t){var n=t.dyn_tree;var i=t.max_code;var r=t.stat_desc.static_tree;var o=t.stat_desc.has_stree;var s=t.stat_desc.extra_bits;var a=t.stat_desc.extra_base;var u=t.stat_desc.max_length;var l;var f,c;var h;var d;var p;var v=0;for(h=0;h<=y;h++){e.bl_count[h]=0}n[e.heap[e.heap_max]*2+1]=0;for(l=e.heap_max+1;l<m;l++){f=e.heap[l];h=n[n[f*2+1]*2+1]+1;if(h>u){h=u;v++}n[f*2+1]=h;if(f>i){continue}e.bl_count[h]++;d=0;if(f>=a){d=s[f-a]}p=n[f*2];e.opt_len+=p*(h+d);if(o){e.static_len+=p*(r[f*2+1]+d)}}if(v===0){return}do{h=u-1;while(e.bl_count[h]===0){h--}e.bl_count[h]--;e.bl_count[h+1]+=2;e.bl_count[u]--;v-=2}while(v>0);for(h=u;h!==0;h--){f=e.bl_count[h];while(f!==0){c=e.heap[--l];if(c>i){continue}if(n[c*2+1]!==h){e.opt_len+=(h-n[c*2+1])*n[c*2];n[c*2+1]=h}f--}}}function $(e,t,n){var i=new Array(y+1);var r=0;var o;var s;for(o=1;o<=y;o++){i[o]=r=r+n[o-1]<<1}for(s=0;s<=t;s++){var a=e[s*2+1];if(a===0){continue}e[s*2]=X(i[a]++,a)}}function Q(){var e;var t;var n;var i;var r;var o=new Array(y+1);n=0;for(i=0;i<s-1;i++){k[i]=n;for(e=0;e<1<<g[i];e++){C[n++]=i}}C[n-1]=i;r=0;for(i=0;i<16;i++){T[i]=r;for(e=0;e<1<<S[i];e++){b[r++]=i}}r>>=7;for(;i<f;i++){T[i]=r<<7;for(e=0;e<1<<S[i]-7;e++){b[256+r++]=i}}for(t=0;t<=y;t++){o[t]=0}e=0;while(e<=143){P[e*2+1]=8;e++;o[8]++}while(e<=255){P[e*2+1]=9;e++;o[9]++}while(e<=279){P[e*2+1]=7;e++;o[7]++}while(e<=287){P[e*2+1]=8;e++;o[8]++}$(P,l+1,o);for(e=0;e<f;e++){_[e*2+1]=5;_[e*2]=X(e,5)}x=new R(P,g,u+1,l,y);I=new R(_,S,0,f,y);D=new R(new Array(0),G,0,c,j)}function ee(e){var t;for(t=0;t<l;t++){e.dyn_ltree[t*2]=0}for(t=0;t<f;t++){e.dyn_dtree[t*2]=0}for(t=0;t<c;t++){e.bl_tree[t*2]=0}e.dyn_ltree[h*2]=1;e.opt_len=e.static_len=0;e.last_lit=e.matches=0}function te(e){if(e.bi_valid>8){E(e,e.bi_buf)}else if(e.bi_valid>0){e.pending_buf[e.pending++]=e.bi_buf}e.bi_buf=0;e.bi_valid=0}function ne(e,t,n,i){te(e);if(i){E(e,n);E(e,~n)}W.arraySet(e.pending_buf,e.window,t,n,e.pending);e.pending+=n}function ie(e,t,n,i){var r=t*2;var o=n*2;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function A(e,t,n){var i=e.heap[n];var r=n<<1;while(r<=e.heap_len){if(r<e.heap_len&&ie(t,e.heap[r+1],e.heap[r],e.depth)){r++}if(ie(t,i,e.heap[r],e.depth)){break}e.heap[n]=e.heap[r];n=r;r<<=1}e.heap[n]=i}function re(e,t,n){var i;var r;var o=0;var s;var a;if(e.last_lit!==0){do{i=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1];r=e.pending_buf[e.l_buf+o];o++;if(i===0){O(e,r,t)}else{s=C[r];O(e,s+u+1,t);a=g[s];if(a!==0){r-=k[s];q(e,r,a)}i--;s=Y(i);O(e,s,n);a=S[s];if(a!==0){i-=T[s];q(e,i,a)}}}while(o<e.last_lit)}O(e,h,t)}function L(e,t){var n=t.dyn_tree;var i=t.stat_desc.static_tree;var r=t.stat_desc.has_stree;var o=t.stat_desc.elems;var s,a;var u=-1;var l;e.heap_len=0;e.heap_max=m;for(s=0;s<o;s++){if(n[s*2]!==0){e.heap[++e.heap_len]=u=s;e.depth[s]=0}else{n[s*2+1]=0}}while(e.heap_len<2){l=e.heap[++e.heap_len]=u<2?++u:0;n[l*2]=1;e.depth[l]=0;e.opt_len--;if(r){e.static_len-=i[l*2+1]}}t.max_code=u;for(s=e.heap_len>>1;s>=1;s--){A(e,n,s)}l=o;do{s=e.heap[1];e.heap[1]=e.heap[e.heap_len--];A(e,n,1);a=e.heap[1];e.heap[--e.heap_max]=s;e.heap[--e.heap_max]=a;n[l*2]=n[s*2]+n[a*2];e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1;n[s*2+1]=n[a*2+1]=l;e.heap[1]=l++;A(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1];K(e,t);$(n,u,e.bl_count)}function oe(e,t,n){var i;var r=-1;var o;var s=t[0*2+1];var a=0;var u=7;var l=4;if(s===0){u=138;l=3}t[(n+1)*2+1]=65535;for(i=0;i<=n;i++){o=s;s=t[(i+1)*2+1];if(++a<u&&o===s){continue}else if(a<l){e.bl_tree[o*2]+=a}else if(o!==0){if(o!==r){e.bl_tree[o*2]++}e.bl_tree[d*2]++}else if(a<=10){e.bl_tree[p*2]++}else{e.bl_tree[v*2]++}a=0;r=o;if(s===0){u=138;l=3}else if(o===s){u=6;l=3}else{u=7;l=4}}}function se(e,t,n){var i;var r=-1;var o;var s=t[0*2+1];var a=0;var u=7;var l=4;if(s===0){u=138;l=3}for(i=0;i<=n;i++){o=s;s=t[(i+1)*2+1];if(++a<u&&o===s){continue}else if(a<l){do{O(e,o,e.bl_tree)}while(--a!==0)}else if(o!==0){if(o!==r){O(e,o,e.bl_tree);a--}O(e,d,e.bl_tree);q(e,a-3,2)}else if(a<=10){O(e,p,e.bl_tree);q(e,a-3,3)}else{O(e,v,e.bl_tree);q(e,a-11,7)}a=0;r=o;if(s===0){u=138;l=3}else if(o===s){u=6;l=3}else{u=7;l=4}}}function ae(e){var t;oe(e,e.dyn_ltree,e.l_desc.max_code);oe(e,e.dyn_dtree,e.d_desc.max_code);L(e,e.bl_desc);for(t=c-1;t>=3;t--){if(e.bl_tree[w[t]*2+1]!==0){break}}e.opt_len+=3*(t+1)+5+5+4;return t}function ue(e,t,n,i){var r;q(e,t-257,5);q(e,n-1,5);q(e,i-4,4);for(r=0;r<i;r++){q(e,e.bl_tree[w[r]*2+1],3)}se(e,e.dyn_ltree,t-1);se(e,e.dyn_dtree,n-1)}function le(e){var t=4093624447;var n;for(n=0;n<=31;n++,t>>>=1){if(t&1&&e.dyn_ltree[n*2]!==0){return i}}if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0){return r}for(n=32;n<u;n++){if(e.dyn_ltree[n*2]!==0){return r}}return i}var fe=false;function ce(e){if(!fe){Q();fe=true}e.l_desc=new n(e.dyn_ltree,x);e.d_desc=new n(e.dyn_dtree,I);e.bl_desc=new n(e.bl_tree,D);e.bi_buf=0;e.bi_valid=0;ee(e)}function he(e,t,n,i){q(e,(z<<1)+(i?1:0),3);ne(e,t,n,true)}function de(e){q(e,a<<1,3);O(e,h,P);Z(e)}function pe(e,t,n,i){var r,o;var s=0;if(e.level>0){if(e.strm.data_type===N){e.strm.data_type=le(e)}L(e,e.l_desc);L(e,e.d_desc);s=ae(e);r=e.opt_len+3+7>>>3;o=e.static_len+3+7>>>3;if(o<=r){r=o}}else{r=o=n+5}if(n+4<=r&&t!==-1){he(e,t,n,i)}else if(e.strategy===B||o===r){q(e,(a<<1)+(i?1:0),3);re(e,P,_)}else{q(e,(J<<1)+(i?1:0),3);ue(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1);re(e,e.dyn_ltree,e.dyn_dtree)}ee(e);if(i){te(e)}}function ve(e,t,n){e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255;e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255;e.pending_buf[e.l_buf+e.last_lit]=n&255;e.last_lit++;if(t===0){e.dyn_ltree[n*2]++}else{e.matches++;t--;e.dyn_ltree[(C[n]+u+1)*2]++;e.dyn_dtree[Y(t)*2]++}return e.last_lit===e.lit_bufsize-1}e._tr_init=ce;e._tr_stored_block=he;e._tr_flush_block=pe;e._tr_tally=ve;e._tr_align=de},function(e,t,n){"use strict";var c=n(84);var h=n(4);var d=n(43);var p=n(45);var i=n(17);var r=n(44);var o=n(87);var v=Object.prototype.toString;function s(e){if(!(this instanceof s))return new s(e);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;if(t.raw&&t.windowBits>=0&&t.windowBits<16){t.windowBits=-t.windowBits;if(t.windowBits===0){t.windowBits=-15}}if(t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)){t.windowBits+=32}if(t.windowBits>15&&t.windowBits<48){if((t.windowBits&15)===0){t.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new r;this.strm.avail_out=0;var n=c.inflateInit2(this.strm,t.windowBits);if(n!==p.Z_OK){throw new Error(i[n])}this.header=new o;c.inflateGetHeader(this.strm,this.header);if(t.dictionary){if(typeof t.dictionary==="string"){t.dictionary=d.string2buf(t.dictionary)}else if(v.call(t.dictionary)==="[object ArrayBuffer]"){t.dictionary=new Uint8Array(t.dictionary)}if(t.raw){n=c.inflateSetDictionary(this.strm,t.dictionary);if(n!==p.Z_OK){throw new Error(i[n])}}}}s.prototype.push=function(e,t){var n=this.strm;var i=this.options.chunkSize;var r=this.options.dictionary;var o,s;var a,u,l;var f=false;if(this.ended){return false}s=t===~~t?t:t===true?p.Z_FINISH:p.Z_NO_FLUSH;if(typeof e==="string"){n.input=d.binstring2buf(e)}else if(v.call(e)==="[object ArrayBuffer]"){n.input=new Uint8Array(e)}else{n.input=e}n.next_in=0;n.avail_in=n.input.length;do{if(n.avail_out===0){n.output=new h.Buf8(i);n.next_out=0;n.avail_out=i}o=c.inflate(n,p.Z_NO_FLUSH);if(o===p.Z_NEED_DICT&&r){o=c.inflateSetDictionary(this.strm,r)}if(o===p.Z_BUF_ERROR&&f===true){o=p.Z_OK;f=false}if(o!==p.Z_STREAM_END&&o!==p.Z_OK){this.onEnd(o);this.ended=true;return false}if(n.next_out){if(n.avail_out===0||o===p.Z_STREAM_END||n.avail_in===0&&(s===p.Z_FINISH||s===p.Z_SYNC_FLUSH)){if(this.options.to==="string"){a=d.utf8border(n.output,n.next_out);u=n.next_out-a;l=d.buf2string(n.output,a);n.next_out=u;n.avail_out=i-u;if(u){h.arraySet(n.output,n.output,a,u,0)}this.onData(l)}else{this.onData(h.shrinkBuf(n.output,n.next_out))}}}if(n.avail_in===0&&n.avail_out===0){f=true}}while((n.avail_in>0||n.avail_out===0)&&o!==p.Z_STREAM_END);if(o===p.Z_STREAM_END){s=p.Z_FINISH}if(s===p.Z_FINISH){o=c.inflateEnd(this.strm);this.onEnd(o);this.ended=true;return o===p.Z_OK}if(s===p.Z_SYNC_FLUSH){this.onEnd(p.Z_OK);n.avail_out=0;return true}return true};s.prototype.onData=function(e){this.chunks.push(e)};s.prototype.onEnd=function(e){if(e===p.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=h.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function a(e,t){var n=new s(t);n.push(e,true);if(n.err){throw n.msg||i[n.err]}return n.result}function u(e,t){t=t||{};t.raw=true;return a(e,t)}t.Inflate=s;t.inflate=a;t.inflateRaw=u;t.ungzip=a},function(r,e,t){"use strict";var I=t(4);var D=t(41);var E=t(42);var ae=t(85);var q=t(86);var ue=0;var O=1;var A=2;var L=4;var le=5;var M=6;var F=0;var fe=1;var ce=2;var W=-2;var B=-3;var N=-4;var he=-5;var z=8;var J=1;var U=2;var H=3;var j=4;var G=5;var V=6;var Y=7;var X=8;var Z=9;var K=10;var $=11;var Q=12;var ee=13;var de=14;var te=15;var pe=16;var ve=17;var me=18;var ye=19;var ne=20;var ie=21;var ge=22;var Se=23;var we=24;var Pe=25;var _e=26;var re=27;var be=28;var Ce=29;var oe=30;var se=31;var ke=32;var o=852;var s=592;var a=15;var u=a;function Te(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function l(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new I.Buf16(320);this.work=new I.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function f(e){var t;if(!e||!e.state){return W}t=e.state;e.total_in=e.total_out=t.total=0;e.msg="";if(t.wrap){e.adler=t.wrap&1}t.mode=J;t.last=0;t.havedict=0;t.dmax=32768;t.head=null;t.hold=0;t.bits=0;t.lencode=t.lendyn=new I.Buf32(o);t.distcode=t.distdyn=new I.Buf32(s);t.sane=1;t.back=-1;return F}function c(e){var t;if(!e||!e.state){return W}t=e.state;t.wsize=0;t.whave=0;t.wnext=0;return f(e)}function h(e,t){var n;var i;if(!e||!e.state){return W}i=e.state;if(t<0){n=0;t=-t}else{n=(t>>4)+1;if(t<48){t&=15}}if(t&&(t<8||t>15)){return W}if(i.window!==null&&i.wbits!==t){i.window=null}i.wrap=n;i.wbits=t;return c(e)}function d(e,t){var n;var i;if(!e){return W}i=new l;e.state=i;i.window=null;n=h(e,t);if(n!==F){e.state=null}return n}function p(e){return d(e,u)}var v=true;var n,i;function Re(e){if(v){var t;n=new I.Buf32(512);i=new I.Buf32(32);t=0;while(t<144){e.lens[t++]=8}while(t<256){e.lens[t++]=9}while(t<280){e.lens[t++]=7}while(t<288){e.lens[t++]=8}q(O,e.lens,0,288,n,0,e.work,{bits:9});t=0;while(t<32){e.lens[t++]=5}q(A,e.lens,0,32,i,0,e.work,{bits:5});v=false}e.lencode=n;e.lenbits=9;e.distcode=i;e.distbits=5}function xe(e,t,n,i){var r;var o=e.state;if(o.window===null){o.wsize=1<<o.wbits;o.wnext=0;o.whave=0;o.window=new I.Buf8(o.wsize)}if(i>=o.wsize){I.arraySet(o.window,t,n-o.wsize,o.wsize,0);o.wnext=0;o.whave=o.wsize}else{r=o.wsize-o.wnext;if(r>i){r=i}I.arraySet(o.window,t,n-i,r,o.wnext);i-=r;if(i){I.arraySet(o.window,t,n-i,i,0);o.wnext=i;o.whave=o.wsize}else{o.wnext+=r;if(o.wnext===o.wsize){o.wnext=0}if(o.whave<o.wsize){o.whave+=r}}}return 0}function m(e,t){var n;var i,r;var o;var s;var a,u;var l;var f;var c,h;var d;var p;var v;var m=0;var y,g,S;var w,P,_;var b;var C;var k=new I.Buf8(4);var T;var R;var x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0){return W}n=e.state;if(n.mode===Q){n.mode=ee}s=e.next_out;r=e.output;u=e.avail_out;o=e.next_in;i=e.input;a=e.avail_in;l=n.hold;f=n.bits;c=a;h=u;C=F;e:for(;;){switch(n.mode){case J:if(n.wrap===0){n.mode=ee;break}while(f<16){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(n.wrap&2&&l===35615){n.check=0;k[0]=l&255;k[1]=l>>>8&255;n.check=E(n.check,k,2,0);l=0;f=0;n.mode=U;break}n.flags=0;if(n.head){n.head.done=false}if(!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check";n.mode=oe;break}if((l&15)!==z){e.msg="unknown compression method";n.mode=oe;break}l>>>=4;f-=4;b=(l&15)+8;if(n.wbits===0){n.wbits=b}else if(b>n.wbits){e.msg="invalid window size";n.mode=oe;break}n.dmax=1<<b;e.adler=n.check=1;n.mode=l&512?K:Q;l=0;f=0;break;case U:while(f<16){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.flags=l;if((n.flags&255)!==z){e.msg="unknown compression method";n.mode=oe;break}if(n.flags&57344){e.msg="unknown header flags set";n.mode=oe;break}if(n.head){n.head.text=l>>8&1}if(n.flags&512){k[0]=l&255;k[1]=l>>>8&255;n.check=E(n.check,k,2,0)}l=0;f=0;n.mode=H;case H:while(f<32){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(n.head){n.head.time=l}if(n.flags&512){k[0]=l&255;k[1]=l>>>8&255;k[2]=l>>>16&255;k[3]=l>>>24&255;n.check=E(n.check,k,4,0)}l=0;f=0;n.mode=j;case j:while(f<16){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(n.head){n.head.xflags=l&255;n.head.os=l>>8}if(n.flags&512){k[0]=l&255;k[1]=l>>>8&255;n.check=E(n.check,k,2,0)}l=0;f=0;n.mode=G;case G:if(n.flags&1024){while(f<16){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.length=l;if(n.head){n.head.extra_len=l}if(n.flags&512){k[0]=l&255;k[1]=l>>>8&255;n.check=E(n.check,k,2,0)}l=0;f=0}else if(n.head){n.head.extra=null}n.mode=V;case V:if(n.flags&1024){d=n.length;if(d>a){d=a}if(d){if(n.head){b=n.head.extra_len-n.length;if(!n.head.extra){n.head.extra=new Array(n.head.extra_len)}I.arraySet(n.head.extra,i,o,d,b)}if(n.flags&512){n.check=E(n.check,i,d,o)}a-=d;o+=d;n.length-=d}if(n.length){break e}}n.length=0;n.mode=Y;case Y:if(n.flags&2048){if(a===0){break e}d=0;do{b=i[o+d++];if(n.head&&b&&n.length<65536){n.head.name+=String.fromCharCode(b)}}while(b&&d<a);if(n.flags&512){n.check=E(n.check,i,d,o)}a-=d;o+=d;if(b){break e}}else if(n.head){n.head.name=null}n.length=0;n.mode=X;case X:if(n.flags&4096){if(a===0){break e}d=0;do{b=i[o+d++];if(n.head&&b&&n.length<65536){n.head.comment+=String.fromCharCode(b)}}while(b&&d<a);if(n.flags&512){n.check=E(n.check,i,d,o)}a-=d;o+=d;if(b){break e}}else if(n.head){n.head.comment=null}n.mode=Z;case Z:if(n.flags&512){while(f<16){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(l!==(n.check&65535)){e.msg="header crc mismatch";n.mode=oe;break}l=0;f=0}if(n.head){n.head.hcrc=n.flags>>9&1;n.head.done=true}e.adler=n.check=0;n.mode=Q;break;case K:while(f<32){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}e.adler=n.check=Te(l);l=0;f=0;n.mode=$;case $:if(n.havedict===0){e.next_out=s;e.avail_out=u;e.next_in=o;e.avail_in=a;n.hold=l;n.bits=f;return ce}e.adler=n.check=1;n.mode=Q;case Q:if(t===le||t===M){break e}case ee:if(n.last){l>>>=f&7;f-=f&7;n.mode=re;break}while(f<3){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.last=l&1;l>>>=1;f-=1;switch(l&3){case 0:n.mode=de;break;case 1:Re(n);n.mode=ne;if(t===M){l>>>=2;f-=2;break e}break;case 2:n.mode=ve;break;case 3:e.msg="invalid block type";n.mode=oe}l>>>=2;f-=2;break;case de:l>>>=f&7;f-=f&7;while(f<32){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths";n.mode=oe;break}n.length=l&65535;l=0;f=0;n.mode=te;if(t===M){break e}case te:n.mode=pe;case pe:d=n.length;if(d){if(d>a){d=a}if(d>u){d=u}if(d===0){break e}I.arraySet(r,i,o,d,s);a-=d;o+=d;u-=d;s+=d;n.length-=d;break}n.mode=Q;break;case ve:while(f<14){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.nlen=(l&31)+257;l>>>=5;f-=5;n.ndist=(l&31)+1;l>>>=5;f-=5;n.ncode=(l&15)+4;l>>>=4;f-=4;if(n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols";n.mode=oe;break}n.have=0;n.mode=me;case me:while(n.have<n.ncode){while(f<3){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.lens[x[n.have++]]=l&7;l>>>=3;f-=3}while(n.have<19){n.lens[x[n.have++]]=0}n.lencode=n.lendyn;n.lenbits=7;T={bits:n.lenbits};C=q(ue,n.lens,0,19,n.lencode,0,n.work,T);n.lenbits=T.bits;if(C){e.msg="invalid code lengths set";n.mode=oe;break}n.have=0;n.mode=ye;case ye:while(n.have<n.nlen+n.ndist){for(;;){m=n.lencode[l&(1<<n.lenbits)-1];y=m>>>24;g=m>>>16&255;S=m&65535;if(y<=f){break}if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(S<16){l>>>=y;f-=y;n.lens[n.have++]=S}else{if(S===16){R=y+2;while(f<R){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}l>>>=y;f-=y;if(n.have===0){e.msg="invalid bit length repeat";n.mode=oe;break}b=n.lens[n.have-1];d=3+(l&3);l>>>=2;f-=2}else if(S===17){R=y+3;while(f<R){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}l>>>=y;f-=y;b=0;d=3+(l&7);l>>>=3;f-=3}else{R=y+7;while(f<R){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}l>>>=y;f-=y;b=0;d=11+(l&127);l>>>=7;f-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat";n.mode=oe;break}while(d--){n.lens[n.have++]=b}}}if(n.mode===oe){break}if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block";n.mode=oe;break}n.lenbits=9;T={bits:n.lenbits};C=q(O,n.lens,0,n.nlen,n.lencode,0,n.work,T);n.lenbits=T.bits;if(C){e.msg="invalid literal/lengths set";n.mode=oe;break}n.distbits=6;n.distcode=n.distdyn;T={bits:n.distbits};C=q(A,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T);n.distbits=T.bits;if(C){e.msg="invalid distances set";n.mode=oe;break}n.mode=ne;if(t===M){break e}case ne:n.mode=ie;case ie:if(a>=6&&u>=258){e.next_out=s;e.avail_out=u;e.next_in=o;e.avail_in=a;n.hold=l;n.bits=f;ae(e,h);s=e.next_out;r=e.output;u=e.avail_out;o=e.next_in;i=e.input;a=e.avail_in;l=n.hold;f=n.bits;if(n.mode===Q){n.back=-1}break}n.back=0;for(;;){m=n.lencode[l&(1<<n.lenbits)-1];y=m>>>24;g=m>>>16&255;S=m&65535;if(y<=f){break}if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(g&&(g&240)===0){w=y;P=g;_=S;for(;;){m=n.lencode[_+((l&(1<<w+P)-1)>>w)];y=m>>>24;g=m>>>16&255;S=m&65535;if(w+y<=f){break}if(a===0){break e}a--;l+=i[o++]<<f;f+=8}l>>>=w;f-=w;n.back+=w}l>>>=y;f-=y;n.back+=y;n.length=S;if(g===0){n.mode=_e;break}if(g&32){n.back=-1;n.mode=Q;break}if(g&64){e.msg="invalid literal/length code";n.mode=oe;break}n.extra=g&15;n.mode=ge;case ge:if(n.extra){R=n.extra;while(f<R){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.length+=l&(1<<n.extra)-1;l>>>=n.extra;f-=n.extra;n.back+=n.extra}n.was=n.length;n.mode=Se;case Se:for(;;){m=n.distcode[l&(1<<n.distbits)-1];y=m>>>24;g=m>>>16&255;S=m&65535;if(y<=f){break}if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if((g&240)===0){w=y;P=g;_=S;for(;;){m=n.distcode[_+((l&(1<<w+P)-1)>>w)];y=m>>>24;g=m>>>16&255;S=m&65535;if(w+y<=f){break}if(a===0){break e}a--;l+=i[o++]<<f;f+=8}l>>>=w;f-=w;n.back+=w}l>>>=y;f-=y;n.back+=y;if(g&64){e.msg="invalid distance code";n.mode=oe;break}n.offset=S;n.extra=g&15;n.mode=we;case we:if(n.extra){R=n.extra;while(f<R){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}n.offset+=l&(1<<n.extra)-1;l>>>=n.extra;f-=n.extra;n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back";n.mode=oe;break}n.mode=Pe;case Pe:if(u===0){break e}d=h-u;if(n.offset>d){d=n.offset-d;if(d>n.whave){if(n.sane){e.msg="invalid distance too far back";n.mode=oe;break}}if(d>n.wnext){d-=n.wnext;p=n.wsize-d}else{p=n.wnext-d}if(d>n.length){d=n.length}v=n.window}else{v=r;p=s-n.offset;d=n.length}if(d>u){d=u}u-=d;n.length-=d;do{r[s++]=v[p++]}while(--d);if(n.length===0){n.mode=ie}break;case _e:if(u===0){break e}r[s++]=n.length;u--;n.mode=ie;break;case re:if(n.wrap){while(f<32){if(a===0){break e}a--;l|=i[o++]<<f;f+=8}h-=u;e.total_out+=h;n.total+=h;if(h){e.adler=n.check=n.flags?E(n.check,r,h,s-h):D(n.check,r,h,s-h)}h=u;if((n.flags?l:Te(l))!==n.check){e.msg="incorrect data check";n.mode=oe;break}l=0;f=0}n.mode=be;case be:if(n.wrap&&n.flags){while(f<32){if(a===0){break e}a--;l+=i[o++]<<f;f+=8}if(l!==(n.total&4294967295)){e.msg="incorrect length check";n.mode=oe;break}l=0;f=0}n.mode=Ce;case Ce:C=fe;break e;case oe:C=B;break e;case se:return N;case ke:default:return W}}e.next_out=s;e.avail_out=u;e.next_in=o;e.avail_in=a;n.hold=l;n.bits=f;if(n.wsize||h!==e.avail_out&&n.mode<oe&&(n.mode<re||t!==L)){if(xe(e,e.output,e.next_out,h-e.avail_out)){n.mode=se;return N}}c-=e.avail_in;h-=e.avail_out;e.total_in+=c;e.total_out+=h;n.total+=h;if(n.wrap&&h){e.adler=n.check=n.flags?E(n.check,r,h,e.next_out-h):D(n.check,r,h,e.next_out-h)}e.data_type=n.bits+(n.last?64:0)+(n.mode===Q?128:0)+(n.mode===ne||n.mode===te?256:0);if((c===0&&h===0||t===L)&&C===F){C=he}return C}function y(e){if(!e||!e.state){return W}var t=e.state;if(t.window){t.window=null}e.state=null;return F}function g(e,t){var n;if(!e||!e.state){return W}n=e.state;if((n.wrap&2)===0){return W}n.head=t;t.done=false;return F}function S(e,t){var n=t.length;var i;var r;var o;if(!e||!e.state){return W}i=e.state;if(i.wrap!==0&&i.mode!==$){return W}if(i.mode===$){r=1;r=D(r,t,n,0);if(r!==i.check){return B}}o=xe(e,t,n,n);if(o){i.mode=se;return N}i.havedict=1;return F}e.inflateReset=c;e.inflateReset2=h;e.inflateResetKeep=f;e.inflateInit=p;e.inflateInit2=d;e.inflate=m;e.inflateEnd=y;e.inflateGetHeader=g;e.inflateSetDictionary=S;e.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";var R=30;var x=12;e.exports=function I(e,t){var n;var i;var r;var o;var s;var a;var u;var l;var f;var c;var h;var d;var p;var v;var m;var y;var g;var S;var w;var P;var _;var b;var C;var k,T;n=e.state;i=e.next_in;k=e.input;r=i+(e.avail_in-5);o=e.next_out;T=e.output;s=o-(t-e.avail_out);a=o+(e.avail_out-257);u=n.dmax;l=n.wsize;f=n.whave;c=n.wnext;h=n.window;d=n.hold;p=n.bits;v=n.lencode;m=n.distcode;y=(1<<n.lenbits)-1;g=(1<<n.distbits)-1;e:do{if(p<15){d+=k[i++]<<p;p+=8;d+=k[i++]<<p;p+=8}S=v[d&y];t:for(;;){w=S>>>24;d>>>=w;p-=w;w=S>>>16&255;if(w===0){T[o++]=S&65535}else if(w&16){P=S&65535;w&=15;if(w){if(p<w){d+=k[i++]<<p;p+=8}P+=d&(1<<w)-1;d>>>=w;p-=w}if(p<15){d+=k[i++]<<p;p+=8;d+=k[i++]<<p;p+=8}S=m[d&g];n:for(;;){w=S>>>24;d>>>=w;p-=w;w=S>>>16&255;if(w&16){_=S&65535;w&=15;if(p<w){d+=k[i++]<<p;p+=8;if(p<w){d+=k[i++]<<p;p+=8}}_+=d&(1<<w)-1;if(_>u){e.msg="invalid distance too far back";n.mode=R;break e}d>>>=w;p-=w;w=o-s;if(_>w){w=_-w;if(w>f){if(n.sane){e.msg="invalid distance too far back";n.mode=R;break e}}b=0;C=h;if(c===0){b+=l-w;if(w<P){P-=w;do{T[o++]=h[b++]}while(--w);b=o-_;C=T}}else if(c<w){b+=l+c-w;w-=c;if(w<P){P-=w;do{T[o++]=h[b++]}while(--w);b=0;if(c<P){w=c;P-=w;do{T[o++]=h[b++]}while(--w);b=o-_;C=T}}}else{b+=c-w;if(w<P){P-=w;do{T[o++]=h[b++]}while(--w);b=o-_;C=T}}while(P>2){T[o++]=C[b++];T[o++]=C[b++];T[o++]=C[b++];P-=3}if(P){T[o++]=C[b++];if(P>1){T[o++]=C[b++]}}}else{b=o-_;do{T[o++]=T[b++];T[o++]=T[b++];T[o++]=T[b++];P-=3}while(P>2);if(P){T[o++]=T[b++];if(P>1){T[o++]=T[b++]}}}}else if((w&64)===0){S=m[(S&65535)+(d&(1<<w)-1)];continue n}else{e.msg="invalid distance code";n.mode=R;break e}break}}else if((w&64)===0){S=v[(S&65535)+(d&(1<<w)-1)];continue t}else if(w&32){n.mode=x;break e}else{e.msg="invalid literal/length code";n.mode=R;break e}break}}while(i<r&&o<a);P=p>>3;i-=P;p-=P<<3;d&=(1<<p)-1;e.next_in=i;e.next_out=o;e.avail_in=i<r?5+(r-i):5-(i-r);e.avail_out=o<a?257+(a-o):257-(o-a);n.hold=d;n.bits=p;return}},function(e,t,n){"use strict";var A=n(4);var L=15;var M=852;var F=592;var W=0;var B=1;var N=2;var z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var J=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function j(e,t,n,i,r,o,s,a){var u=a.bits;var l=0;var f=0;var c=0,h=0;var d=0;var p=0;var v=0;var m=0;var y=0;var g=0;var S;var w;var P;var _;var b;var C=null;var k=0;var T;var R=new A.Buf16(L+1);var x=new A.Buf16(L+1);var I=null;var D=0;var E,q,O;for(l=0;l<=L;l++){R[l]=0}for(f=0;f<i;f++){R[t[n+f]]++}d=u;for(h=L;h>=1;h--){if(R[h]!==0){break}}if(d>h){d=h}if(h===0){r[o++]=1<<24|64<<16|0;r[o++]=1<<24|64<<16|0;a.bits=1;return 0}for(c=1;c<h;c++){if(R[c]!==0){break}}if(d<c){d=c}m=1;for(l=1;l<=L;l++){m<<=1;m-=R[l];if(m<0){return-1}}if(m>0&&(e===W||h!==1)){return-1}x[1]=0;for(l=1;l<L;l++){x[l+1]=x[l]+R[l]}for(f=0;f<i;f++){if(t[n+f]!==0){s[x[t[n+f]]++]=f}}if(e===W){C=I=s;T=19}else if(e===B){C=z;k-=257;I=J;D-=257;T=256}else{C=U;I=H;T=-1}g=0;f=0;l=c;b=o;p=d;v=0;P=-1;y=1<<d;_=y-1;if(e===B&&y>M||e===N&&y>F){return 1}for(;;){E=l-v;if(s[f]<T){q=0;O=s[f]}else if(s[f]>T){q=I[D+s[f]];O=C[k+s[f]]}else{q=32+64;O=0}S=1<<l-v;w=1<<p;c=w;do{w-=S;r[b+(g>>v)+w]=E<<24|q<<16|O|0}while(w!==0);S=1<<l-1;while(g&S){S>>=1}if(S!==0){g&=S-1;g+=S}else{g=0}f++;if(--R[l]===0){if(l===h){break}l=t[n+s[f]]}if(l>d&&(g&_)!==P){if(v===0){v=d}b+=c;p=l-v;m=1<<p;while(p+v<h){m-=R[p+v];if(m<=0){break}p++;m<<=1}y+=1<<p;if(e===B&&y>M||e===N&&y>F){return 1}P=g&_;r[P]=d<<24|p<<16|b-o|0}}if(g!==0){r[b+g]=l-v<<24|64<<16|0}a.bits=d;return 0}},function(e,t,n){"use strict";function i(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}e.exports=i},function(e,i,r){"use strict";(function(u){Object.defineProperty(i,"__esModule",{value:true});i.WebChannelRequest=undefined;var l=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var e=r(8);var f=t(e);function t(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=function(){var e=function(){function n(e){c(this,n);var t={iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null};this.oOptions=u.extend(t,e);this.oWebChannel=null;this.szUUID="";this.szVersion="";this.oRequestList={};this.bNormalClose=false;this.oChannleObj=null;this.oWindowControlCallback={};this.init()}l(n,[{key:"init",value:function e(){var i=this;this.oChannleObj=new window.QWebChannel(window.qt.webChannelTransport,function(e){i.oWebChannel=e.objects.document;var n=f["default"].v4();setTimeout(function(){var e={sequence:n,cmd:"system.webconnect"};var t=JSON.stringify(e);i.oWebChannel.receiveText(t)},500);i.oWebChannel.textSent.connect(function(e){if(!e){return}var t=JSON.parse(e);n=t.sequence;if(typeof n==="undefined"&&typeof t.cmd==="undefined"){i.szUUID=t.uuid;i.szVersion=t.version;if(i.oOptions.cbConnectSuccess){i.oOptions.cbConnectSuccess()}}else{if(typeof t.cmd!=="undefined"){i.parseCmd(t)}else{if(typeof i.oRequestList[n]!=="undefined"){if(0===t.errorCode){i.oRequestList[n].resolve(t)}else{i.oRequestList[n].reject(t)}delete i.oRequestList[n]}}}})})}},{key:"setWindowControlCallback",value:function t(e){this.oWindowControlCallback=e}},{key:"getServiceVersion",value:function i(){return this.szVersion}},{key:"getRequestUUID",value:function r(){return this.szUUID}},{key:"disconnect",value:function o(){}},{key:"sendRequest",value:function s(r){var o=this;var e=new Promise(function(e,t){var n=f["default"].v4();r.sequence=n;o.oRequestList[n]={resolve:e,reject:t};r.uuid=o.szUUID;r.timestamp=(new Date).getTime()+"";var i=JSON.stringify(r);if(o.oWebChannel){o.oWebChannel.receiveText(i)}else{t()}});return e}},{key:"parseCmd",value:function a(e){var t=e.cmd;var n=t.split(".");var i=n[1];if("window"===n[0]||"video"===n[0]){if(this.oWindowControlCallback[i]){this.oWindowControlCallback[i](e)}}}}]);return n}();return e}();i.WebChannelRequest=n}).call(this,r(1))},function(e,n,o){(function(){"use strict";var i,r,t,h,d,p={}.hasOwnProperty;i=o(90);r=o(19).defaults;h=function(e){return typeof e==="string"&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)};d=function(e){return"<![CDATA["+t(e)+"]]>"};t=function(e){return e.replace("]]>","]]]]><![CDATA[>")};n.Builder=function(){function e(e){var t,n,i;this.options={};n=r["0.2"];for(t in n){if(!p.call(n,t))continue;i=n[t];this.options[t]=i}for(t in e){if(!p.call(e,t))continue;i=e[t];this.options[t]=i}}e.prototype.buildObject=function(e){var l,f,c,t,n;l=this.options.attrkey;f=this.options.charkey;if(Object.keys(e).length===1&&this.options.rootName===r["0.2"].rootName){n=Object.keys(e)[0];e=e[n]}else{n=this.options.rootName}c=function(u){return function(e,t){var n,i,r,o,s,a;if(typeof t!=="object"){if(u.options.cdata&&h(t)){e.raw(d(t))}else{e.txt(t)}}else if(Array.isArray(t)){for(o in t){if(!p.call(t,o))continue;i=t[o];for(s in i){r=i[s];e=c(e.ele(s),r).up()}}}else{for(s in t){if(!p.call(t,s))continue;i=t[s];if(s===l){if(typeof i==="object"){for(n in i){a=i[n];e=e.att(n,a)}}}else if(s===f){if(u.options.cdata&&h(i)){e=e.raw(d(i))}else{e=e.txt(i)}}else if(Array.isArray(i)){for(o in i){if(!p.call(i,o))continue;r=i[o];if(typeof r==="string"){if(u.options.cdata&&h(r)){e=e.ele(s).raw(d(r)).up()}else{e=e.ele(s,r).up()}}else{e=c(e.ele(s),r).up()}}}else if(typeof i==="object"){e=c(e.ele(s),i).up()}else{if(typeof i==="string"&&u.options.cdata&&h(i)){e=e.ele(s).raw(d(i)).up()}else{if(i==null){i=""}e=e.ele(s,i.toString()).up()}}}}return e}}(this);t=i.create(n,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars});return c(t,e).end(this.options.renderOpts)};return e}()}).call(this)},function(f,e,c){(function(){var e,t,n,s,r,i,o,a,u,l;l=c(3),a=l.assign,u=l.isFunction;n=c(46);s=c(47);r=c(96);o=c(33);i=c(97);e=c(0);t=c(12);f.exports.create=function(e,t,n,i){var r,o;if(e==null){throw new Error("Root element needs a name.")}i=a({},t,n,i);r=new s(i);o=r.element(e);if(!i.headless){r.declaration(i);if(i.pubID!=null||i.sysID!=null){r.dtd(i)}}return o};f.exports.begin=function(e,t,n){var i;if(u(e)){i=[e,t],t=i[0],n=i[1];e={}}if(t){return new r(e,t,n)}else{return new s(e)}};f.exports.stringWriter=function(e){return new o(e)};f.exports.streamWriter=function(e,t){return new i(e,t)};f.exports.implementation=new n;f.exports.nodeType=e;f.exports.writerState=t}).call(this)},function(i,e,r){(function(){var e,t,n;t=r(92);n=r(93);i.exports=e=function(){function e(){var e;this.defaultParams={"canonical-form":false,"cdata-sections":false,comments:false,"datatype-normalization":false,"element-content-whitespace":true,entities:true,"error-handler":new t,infoset:true,"validate-if-schema":false,namespaces:true,"namespace-declarations":true,"normalize-characters":false,"schema-location":"","schema-type":"","split-cdata-sections":true,validate:false,"well-formed":true};this.params=e=Object.create(this.defaultParams)}Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}});e.prototype.getParameter=function(e){if(this.params.hasOwnProperty(e)){return this.params[e]}else{return null}};e.prototype.canSetParameter=function(e,t){return true};e.prototype.setParameter=function(e,t){if(t!=null){return this.params[e]=t}else{return delete this.params[e]}};return e}()}).call(this)},function(t,e){(function(){var e;t.exports=e=function(){function e(){}e.prototype.handleError=function(e){throw new Error(e)};return e}()}).call(this)},function(t,e){(function(){var e;t.exports=e=function(){function e(e){this.arr=e||[]}Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}});e.prototype.item=function(e){return this.arr[e]||null};e.prototype.contains=function(e){return this.arr.indexOf(e)!==-1};return e}()}).call(this)},function(t,e){(function(){var e;t.exports=e=function(){function e(e){this.nodes=e}Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}});e.prototype.clone=function(){return this.nodes=null};e.prototype.item=function(e){return this.nodes[e]||null};return e}()}).call(this)},function(e,t){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},function(k,e,T){(function(){var l,o,r,n,i,s,a,u,f,c,h,d,e,p,v,m,y,g,S,w,P,_,b,t,C={}.hasOwnProperty;t=T(3),_=t.isObject,P=t.isFunction,b=t.isPlainObject,w=t.getValue;l=T(0);d=T(47);p=T(20);n=T(22);i=T(23);m=T(30);S=T(31);v=T(32);c=T(24);h=T(25);s=T(26);u=T(27);a=T(28);f=T(29);r=T(48);g=T(50);y=T(33);o=T(12);k.exports=e=function(){function e(e,t,n){var i;this.name="?xml";this.type=l.Document;e||(e={});i={};if(!e.writer){e.writer=new y}else if(b(e.writer)){i=e.writer;e.writer=new y}this.options=e;this.writer=e.writer;this.writerOptions=this.writer.filterOptions(i);this.stringify=new g(e);this.onDataCallback=t||function(){};this.onEndCallback=n||function(){};this.currentNode=null;this.currentLevel=-1;this.openTags={};this.documentStarted=false;this.documentCompleted=false;this.root=null}e.prototype.createChildNode=function(e){var t,n,i,r,o,s,a,u;switch(e.type){case l.CData:this.cdata(e.value);break;case l.Comment:this.comment(e.value);break;case l.Element:i={};a=e.attribs;for(n in a){if(!C.call(a,n))continue;t=a[n];i[n]=t.value}this.node(e.name,i);break;case l.Dummy:this.dummy();break;case l.Raw:this.raw(e.value);break;case l.Text:this.text(e.value);break;case l.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}u=e.children;for(o=0,s=u.length;o<s;o++){r=u[o];this.createChildNode(r);if(r.type===l.Element){this.up()}}return this};e.prototype.dummy=function(){return this};e.prototype.node=function(e,t,n){var i;if(e==null){throw new Error("Missing node name.")}if(this.root&&this.currentLevel===-1){throw new Error("Document can only have one root node. "+this.debugInfo(e))}this.openCurrent();e=w(e);if(t==null){t={}}t=w(t);if(!_(t)){i=[t,n],n=i[0],t=i[1]}this.currentNode=new p(this,e,t);this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;if(n!=null){this.text(n)}return this};e.prototype.element=function(e,t,n){var i,r,o,s,a,u;if(this.currentNode&&this.currentNode.type===l.DocType){this.dtdElement.apply(this,arguments)}else{if(Array.isArray(e)||_(e)||P(e)){s=this.options.noValidation;this.options.noValidation=true;u=new d(this.options).element("TEMP_ROOT");u.element(e);this.options.noValidation=s;a=u.children;for(r=0,o=a.length;r<o;r++){i=a[r];this.createChildNode(i);if(i.type===l.Element){this.up()}}}else{this.node(e,t,n)}}return this};e.prototype.attribute=function(e,t){var n,i;if(!this.currentNode||this.currentNode.children){throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e))}if(e!=null){e=w(e)}if(_(e)){for(n in e){if(!C.call(e,n))continue;i=e[n];this.attribute(n,i)}}else{if(P(t)){t=t.apply()}if(this.options.keepNullAttributes&&t==null){this.currentNode.attribs[e]=new r(this,e,"")}else if(t!=null){this.currentNode.attribs[e]=new r(this,e,t)}}return this};e.prototype.text=function(e){var t;this.openCurrent();t=new S(this,e);this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.cdata=function(e){var t;this.openCurrent();t=new n(this,e);this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.comment=function(e){var t;this.openCurrent();t=new i(this,e);this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.raw=function(e){var t;this.openCurrent();t=new m(this,e);this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.instruction=function(e,t){var n,i,r,o,s;this.openCurrent();if(e!=null){e=w(e)}if(t!=null){t=w(t)}if(Array.isArray(e)){for(n=0,o=e.length;n<o;n++){i=e[n];this.instruction(i)}}else if(_(e)){for(i in e){if(!C.call(e,i))continue;r=e[i];this.instruction(i,r)}}else{if(P(t)){t=t.apply()}s=new v(this,e,t);this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1)}return this};e.prototype.declaration=function(e,t,n){var i;this.openCurrent();if(this.documentStarted){throw new Error("declaration() must be the first node.")}i=new c(this,e,t,n);this.onData(this.writer.declaration(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.doctype=function(e,t,n){this.openCurrent();if(e==null){throw new Error("Missing root node name.")}if(this.root){throw new Error("dtd() must come before the root node.")}this.currentNode=new h(this,t,n);this.currentNode.rootNodeName=e;this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;return this};e.prototype.dtdElement=function(e,t){var n;this.openCurrent();n=new a(this,e,t);this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.attList=function(e,t,n,i,r){var o;this.openCurrent();o=new s(this,e,t,n,i,r);this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.entity=function(e,t){var n;this.openCurrent();n=new u(this,false,e,t);this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.pEntity=function(e,t){var n;this.openCurrent();n=new u(this,true,e,t);this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.notation=function(e,t){var n;this.openCurrent();n=new f(this,e,t);this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};e.prototype.up=function(){if(this.currentLevel<0){throw new Error("The document node has no parent.")}if(this.currentNode){if(this.currentNode.children){this.closeNode(this.currentNode)}else{this.openNode(this.currentNode)}this.currentNode=null}else{this.closeNode(this.openTags[this.currentLevel])}delete this.openTags[this.currentLevel];this.currentLevel--;return this};e.prototype.end=function(){while(this.currentLevel>=0){this.up()}return this.onEnd()};e.prototype.openCurrent=function(){if(this.currentNode){this.currentNode.children=true;return this.openNode(this.currentNode)}};e.prototype.openNode=function(e){var t,n,i,r;if(!e.isOpen){if(!this.root&&this.currentLevel===0&&e.type===l.Element){this.root=e}n="";if(e.type===l.Element){this.writerOptions.state=o.OpenTag;n=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name;r=e.attribs;for(i in r){if(!C.call(r,i))continue;t=r[i];n+=this.writer.attribute(t,this.writerOptions,this.currentLevel)}n+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel);this.writerOptions.state=o.InsideTag}else{this.writerOptions.state=o.OpenTag;n=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName;if(e.pubID&&e.sysID){n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){n+=' SYSTEM "'+e.sysID+'"'}if(e.children){n+=" [";this.writerOptions.state=o.InsideTag}else{this.writerOptions.state=o.CloseTag;n+=">"}n+=this.writer.endline(e,this.writerOptions,this.currentLevel)}this.onData(n,this.currentLevel);return e.isOpen=true}};e.prototype.closeNode=function(e){var t;if(!e.isClosed){t="";this.writerOptions.state=o.CloseTag;if(e.type===l.Element){t=this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel)}else{t=this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel)}this.writerOptions.state=o.None;this.onData(t,this.currentLevel);return e.isClosed=true}};e.prototype.onData=function(e,t){this.documentStarted=true;return this.onDataCallback(e,t+1)};e.prototype.onEnd=function(){this.documentCompleted=true;return this.onEndCallback()};e.prototype.debugInfo=function(e){if(e==null){return""}else{return"node: <"+e+">"}};e.prototype.ele=function(){return this.element.apply(this,arguments)};e.prototype.nod=function(e,t,n){return this.node(e,t,n)};e.prototype.txt=function(e){return this.text(e)};e.prototype.dat=function(e){return this.cdata(e)};e.prototype.com=function(e){return this.comment(e)};e.prototype.ins=function(e,t){return this.instruction(e,t)};e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)};e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)};e.prototype.e=function(e,t,n){return this.element(e,t,n)};e.prototype.n=function(e,t,n){return this.node(e,t,n)};e.prototype.t=function(e){return this.text(e)};e.prototype.d=function(e){return this.cdata(e)};e.prototype.c=function(e){return this.comment(e)};e.prototype.r=function(e){return this.raw(e)};e.prototype.i=function(e,t){return this.instruction(e,t)};e.prototype.att=function(){if(this.currentNode&&this.currentNode.type===l.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};e.prototype.a=function(){if(this.currentNode&&this.currentNode.type===l.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};e.prototype.ent=function(e,t){return this.entity(e,t)};e.prototype.pent=function(e,t){return this.pEntity(e,t)};e.prototype.not=function(e,t){return this.notation(e,t)};return e}()}).call(this)},function(i,e,r){(function(){var d,p,e,t,n=function(e,t){for(var n in t){if(v.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},v={}.hasOwnProperty;d=r(0);t=r(51);p=r(12);i.exports=e=function(e){n(i,e);function i(e,t){this.stream=e;i.__super__.constructor.call(this,t)}i.prototype.endline=function(e,t,n){if(e.isLastRootNode&&t.state===p.CloseTag){return""}else{return i.__super__.endline.call(this,e,t,n)}};i.prototype.document=function(e,t){var n,i,r,o,s,a,u,l,f;u=e.children;for(i=r=0,s=u.length;r<s;i=++r){n=u[i];n.isLastRootNode=i===e.children.length-1}t=this.filterOptions(t);l=e.children;f=[];for(o=0,a=l.length;o<a;o++){n=l[o];f.push(this.writeChildNode(n,t,0))}return f};i.prototype.attribute=function(e,t,n){return this.stream.write(i.__super__.attribute.call(this,e,t,n))};i.prototype.cdata=function(e,t,n){return this.stream.write(i.__super__.cdata.call(this,e,t,n))};i.prototype.comment=function(e,t,n){return this.stream.write(i.__super__.comment.call(this,e,t,n))};i.prototype.declaration=function(e,t,n){return this.stream.write(i.__super__.declaration.call(this,e,t,n))};i.prototype.docType=function(e,t,n){var i,r,o,s;n||(n=0);this.openNode(e,t,n);t.state=p.OpenTag;this.stream.write(this.indent(e,t,n));this.stream.write("<!DOCTYPE "+e.root().name);if(e.pubID&&e.sysID){this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"')}else if(e.sysID){this.stream.write(' SYSTEM "'+e.sysID+'"')}if(e.children.length>0){this.stream.write(" [");this.stream.write(this.endline(e,t,n));t.state=p.InsideTag;s=e.children;for(r=0,o=s.length;r<o;r++){i=s[r];this.writeChildNode(i,t,n+1)}t.state=p.CloseTag;this.stream.write("]")}t.state=p.CloseTag;this.stream.write(t.spaceBeforeSlash+">");this.stream.write(this.endline(e,t,n));t.state=p.None;return this.closeNode(e,t,n)};i.prototype.element=function(e,t,n){var i,r,o,s,a,u,l,f,c,h;n||(n=0);this.openNode(e,t,n);t.state=p.OpenTag;this.stream.write(this.indent(e,t,n)+"<"+e.name);c=e.attribs;for(l in c){if(!v.call(c,l))continue;i=c[l];this.attribute(i,t,n)}o=e.children.length;s=o===0?null:e.children[0];if(o===0||e.children.every(function(e){return(e.type===d.Text||e.type===d.Raw)&&e.value===""})){if(t.allowEmpty){this.stream.write(">");t.state=p.CloseTag;this.stream.write("</"+e.name+">")}else{t.state=p.CloseTag;this.stream.write(t.spaceBeforeSlash+"/>")}}else if(t.pretty&&o===1&&(s.type===d.Text||s.type===d.Raw)&&s.value!=null){this.stream.write(">");t.state=p.InsideTag;t.suppressPrettyCount++;f=true;this.writeChildNode(s,t,n+1);t.suppressPrettyCount--;f=false;t.state=p.CloseTag;this.stream.write("</"+e.name+">")}else{this.stream.write(">"+this.endline(e,t,n));t.state=p.InsideTag;h=e.children;for(a=0,u=h.length;a<u;a++){r=h[a];this.writeChildNode(r,t,n+1)}t.state=p.CloseTag;this.stream.write(this.indent(e,t,n)+"</"+e.name+">")}this.stream.write(this.endline(e,t,n));t.state=p.None;return this.closeNode(e,t,n)};i.prototype.processingInstruction=function(e,t,n){return this.stream.write(i.__super__.processingInstruction.call(this,e,t,n))};i.prototype.raw=function(e,t,n){return this.stream.write(i.__super__.raw.call(this,e,t,n))};i.prototype.text=function(e,t,n){return this.stream.write(i.__super__.text.call(this,e,t,n))};i.prototype.dtdAttList=function(e,t,n){return this.stream.write(i.__super__.dtdAttList.call(this,e,t,n))};i.prototype.dtdElement=function(e,t,n){return this.stream.write(i.__super__.dtdElement.call(this,e,t,n))};i.prototype.dtdEntity=function(e,t,n){return this.stream.write(i.__super__.dtdEntity.call(this,e,t,n))};i.prototype.dtdNotation=function(e,t,n){return this.stream.write(i.__super__.dtdNotation.call(this,e,t,n))};return i}(t)}).call(this)},function(e,l,t){(function(){"use strict";var r,o,e,d,p,s,i,a,u=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){for(var n in t){if(v.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e},v={}.hasOwnProperty;i=t(99);e=t(13);r=t(113);s=t(58);a=t(56).setImmediate;o=t(19).defaults;d=function(e){return typeof e==="object"&&e!=null&&Object.keys(e).length===0};p=function(e,t,n){var i,r,o;for(i=0,r=e.length;i<r;i++){o=e[i];t=o(t,n)}return t};l.Parser=function(e){n(t,e);function t(e){this.parseStringPromise=u(this.parseStringPromise,this);this.parseString=u(this.parseString,this);this.reset=u(this.reset,this);this.assignOrPush=u(this.assignOrPush,this);this.processAsync=u(this.processAsync,this);var t,n,i;if(!(this instanceof l.Parser)){return new l.Parser(e)}this.options={};n=o["0.2"];for(t in n){if(!v.call(n,t))continue;i=n[t];this.options[t]=i}for(t in e){if(!v.call(e,t))continue;i=e[t];this.options[t]=i}if(this.options.xmlns){this.options.xmlnskey=this.options.attrkey+"ns"}if(this.options.normalizeTags){if(!this.options.tagNameProcessors){this.options.tagNameProcessors=[]}this.options.tagNameProcessors.unshift(s.normalize)}this.reset()}t.prototype.processAsync=function(){var e,t;try{if(this.remaining.length<=this.options.chunkSize){e=this.remaining;this.remaining="";this.saxParser=this.saxParser.write(e);return this.saxParser.close()}else{e=this.remaining.substr(0,this.options.chunkSize);this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length);this.saxParser=this.saxParser.write(e);return a(this.processAsync)}}catch(n){t=n;if(!this.saxParser.errThrown){this.saxParser.errThrown=true;return this.emit(t)}}};t.prototype.assignOrPush=function(e,t,n){if(!(t in e)){if(!this.options.explicitArray){return e[t]=n}else{return e[t]=[n]}}else{if(!(e[t]instanceof Array)){e[t]=[e[t]]}return e[t].push(n)}};t.prototype.reset=function(){var a,c,n,h;this.removeAllListeners();this.saxParser=i.parser(this.options.strict,{trim:false,normalize:false,xmlns:this.options.xmlns});this.saxParser.errThrown=false;this.saxParser.onerror=function(t){return function(e){t.saxParser.resume();if(!t.saxParser.errThrown){t.saxParser.errThrown=true;return t.emit("error",e)}}}(this);this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended){e.saxParser.ended=true;return e.emit("end",e.resultObject)}}}(this);this.saxParser.ended=false;this.EXPLICIT_CHARKEY=this.options.explicitCharkey;this.resultObject=null;h=[];a=this.options.attrkey;c=this.options.charkey;this.saxParser.onopentag=function(s){return function(e){var t,n,i,r,o;i={};i[c]="";if(!s.options.ignoreAttrs){o=e.attributes;for(t in o){if(!v.call(o,t))continue;if(!(a in i)&&!s.options.mergeAttrs){i[a]={}}n=s.options.attrValueProcessors?p(s.options.attrValueProcessors,e.attributes[t],t):e.attributes[t];r=s.options.attrNameProcessors?p(s.options.attrNameProcessors,t):t;if(s.options.mergeAttrs){s.assignOrPush(i,r,n)}else{i[a][r]=n}}}i["#name"]=s.options.tagNameProcessors?p(s.options.tagNameProcessors,e.name):e.name;if(s.options.xmlns){i[s.options.xmlnskey]={uri:e.uri,local:e.local}}return h.push(i)}}(this);this.saxParser.onclosetag=function(f){return function(){var e,t,n,i,r,o,s,a,u,l;o=h.pop();r=o["#name"];if(!f.options.explicitChildren||!f.options.preserveChildrenOrder){delete o["#name"]}if(o.cdata===true){e=o.cdata;delete o.cdata}u=h[h.length-1];if(o[c].match(/^\s*$/)&&!e){t=o[c];delete o[c]}else{if(f.options.trim){o[c]=o[c].trim()}if(f.options.normalize){o[c]=o[c].replace(/\s{2,}/g," ").trim()}o[c]=f.options.valueProcessors?p(f.options.valueProcessors,o[c],r):o[c];if(Object.keys(o).length===1&&c in o&&!f.EXPLICIT_CHARKEY){o=o[c]}}if(d(o)){o=f.options.emptyTag!==""?f.options.emptyTag:t}if(f.options.validator!=null){l="/"+function(){var e,t,n;n=[];for(e=0,t=h.length;e<t;e++){i=h[e];n.push(i["#name"])}return n}().concat(r).join("/");(function(){var e;try{return o=f.options.validator(l,u&&u[r],o)}catch(t){e=t;return f.emit("error",e)}})()}if(f.options.explicitChildren&&!f.options.mergeAttrs&&typeof o==="object"){if(!f.options.preserveChildrenOrder){i={};if(f.options.attrkey in o){i[f.options.attrkey]=o[f.options.attrkey];delete o[f.options.attrkey]}if(!f.options.charsAsChildren&&f.options.charkey in o){i[f.options.charkey]=o[f.options.charkey];delete o[f.options.charkey]}if(Object.getOwnPropertyNames(o).length>0){i[f.options.childkey]=o}o=i}else if(u){u[f.options.childkey]=u[f.options.childkey]||[];s={};for(n in o){if(!v.call(o,n))continue;s[n]=o[n]}u[f.options.childkey].push(s);delete o["#name"];if(Object.keys(o).length===1&&c in o&&!f.EXPLICIT_CHARKEY){o=o[c]}}}if(h.length>0){return f.assignOrPush(u,r,o)}else{if(f.options.explicitRoot){a=o;o={};o[r]=a}f.resultObject=o;f.saxParser.ended=true;return f.emit("end",f.resultObject)}}}(this);n=function(i){return function(e){var t,n;n=h[h.length-1];if(n){n[c]+=e;if(i.options.explicitChildren&&i.options.preserveChildrenOrder&&i.options.charsAsChildren&&(i.options.includeWhiteChars||e.replace(/\\n/g,"").trim()!=="")){n[i.options.childkey]=n[i.options.childkey]||[];t={"#name":"__text__"};t[c]=e;if(i.options.normalize){t[c]=t[c].replace(/\s{2,}/g," ").trim()}n[i.options.childkey].push(t)}return n}}}(this);this.saxParser.ontext=n;return this.saxParser.oncdata=function(e){return function(e){var t;t=n(e);if(t){return t.cdata=true}}}(this)};t.prototype.parseString=function(e,t){var n;if(t!=null&&typeof t==="function"){this.on("end",function(e){this.reset();return t(null,e)});this.on("error",function(e){this.reset();return t(e)})}try{e=e.toString();if(e.trim()===""){this.emit("end",null);return true}e=r.stripBOM(e);if(this.options["async"]){this.remaining=e;a(this.processAsync);return this.saxParser}return this.saxParser.write(e).close()}catch(i){n=i;if(!(this.saxParser.errThrown||this.saxParser.ended)){this.emit("error",n);return this.saxParser.errThrown=true}else if(this.saxParser.ended){throw n}}};t.prototype.parseStringPromise=function(t){return new Promise(function(e){return function(n,i){return e.parseString(t,function(e,t){if(e){return i(e)}else{return n(t)}})}}(this))};return t}(e);l.parseString=function(e,t,n){var i,r,o;if(n!=null){if(typeof n==="function"){i=n}if(typeof t==="object"){r=t}}else{if(typeof t==="function"){i=t}r={}}o=new l.Parser(r);return o.parseString(e,i)};l.parseStringPromise=function(e,t){var n,i;if(typeof t==="object"){n=t}i=new l.Parser(n);return i.parseStringPromise(e)}}).call(this)},function(e,t,H){(function(U){(function(l){l.parser=function(e,t){return new i(e,t)};l.SAXParser=i;l.SAXStream=u;l.createStream=t;l.MAX_BUFFER_LENGTH=64*1024;var a=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];l.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(e,t){if(!(this instanceof i)){return new i(e,t)}var n=this;r(n);n.q=n.c="";n.bufferCheckPosition=l.MAX_BUFFER_LENGTH;n.opt=t||{};n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags;n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase";n.tags=[];n.closed=n.closedRoot=n.sawRoot=false;n.tag=n.error=null;n.strict=!!e;n.noscript=!!(e||n.opt.noscript);n.state=P.BEGIN;n.strictEntities=n.opt.strictEntities;n.ENTITIES=n.strictEntities?Object.create(l.XML_ENTITIES):Object.create(l.ENTITIES);n.attribList=[];if(n.opt.xmlns){n.ns=Object.create(v)}if(n.opt.unquotedAttributeValues===undefined){n.opt.unquotedAttributeValues=!e}n.trackPosition=n.opt.position!==false;if(n.trackPosition){n.position=n.line=n.column=0}_(n,"onready")}if(!Object.create){Object.create=function(e){function t(){}t.prototype=e;var n=new t;return n}}if(!Object.keys){Object.keys=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))t.push(n);return t}}function f(e){var t=Math.max(l.MAX_BUFFER_LENGTH,10);var n=0;for(var i=0,r=a.length;i<r;i++){var o=e[a[i]].length;if(o>t){switch(a[i]){case"textNode":C(e);break;case"cdata":b(e,"oncdata",e.cdata);e.cdata="";break;case"script":b(e,"onscript",e.script);e.script="";break;default:T(e,"Max buffer length exceeded: "+a[i])}}n=Math.max(n,o)}var s=l.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=s+e.position}function r(e){for(var t=0,n=a.length;t<n;t++){e[a[t]]=""}}function e(e){C(e);if(e.cdata!==""){b(e,"oncdata",e.cdata);e.cdata=""}if(e.script!==""){b(e,"onscript",e.script);e.script=""}}i.prototype={end:function(){R(this)},write:J,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){e(this)}};var o;try{o=H(102).Stream}catch(L){o=function(){}}if(!o)o=function(){};var s=l.EVENTS.filter(function(e){return e!=="error"&&e!=="end"});function t(e,t){return new u(e,t)}function u(e,t){if(!(this instanceof u)){return new u(e,t)}o.apply(this);this._parser=new i(e,t);this.writable=true;this.readable=true;var n=this;this._parser.onend=function(){n.emit("end")};this._parser.onerror=function(e){n.emit("error",e);n._parser.error=null};this._decoder=null;s.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e){n.removeAllListeners(t);n._parser["on"+t]=e;return e}n.on(t,e)},enumerable:true,configurable:false})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}});u.prototype.write=function(e){if(typeof U==="function"&&typeof U.isBuffer==="function"&&U.isBuffer(e)){if(!this._decoder){var t=H(37).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}this._parser.write(e.toString());this.emit("data",e);return true};u.prototype.end=function(e){if(e&&e.length){this.write(e)}this._parser.end();return true};u.prototype.on=function(t,e){var n=this;if(!n._parser["on"+t]&&s.indexOf(t)!==-1){n._parser["on"+t]=function(){var e=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t);n.emit.apply(n,e)}}return o.prototype.on.call(n,t,e)};var c="[CDATA[";var h="DOCTYPE";var d="http://www.w3.org/XML/1998/namespace";var p="http://www.w3.org/2000/xmlns/";var v={xml:d,xmlns:p};var m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;var M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var F=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(e){return e===" "||e==="\n"||e==="\r"||e==="\t"}function S(e){return e==='"'||e==="'"}function W(e){return e===">"||g(e)}function w(e,t){return e.test(t)}function B(e,t){return!w(e,t)}var P=0;l.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++};l.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};l.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(l.ENTITIES).forEach(function(e){var t=l.ENTITIES[e];var n=typeof t==="number"?String.fromCharCode(t):t;l.ENTITIES[e]=n});for(var n in l.STATE){l.STATE[l.STATE[n]]=n}P=l.STATE;function _(e,t,n){e[t]&&e[t](n)}function b(e,t,n){if(e.textNode)C(e);_(e,t,n)}function C(e){e.textNode=k(e.opt,e.textNode);if(e.textNode)_(e,"ontext",e.textNode);e.textNode=""}function k(e,t){if(e.trim)t=t.trim();if(e.normalize)t=t.replace(/\s+/g," ");return t}function T(e,t){C(e);if(e.trackPosition){t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c}t=new Error(t);e.error=t;_(e,"onerror",t);return e}function R(e){if(e.sawRoot&&!e.closedRoot)x(e,"Unclosed root tag");if(e.state!==P.BEGIN&&e.state!==P.BEGIN_WHITESPACE&&e.state!==P.TEXT){T(e,"Unexpected end")}C(e);e.c="";e.closed=true;_(e,"onend");i.call(e,e.strict,e.opt);return e}function x(e,t){if(typeof e!=="object"||!(e instanceof i)){throw new Error("bad call to strictFail")}if(e.strict){T(e,t)}}function N(e){if(!e.strict)e.tagName=e.tagName[e.looseCase]();var t=e.tags[e.tags.length-1]||e;var n=e.tag={name:e.tagName,attributes:{}};if(e.opt.xmlns){n.ns=t.ns}e.attribList.length=0;b(e,"onopentagstart",n)}function I(e,t){var n=e.indexOf(":");var i=n<0?["",e]:e.split(":");var r=i[0];var o=i[1];if(t&&e==="xmlns"){r="xmlns";o=""}return{prefix:r,local:o}}function D(e){if(!e.strict){e.attribName=e.attribName[e.looseCase]()}if(e.attribList.indexOf(e.attribName)!==-1||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=I(e.attribName,true);var n=t.prefix;var i=t.local;if(n==="xmlns"){if(i==="xml"&&e.attribValue!==d){x(e,"xml: prefix must be bound to "+d+"\n"+"Actual: "+e.attribValue)}else if(i==="xmlns"&&e.attribValue!==p){x(e,"xmlns: prefix must be bound to "+p+"\n"+"Actual: "+e.attribValue)}else{var r=e.tag;var o=e.tags[e.tags.length-1]||e;if(r.ns===o.ns){r.ns=Object.create(o.ns)}r.ns[i]=e.attribValue}}e.attribList.push([e.attribName,e.attribValue])}else{e.tag.attributes[e.attribName]=e.attribValue;b(e,"onattribute",{name:e.attribName,value:e.attribValue})}e.attribName=e.attribValue=""}function E(t,e){if(t.opt.xmlns){var n=t.tag;var i=I(t.tagName);n.prefix=i.prefix;n.local=i.local;n.uri=n.ns[i.prefix]||"";if(n.prefix&&!n.uri){x(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName));n.uri=i.prefix}var r=t.tags[t.tags.length-1]||t;if(n.ns&&r.ns!==n.ns){Object.keys(n.ns).forEach(function(e){b(t,"onopennamespace",{prefix:e,uri:n.ns[e]})})}for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o];var u=a[0];var l=a[1];var f=I(u,true);var c=f.prefix;var h=f.local;var d=c===""?"":n.ns[c]||"";var p={name:u,value:l,prefix:c,local:h,uri:d};if(c&&c!=="xmlns"&&!d){x(t,"Unbound namespace prefix: "+JSON.stringify(c));p.uri=c}t.tag.attributes[u]=p;b(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e;t.sawRoot=true;t.tags.push(t.tag);b(t,"onopentag",t.tag);if(!e){if(!t.noscript&&t.tagName.toLowerCase()==="script"){t.state=P.SCRIPT}else{t.state=P.TEXT}t.tag=null;t.tagName=""}t.attribName=t.attribValue="";t.attribList.length=0}function q(n){if(!n.tagName){x(n,"Weird empty close tag.");n.textNode+="</>";n.state=P.TEXT;return}if(n.script){if(n.tagName!=="script"){n.script+="</"+n.tagName+">";n.tagName="";n.state=P.SCRIPT;return}b(n,"onscript",n.script);n.script=""}var e=n.tags.length;var t=n.tagName;if(!n.strict){t=t[n.looseCase]()}var i=t;while(e--){var r=n.tags[e];if(r.name!==i){x(n,"Unexpected close tag")}else{break}}if(e<0){x(n,"Unmatched closing tag: "+n.tagName);n.textNode+="</"+n.tagName+">";n.state=P.TEXT;return}n.tagName=t;var o=n.tags.length;while(o-- >e){var s=n.tag=n.tags.pop();n.tagName=n.tag.name;b(n,"onclosetag",n.tagName);var a={};for(var u in s.ns){a[u]=s.ns[u]}var l=n.tags[n.tags.length-1]||n;if(n.opt.xmlns&&s.ns!==l.ns){Object.keys(s.ns).forEach(function(e){var t=s.ns[e];b(n,"onclosenamespace",{prefix:e,uri:t})})}}if(e===0)n.closedRoot=true;n.tagName=n.attribValue=n.attribName="";n.attribList.length=0;n.state=P.TEXT}function z(e){var t=e.entity;var n=t.toLowerCase();var i;var r="";if(e.ENTITIES[t]){return e.ENTITIES[t]}if(e.ENTITIES[n]){return e.ENTITIES[n]}t=n;if(t.charAt(0)==="#"){if(t.charAt(1)==="x"){t=t.slice(2);i=parseInt(t,16);r=i.toString(16)}else{t=t.slice(1);i=parseInt(t,10);r=i.toString(10)}}t=t.replace(/^0+/,"");if(isNaN(i)||r.toLowerCase()!==t){x(e,"Invalid character entity");return"&"+e.entity+";"}return String.fromCodePoint(i)}function O(e,t){if(t==="<"){e.state=P.OPEN_WAKA;e.startTagPosition=e.position}else if(!g(t)){x(e,"Non-whitespace before first tag.");e.textNode=t;e.state=P.TEXT}}function A(e,t){var n="";if(t<e.length){n=e.charAt(t)}return n}function J(e){var t=this;if(this.error){throw this.error}if(t.closed){return T(t,"Cannot write after close. Assign an onready handler.")}if(e===null){return R(t)}if(typeof e==="object"){e=e.toString()}var n=0;var i="";while(true){i=A(e,n++);t.c=i;if(!i){break}if(t.trackPosition){t.position++;if(i==="\n"){t.line++;t.column=0}else{t.column++}}switch(t.state){case P.BEGIN:t.state=P.BEGIN_WHITESPACE;if(i==="\ufeff"){continue}O(t,i);continue;case P.BEGIN_WHITESPACE:O(t,i);continue;case P.TEXT:if(t.sawRoot&&!t.closedRoot){var r=n-1;while(i&&i!=="<"&&i!=="&"){i=A(e,n++);if(i&&t.trackPosition){t.position++;if(i==="\n"){t.line++;t.column=0}else{t.column++}}}t.textNode+=e.substring(r,n-1)}if(i==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)){t.state=P.OPEN_WAKA;t.startTagPosition=t.position}else{if(!g(i)&&(!t.sawRoot||t.closedRoot)){x(t,"Text data outside of root node.")}if(i==="&"){t.state=P.TEXT_ENTITY}else{t.textNode+=i}}continue;case P.SCRIPT:if(i==="<"){t.state=P.SCRIPT_ENDING}else{t.script+=i}continue;case P.SCRIPT_ENDING:if(i==="/"){t.state=P.CLOSE_TAG}else{t.script+="<"+i;t.state=P.SCRIPT}continue;case P.OPEN_WAKA:if(i==="!"){t.state=P.SGML_DECL;t.sgmlDecl=""}else if(g(i)){}else if(w(m,i)){t.state=P.OPEN_TAG;t.tagName=i}else if(i==="/"){t.state=P.CLOSE_TAG;t.tagName=""}else if(i==="?"){t.state=P.PROC_INST;t.procInstName=t.procInstBody=""}else{x(t,"Unencoded <");if(t.startTagPosition+1<t.position){var o=t.position-t.startTagPosition;i=new Array(o).join(" ")+i}t.textNode+="<"+i;t.state=P.TEXT}continue;case P.SGML_DECL:if(t.sgmlDecl+i==="--"){t.state=P.COMMENT;t.comment="";t.sgmlDecl="";continue}if(t.doctype&&t.doctype!==true&&t.sgmlDecl){t.state=P.DOCTYPE_DTD;t.doctype+="<!"+t.sgmlDecl+i;t.sgmlDecl=""}else if((t.sgmlDecl+i).toUpperCase()===c){b(t,"onopencdata");t.state=P.CDATA;t.sgmlDecl="";t.cdata=""}else if((t.sgmlDecl+i).toUpperCase()===h){t.state=P.DOCTYPE;if(t.doctype||t.sawRoot){x(t,"Inappropriately located doctype declaration")}t.doctype="";t.sgmlDecl=""}else if(i===">"){b(t,"onsgmldeclaration",t.sgmlDecl);t.sgmlDecl="";t.state=P.TEXT}else if(S(i)){t.state=P.SGML_DECL_QUOTED;t.sgmlDecl+=i}else{t.sgmlDecl+=i}continue;case P.SGML_DECL_QUOTED:if(i===t.q){t.state=P.SGML_DECL;t.q=""}t.sgmlDecl+=i;continue;case P.DOCTYPE:if(i===">"){t.state=P.TEXT;b(t,"ondoctype",t.doctype);t.doctype=true}else{t.doctype+=i;if(i==="["){t.state=P.DOCTYPE_DTD}else if(S(i)){t.state=P.DOCTYPE_QUOTED;t.q=i}}continue;case P.DOCTYPE_QUOTED:t.doctype+=i;if(i===t.q){t.q="";t.state=P.DOCTYPE}continue;case P.DOCTYPE_DTD:if(i==="]"){t.doctype+=i;t.state=P.DOCTYPE}else if(i==="<"){t.state=P.OPEN_WAKA;t.startTagPosition=t.position}else if(S(i)){t.doctype+=i;t.state=P.DOCTYPE_DTD_QUOTED;t.q=i}else{t.doctype+=i}continue;case P.DOCTYPE_DTD_QUOTED:t.doctype+=i;if(i===t.q){t.state=P.DOCTYPE_DTD;t.q=""}continue;case P.COMMENT:if(i==="-"){t.state=P.COMMENT_ENDING}else{t.comment+=i}continue;case P.COMMENT_ENDING:if(i==="-"){t.state=P.COMMENT_ENDED;t.comment=k(t.opt,t.comment);if(t.comment){b(t,"oncomment",t.comment)}t.comment=""}else{t.comment+="-"+i;t.state=P.COMMENT}continue;case P.COMMENT_ENDED:if(i!==">"){x(t,"Malformed comment");t.comment+="--"+i;t.state=P.COMMENT}else if(t.doctype&&t.doctype!==true){t.state=P.DOCTYPE_DTD}else{t.state=P.TEXT}continue;case P.CDATA:if(i==="]"){t.state=P.CDATA_ENDING}else{t.cdata+=i}continue;case P.CDATA_ENDING:if(i==="]"){t.state=P.CDATA_ENDING_2}else{t.cdata+="]"+i;t.state=P.CDATA}continue;case P.CDATA_ENDING_2:if(i===">"){if(t.cdata){b(t,"oncdata",t.cdata)}b(t,"onclosecdata");t.cdata="";t.state=P.TEXT}else if(i==="]"){t.cdata+="]"}else{t.cdata+="]]"+i;t.state=P.CDATA}continue;case P.PROC_INST:if(i==="?"){t.state=P.PROC_INST_ENDING}else if(g(i)){t.state=P.PROC_INST_BODY}else{t.procInstName+=i}continue;case P.PROC_INST_BODY:if(!t.procInstBody&&g(i)){continue}else if(i==="?"){t.state=P.PROC_INST_ENDING}else{t.procInstBody+=i}continue;case P.PROC_INST_ENDING:if(i===">"){b(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody});t.procInstName=t.procInstBody="";t.state=P.TEXT}else{t.procInstBody+="?"+i;t.state=P.PROC_INST_BODY}continue;case P.OPEN_TAG:if(w(y,i)){t.tagName+=i}else{N(t);if(i===">"){E(t)}else if(i==="/"){t.state=P.OPEN_TAG_SLASH}else{if(!g(i)){x(t,"Invalid character in tag name")}t.state=P.ATTRIB}}continue;case P.OPEN_TAG_SLASH:if(i===">"){E(t,true);q(t)}else{x(t,"Forward-slash in opening tag not followed by >");t.state=P.ATTRIB}continue;case P.ATTRIB:if(g(i)){continue}else if(i===">"){E(t)}else if(i==="/"){t.state=P.OPEN_TAG_SLASH}else if(w(m,i)){t.attribName=i;t.attribValue="";t.state=P.ATTRIB_NAME}else{x(t,"Invalid attribute name")}continue;case P.ATTRIB_NAME:if(i==="="){t.state=P.ATTRIB_VALUE}else if(i===">"){x(t,"Attribute without value");t.attribValue=t.attribName;D(t);E(t)}else if(g(i)){t.state=P.ATTRIB_NAME_SAW_WHITE}else if(w(y,i)){t.attribName+=i}else{x(t,"Invalid attribute name")}continue;case P.ATTRIB_NAME_SAW_WHITE:if(i==="="){t.state=P.ATTRIB_VALUE}else if(g(i)){continue}else{x(t,"Attribute without value");t.tag.attributes[t.attribName]="";t.attribValue="";b(t,"onattribute",{name:t.attribName,value:""});t.attribName="";if(i===">"){E(t)}else if(w(m,i)){t.attribName=i;t.state=P.ATTRIB_NAME}else{x(t,"Invalid attribute name");t.state=P.ATTRIB}}continue;case P.ATTRIB_VALUE:if(g(i)){continue}else if(S(i)){t.q=i;t.state=P.ATTRIB_VALUE_QUOTED}else{if(!t.opt.unquotedAttributeValues){T(t,"Unquoted attribute value")}t.state=P.ATTRIB_VALUE_UNQUOTED;t.attribValue=i}continue;case P.ATTRIB_VALUE_QUOTED:if(i!==t.q){if(i==="&"){t.state=P.ATTRIB_VALUE_ENTITY_Q}else{t.attribValue+=i}continue}D(t);t.q="";t.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:if(g(i)){t.state=P.ATTRIB}else if(i===">"){E(t)}else if(i==="/"){t.state=P.OPEN_TAG_SLASH}else if(w(m,i)){x(t,"No whitespace between attributes");t.attribName=i;t.attribValue="";t.state=P.ATTRIB_NAME}else{x(t,"Invalid attribute name")}continue;case P.ATTRIB_VALUE_UNQUOTED:if(!W(i)){if(i==="&"){t.state=P.ATTRIB_VALUE_ENTITY_U}else{t.attribValue+=i}continue}D(t);if(i===">"){E(t)}else{t.state=P.ATTRIB}continue;case P.CLOSE_TAG:if(!t.tagName){if(g(i)){continue}else if(B(m,i)){if(t.script){t.script+="</"+i;t.state=P.SCRIPT}else{x(t,"Invalid tagname in closing tag.")}}else{t.tagName=i}}else if(i===">"){q(t)}else if(w(y,i)){t.tagName+=i}else if(t.script){t.script+="</"+t.tagName;t.tagName="";t.state=P.SCRIPT}else{if(!g(i)){x(t,"Invalid tagname in closing tag")}t.state=P.CLOSE_TAG_SAW_WHITE}continue;case P.CLOSE_TAG_SAW_WHITE:if(g(i)){continue}if(i===">"){q(t)}else{x(t,"Invalid characters in closing tag")}continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var s;var a;switch(t.state){case P.TEXT_ENTITY:s=P.TEXT;a="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:s=P.ATTRIB_VALUE_QUOTED;a="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:s=P.ATTRIB_VALUE_UNQUOTED;a="attribValue";break}if(i===";"){var u=z(t);if(t.opt.unparsedEntities&&!Object.values(l.XML_ENTITIES).includes(u)){t.entity="";t.state=s;t.write(u)}else{t[a]+=u;t.entity="";t.state=s}}else if(w(t.entity.length?F:M,i)){t.entity+=i}else{x(t,"Invalid character in entity name");t[a]+="&"+t.entity+i;t.entity="";t.state=s}continue;default:{throw new Error(t,"Unknown state: "+t.state)}}}if(t.position>=t.bufferCheckPosition){f(t)}return t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint){(function(){var u=String.fromCharCode;var l=Math.floor;var e=function(){var e=16384;var t=[];var n;var i;var r=-1;var o=arguments.length;if(!o){return""}var s="";while(++r<o){var a=Number(arguments[r]);if(!isFinite(a)||a<0||a>1114111||l(a)!==a){throw RangeError("Invalid code point: "+a)}if(a<=65535){t.push(a)}else{a-=65536;n=(a>>10)+55296;i=a%1024+56320;t.push(n,i)}if(r+1===o||t.length>e){s+=u.apply(null,t);t.length=0}}return s};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:e,configurable:true,writable:true})}else{String.fromCodePoint=e}})()}})(false?undefined:t)}).call(this,H(34).Buffer)},function(e,t,n){"use strict";t.byteLength=s;t.toByteArray=a;t.fromByteArray=v;var u=[];var l=[];var f=typeof Uint8Array!=="undefined"?Uint8Array:Array;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var r=0,o=i.length;r<o;++r){u[r]=i[r];l[i.charCodeAt(r)]=r}l["-".charCodeAt(0)]=62;l["_".charCodeAt(0)]=63;function c(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var n=e.indexOf("=");if(n===-1)n=t;var i=n===t?0:4-n%4;return[n,i]}function s(e){var t=c(e);var n=t[0];var i=t[1];return(n+i)*3/4-i}function h(e,t,n){return(t+n)*3/4-n}function a(e){var t;var n=c(e);var i=n[0];var r=n[1];var o=new f(h(e,i,r));var s=0;var a=r>0?i-4:i;var u;for(u=0;u<a;u+=4){t=l[e.charCodeAt(u)]<<18|l[e.charCodeAt(u+1)]<<12|l[e.charCodeAt(u+2)]<<6|l[e.charCodeAt(u+3)];o[s++]=t>>16&255;o[s++]=t>>8&255;o[s++]=t&255}if(r===2){t=l[e.charCodeAt(u)]<<2|l[e.charCodeAt(u+1)]>>4;o[s++]=t&255}if(r===1){t=l[e.charCodeAt(u)]<<10|l[e.charCodeAt(u+1)]<<4|l[e.charCodeAt(u+2)]>>2;o[s++]=t>>8&255;o[s++]=t&255}return o}function d(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[e&63]}function p(e,t,n){var i;var r=[];for(var o=t;o<n;o+=3){i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255);r.push(d(i))}return r.join("")}function v(e){var t;var n=e.length;var i=n%3;var r=[];var o=16383;for(var s=0,a=n-i;s<a;s+=o){r.push(p(e,s,s+o>a?a:s+o))}if(i===1){t=e[n-1];r.push(u[t>>2]+u[t<<4&63]+"==")}else if(i===2){t=(e[n-2]<<8)+e[n-1];r.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")}return r.join("")}},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,s;var a=r*8-i-1;var u=(1<<a)-1;var l=u>>1;var f=-7;var c=n?r-1:0;var h=n?-1:1;var d=e[t+c];c+=h;o=d&(1<<-f)-1;d>>=-f;f+=a;for(;f>0;o=o*256+e[t+c],c+=h,f-=8){}s=o&(1<<-f)-1;o>>=-f;f+=i;for(;f>0;s=s*256+e[t+c],c+=h,f-=8){}if(o===0){o=1-l}else if(o===u){return s?NaN:(d?-1:1)*Infinity}else{s=s+Math.pow(2,i);o=o-l}return(d?-1:1)*s*Math.pow(2,o-i)};t.write=function(e,t,n,i,r,o){var s,a,u;var l=o*8-r-1;var f=(1<<l)-1;var c=f>>1;var h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=i?0:o-1;var p=i?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;s=f}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-s))<1){s--;u*=2}if(s+c>=1){t+=h/u}else{t+=h*Math.pow(2,1-c)}if(t*u>=2){s++;u/=2}if(s+c>=f){a=0;s=f}else if(s+c>=1){a=(t*u-1)*Math.pow(2,r);s=s+c}else{a=t*Math.pow(2,c-1)*Math.pow(2,r);s=0}}for(;r>=8;e[n+d]=a&255,d+=p,a/=256,r-=8){}s=s<<r|a;l+=r;for(;l>0;e[n+d]=s&255,d+=p,s/=256,l-=8){}e[n+d-p]|=v*128}},function(e,t,n){e.exports=r;var f=n(13).EventEmitter;var i=n(7);i(r,f);r.Readable=n(35);r.Writable=n(109);r.Duplex=n(110);r.Transform=n(111);r.PassThrough=n(112);r.Stream=r;function r(){f.call(this)}r.prototype.pipe=function(t,e){var n=this;function i(e){if(t.writable){if(false===t.write(e)&&n.pause){n.pause()}}}n.on("data",i);function r(){if(n.readable&&n.resume){n.resume()}}t.on("drain",r);if(!t._isStdio&&(!e||e.end!==false)){n.on("end",s);n.on("close",a)}var o=false;function s(){if(o)return;o=true;t.end()}function a(){if(o)return;o=true;if(typeof t.destroy==="function")t.destroy()}function u(e){l();if(f.listenerCount(this,"error")===0){throw e}}n.on("error",u);t.on("error",u);function l(){n.removeListener("data",i);t.removeListener("drain",r);n.removeListener("end",s);n.removeListener("close",a);n.removeListener("error",u);t.removeListener("error",u);n.removeListener("end",l);n.removeListener("close",l);t.removeListener("close",l)}n.on("end",l);n.on("close",l);t.on("close",l);t.emit("pipe",n);return t}},function(e,t){},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=n(16).Buffer;var i=n(105);function l(e,t,n){e.copy(t,n)}e.exports=function(){function e(){a(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function n(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length};e.prototype.unshift=function i(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length};e.prototype.shift=function t(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e};e.prototype.clear=function r(){this.head=this.tail=null;this.length=0};e.prototype.join=function o(e){if(this.length===0)return"";var t=this.head;var n=""+t.data;while(t=t.next){n+=e+t.data}return n};e.prototype.concat=function s(e){if(this.length===0)return u.alloc(0);var t=u.allocUnsafe(e>>>0);var n=this.head;var i=0;while(n){l(n.data,t,i);i+=n.data.length;n=n.next}return t};return e}();if(i&&i.inspect&&i.inspect.custom){e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e}}},function(e,t){},function(e,t,n){(function(e,g){(function(n,i){"use strict";if(n.setImmediate){return}var r=1;var o={};var s=false;var a=n.document;var u;function e(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var i={callback:e,args:t};o[r]=i;u(r);return r++}function l(e){delete o[e]}function f(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n);break}}function c(e){if(s){setTimeout(c,0,e)}else{var t=o[e];if(t){s=true;try{f(t)}finally{l(e);s=false}}}}function t(){u=function(e){g.nextTick(function(){c(e)})}}function h(){if(n.postMessage&&!n.importScripts){var e=true;var t=n.onmessage;n.onmessage=function(){e=false};n.postMessage("","*");n.onmessage=t;return e}}function d(){var t="setImmediate$"+Math.random()+"$";var e=function(e){if(e.source===n&&typeof e.data==="string"&&e.data.indexOf(t)===0){c(+e.data.slice(t.length))}};if(n.addEventListener){n.addEventListener("message",e,false)}else{n.attachEvent("onmessage",e)}u=function(e){n.postMessage(t+e,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(e){var t=e.data;c(t)};u=function(e){t.port2.postMessage(e)}}function v(){var n=a.documentElement;u=function(e){var t=a.createElement("script");t.onreadystatechange=function(){c(e);t.onreadystatechange=null;n.removeChild(t);t=null};n.appendChild(t)}}function m(){u=function(e){setTimeout(c,0,e)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(n);y=y&&y.setTimeout?y:n;if({}.toString.call(n.process)==="[object process]"){t()}else if(h()){d()}else if(n.MessageChannel){p()}else if(a&&"onreadystatechange"in a.createElement("script")){v()}else{m()}y.setImmediate=e;y.clearImmediate=l})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(this,n(6),n(14))},function(t,e,n){(function(i){t.exports=e;function e(e,t){if(r("noDeprecation")){return e}var n=false;function i(){if(!n){if(r("throwDeprecation")){throw new Error(t)}else if(r("traceDeprecation")){console.trace(t)}else{console.warn(t)}n=true}return e.apply(this,arguments)}return i}function r(e){try{if(!i.localStorage)return false}catch(n){return false}var t=i.localStorage[e];if(null==t)return false;return String(t).toLowerCase()==="true"}}).call(this,n(6))},function(e,t,n){"use strict";e.exports=o;var i=n(57);var r=Object.create(n(9));r.inherits=n(7);r.inherits(o,i);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(36)},function(e,t,n){e.exports=n(5)},function(e,t,n){e.exports=n(35).Transform},function(e,t,n){e.exports=n(35).PassThrough},function(e,t){(function(){"use strict";t.stripBOM=function(e){if(e[0]==="\ufeff"){return e.substring(1)}else{return e}}}).call(this)},function(e,i,r){"use strict";(function(zt){Object.defineProperty(i,"__esModule",{value:true});i.ActiveXControl=undefined;var Jt=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ut=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var Ht=r(59);var e=r(18);var jt=t(e);function t(e){return e&&e.__esModule?e:{"default":e}}function Gt(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=function(){var e=function(){function i(e){Gt(this,i);var t={szId:"playWnd",iType:0,iWidth:400,iHeight:300,iMaxSplit:4,iCurrentSplit:2,szPlayMode:"normal"};this.szClassId="E7EF736D-B4E6-4A5A-BA94-732D71107808";this.oOptions=zt.extend(t,e);if(this.oOptions.szIframeId&&zt("#"+this.oOptions.szIframeId).length){this.oOptions.oId=zt("#"+this.oOptions.szId,zt("#"+this.oOptions.szIframeId)[0].contentWindow.document)}else{this.oOptions.oId=zt("#"+this.oOptions.szId)}var n="";if(this.oOptions.szBackgroundColor){n+="plugin-background:"+this.oOptions.szBackgroundColor+";"}if(this.oOptions.szClassId){this.szClassId=this.oOptions.szClassId}if(this.oOptions.szBorderColor){n+="sub-border:"+this.oOptions.szBorderColor+";"}if(this.oOptions.szSubBackgroundColor){n+="sub-background:"+this.oOptions.szSubBackgroundColor+";"}if(this.oOptions.szSelectBorderColor){n+="sub-border-select:"+this.oOptions.szSelectBorderColor+";"}if(n){this.szColorParam="<param name='colors' value='"+n+"'>"}this.oOptions.oId.html("<object classid='clsid:"+this.szClassId+"' codebase='' standby='Waiting...' "+"id='"+this.oOptions.szId+"_multiVideoActiveX' width='100%' height='100%' name='ocx' align='center' ><param name='wndtype' value='"+this.oOptions.iCurrentSplit+"'><param name='playmode' value='"+this.oOptions.szPlayMode+"'>"+this.szColorParam+"</object>");this.oPlugin=this.oOptions.oId.find("#"+this.oOptions.szId+"_multiVideoActiveX")[0];if(this.oPlugin===null||typeof this.oPlugin==="undefined"){this.oPlugin=null}else if(this.oPlugin.object===null||typeof this.oPlugin.object==="undefined"){this.oPlugin=null}this.fCurrentCallback=null;this.afCurrentCallback=[];this.fPointCallback=null;this.iProtocolType=0;this.oPluginCallback={};this.szPluginVersion="V3.0.6.46";this.ConsoleLog=function(e){var t=sessionStorage.getItem("bDebugMode");if(t){console.log(e)}}}Ut(i,[{key:"JS_CreateWnd",value:function o(e,t,n){var i=this;var r=zt.Deferred();setTimeout(function(){i.oOptions.oId.html("<object classid='clsid:"+i.szClassId+"' codebase='' standby='Waiting...' "+"id='"+i.oOptions.szId+"_multiVideoActiveX' width='"+t+"' height='"+n+"' name='ocx' align='center' ><param name='wndtype' value='"+i.oOptions.iCurrentSplit+"'><param name='playmode' value='"+i.oOptions.szPlayMode+"'>"+this.szColorParam+"</object>");i.oPlugin=i.oOptions.oId.find("#"+i.oOptions.szId+"_multiVideoActiveX")[0];if(i.oPlugin===null||i.oPlugin.object===null){i.oPlugin=null}r.resolve()},100);return r.promise()}},{key:"JS_ShowWnd",value:function n(){var e=this;var t=zt.Deferred();setTimeout(function(){zt("#"+e.oOptions.szId+"_multiVideoActiveX").show();t.resolve()},100);return t.promise()}},{key:"JS_HideWnd",value:function r(){var e=this;var t=zt.Deferred();setTimeout(function(){zt("#"+e.oOptions.szId+"_multiVideoActiveX").hide();t.resolve()},100);return t.promise()}},{key:"JS_SetWndCover",value:function t(){var e=zt.Deferred();setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_SetWindowControlCallback",value:function s(e){var c=this;var t=c.oOptions.szIframeId&&zt("#"+c.oOptions.szIframeId).length?zt("#"+c.oOptions.szIframeId)[0].contentWindow:window;zt.extend(this.oPluginCallback,e);t.GetSelectWndInfo=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=parseInt(zt(t).find("SelectWnd").eq(0).text(),10);if(0<=n){c.fCurrentCallback=c.afCurrentCallback[n]}if(c.oPluginCallback.onGetSelectWndInfo){c.oPluginCallback.onGetSelectWndInfo(n,t)}};t.PluginEventHandler=function(e,t,n){if(e===69){var i=c.oPlugin.HWP_GetDrawLineInfo(t);var r=Ht.oUtils.parseXmlFromStr(i);var o=[];zt(r).find("RegionCoordinates").each(function(){var e=parseFloat(zt(this).find("positionX").text());var t=1-parseFloat(zt(this).find("positionY").text());o.push([e,t])});var s="Line";if(o.length>3){s="Polygon"}if(c.fCurrentCallback){c.fCurrentCallback({id:1,type:s,points:o})}}else if(e===14){c.oPluginCallback.onPluginEventHandler&&c.oPluginCallback.onPluginEventHandler(e,t)}else if(e===67){c.oPluginCallback.onDrawEvent&&c.oPluginCallback.onDrawEvent({id:parseInt(t,10),type:"Line",event:"choosed"})}else if(e===68){var a="Polygon";if(0===parseInt(n,10)){a="Rect"}c.oPluginCallback.onDrawEvent&&c.oPluginCallback.onDrawEvent({id:parseInt(t,10),type:a,event:"choosed"})}else if(e===70){var u="Polygon";if(0===parseInt(n,10)){u="Rect"}c.oPluginCallback.onDrawEvent&&c.oPluginCallback.onDrawEvent({id:parseInt(t,10),type:u,event:"drawEnd"})}else{c.oPluginCallback.onPluginEventHandler&&c.oPluginCallback.onPluginEventHandler(t,e)}};t.ZoomInfoCallback=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=[];var i=0;var r=0;var o=0;var s=0;i=parseInt(zt(t).find("StartPoint").eq(0).find("positionX").eq(0).text(),10)/255;r=parseInt(zt(t).find("StartPoint").eq(0).find("positionY").eq(0).text(),10)/255;o=parseInt(zt(t).find("EndPoint").eq(0).find("positionX").eq(0).text(),10)/255;s=parseInt(zt(t).find("EndPoint").eq(0).find("positionY").eq(0).text(),10)/255;n=[[i,r],[o,r],[o,s],[i,s]];if(c.fCurrentCallback){c.fCurrentCallback({id:1,type:"Rect",points:n},e)}};t.EZoomInfoCallback=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=[];var i=0;var r=0;var o=0;var s=0;i=parseInt(zt(t).find("StartPoint").eq(0).find("positionX").eq(0).text(),10)/255;r=parseInt(zt(t).find("StartPoint").eq(0).find("positionY").eq(0).text(),10)/255;o=parseInt(zt(t).find("EndPoint").eq(0).find("positionX").eq(0).text(),10)/255;s=parseInt(zt(t).find("EndPoint").eq(0).find("positionY").eq(0).text(),10)/255;n=[[i,r],[o,r],[o,s],[i,s]];if(c.fCurrentCallback){c.fCurrentCallback({id:1,type:"Rect",points:n},e)}};t.GetFishPTZInfo=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=parseInt(zt(t).find("infoType").eq(0).text(),10);var i=parseInt(zt(t).find("WndType").eq(0).text(),10);var r=zt(t).find("id").eq(0).text();var o=[parseFloat(zt(t).find("posX").eq(0).text()),parseFloat(zt(t).find("posY").eq(0).text())];var s=[parseFloat(zt(t).find("pos2X").eq(0).text()),parseFloat(zt(t).find("pos2Y").eq(0).text())];var a=parseInt(zt(t).find("pointSequence").eq(0).text(),10);var u=parseInt(zt(t).find("tracSequence").eq(0).text(),10);var l=parseInt(zt(t).find("zoomCmd").eq(0).text(),10);var f={type:n,windowType:i,id:r,position:o,originPosition:s,pointId:a,traceId:u,szZoomCmd:l};if(c.oPluginCallback.onFisheyePTZInfo){c.oPluginCallback.onFisheyePTZInfo(f)}};t.KeyBoardEvent=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=parseInt(zt(t).find("keyCode").eq(0).text(),10);if(n===27){if(c.oPluginCallback.onFullScreenChange){c.oPluginCallback.onFullScreenChange(false)}}};t.MouseEvent=function(e,t){var n=Ht.oUtils.parseXmlFromStr(e);var i=parseInt(zt(n).find("WndIndex").eq(0).text(),10);var r=parseInt(zt(n).find("EventType").eq(0).text(),10);var o=parseFloat(zt(n).find("Position").eq(0).find("x").eq(0).text());var s=parseFloat(zt(n).find("Position").eq(0).find("y").eq(0).text());if(c.oPluginCallback.onMouseEvent){c.oPluginCallback.onMouseEvent({wndIndex:i,eventType:r,point:[o,s],pluginID:t})}if(c.fPointCallback&&r===1){c.fPointCallback({id:1,eventType:r,point:[o,s]})}};t.SetZeroChanEnlarge=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=parseInt(zt(t).find("BeState").eq(0).text(),10);var i=parseInt(zt(t).find("MCP_x").eq(0).text(),10);var r=parseInt(zt(t).find("MCP_y").eq(0).text(),10);if(c.oPluginCallback.onZeroEnlargeState){c.oPluginCallback.onZeroEnlargeState({state:n,x:i,y:r})}};t.GetVoiceInfo=function(e){var t=Ht.oUtils.parseXmlFromStr(e);var n=[];var i=zt(t).find("levlAngle").eq(0).text()?parseInt(zt(t).find("levlAngle").eq(0).text(),10):"";zt(t).find("voiceInfo").each(function(){var e=parseFloat(zt(this).find("dbValue").eq(0).text());n.push(e)});if(c.oPluginCallback.onGetVoiceInfo){if(i){c.oPluginCallback.onGetVoiceInfo([],i)}else{c.oPluginCallback.onGetVoiceInfo(n)}}}}},{key:"JS_ArrangeWindow",value:function a(e,t){var n=zt.Deferred();if(t&&t.length>0){var i='<?xml version="1.0" encoding="UTF-8"?><CustomWindowList>';zt.each(t,function(e,t){i+="<CustomWindow>\n                        <id>"+(e+1)+"</id>\n                        <windowType>0</windowType>\n                        <EditType>"+(t.dragable?1:0)+"</EditType>\n                        <color><r>255</r><g>0</g><b>0</b></color>\n                        <StartPos><x>"+t.left+"</x><y>"+t.top+"</y></StartPos>\n                        <WHLength><width>"+t.width+"</width><height>"+t.height+"</height></WHLength>\n                        <zIndex>"+t.layer+"</zIndex>\n                        </CustomWindow>"});i+="</CustomWindowList>";this.oPlugin.HWP_ArrangeCustomWindow(i)}else{this.oPlugin.HWP_ArrangeWindow(e)}setTimeout(function(){n.resolve()},100);return n.promise()}},{key:"JS_SetSecretKey",value:function u(e,t,n){var i=zt.Deferred();var r=this;var o=this.oPlugin.HWP_SetSecretKey(n,t);setTimeout(function(){if(o<0){o=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_SetSecretKey:"+o);i.reject()}else{i.resolve()}},100);return i.promise()}},{key:"JS_GetEncryptString",value:function l(e,t,n){var i=zt.Deferred();var r=0;var o=this;r=this.oPlugin.HWP_SetOriginalString(t,n,"");var s=this.oPlugin.HWP_GetEncryptString(e);setTimeout(function(){if(r<0){r=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_SetOriginalString:"+r);i.reject()}else{i.resolve(s)}},100);return i.promise()}},{key:"JS_GetDecryptString",value:function e(t,n,i){var r=this;var o=zt.Deferred();setTimeout(function(){if(!i){o.reject();return}var e=r.oPlugin.HWP_GetDecryptString(t,n,i);o.resolve(e)},100);return o.promise()}},{key:"JS_SetOriginalString",value:function f(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetOriginalString(e,t,"");setTimeout(function(){if(r<0){r=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetOriginalString:"+r);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_DestroyPlugin",value:function c(){var e=zt.Deferred();zt("#"+this.oOptions.szId+"_multiVideoActiveX").remove();this.oPlugin=null;this.oPluginCallback={};setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_Play",value:function h(e,t,n,i,r){var o=zt.Deferred();var s=this;var a=this.oPlugin.HWP_Play(e,t.auth,n,i,r);setTimeout(function(){if(a<0){a=s.oPlugin.HWP_GetLastError();s.ConsoleLog("HWP_Play:"+a);o.reject(a)}else{o.resolve()}},100);return o.promise()}},{key:"JS_Play2",value:function d(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_Play_V20(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_Play_V20:"+e);n.reject(r)}else{n.resolve(r)}},100);return n.promise()}},{key:"JS_OpenFileBrowser2",value:function p(e,t){if(!t){t=32}var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_OpenFileBrowser_V2(e,t);setTimeout(function(){if(r){n.resolve(r)}else{var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_OpenFileBrowser_V2:"+e);n.reject()}},100);return n.promise()}},{key:"JS_uploadFileByForm",value:function v(e){var t=-1;var n=zt.Deferred();var i=this;t=this.oPlugin.HWP_StartFormAsynUpload(e);setTimeout(function(){if(t===0){n.resolve(t)}else{var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_StartFormAsynUpload:"+e);n.reject(t)}},100);return n.promise()}},{key:"HWP_StopFormAsynUpload",value:function m(){var t=-1;var n=this;var i=zt.Deferred();t=this.oPlugin.HWP_StopFormAsynUpload();setTimeout(function(){if(t===0){i.resolve(t)}else{var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StartFormAsynUpload:"+e);i.reject(t)}},100);return i.promise()}},{key:"JS_ReversePlay",value:function y(e,t,n,i,r){var o=this;var s=zt.Deferred();var a=o.oPlugin.HWP_ReversePlay(e,t.auth,n,i,r);setTimeout(function(){if(a<0){a=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_ReversePlay:"+a);s.reject(a)}else{s.resolve()}},100);return s.promise()}},{key:"JS_Stop",value:function g(e){var t=zt.Deferred();var n=this;if(!(this&&this.oPlugin)){t.reject()}else{try{var i=this.oPlugin.HWP_Stop(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_Stop:"+e);t.reject()}else{t.resolve()}},100)}catch(r){n.ConsoleLog("HWP_Stop:"+r);t.reject(r)}}return t.promise()}},{key:"JS_Seek",value:function S(){var e=zt.Deferred();setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_StopRealPlayAll",value:function w(){var e=zt.Deferred();var t=this.oPlugin.StopRealPlayAll();setTimeout(function(){if(t<0){e.reject()}else{e.resolve()}},100);return e.promise()}},{key:"JS_Pause",value:function P(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_Pause(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_Pause:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_Resume",value:function _(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_Resume(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_Resume:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_Slow",value:function b(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_Slow(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_Slow:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_Fast",value:function C(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_Fast(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_Fast:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_Transmission",value:function k(){var e=zt.Deferred();setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_FrameForward",value:function T(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_FrameForward(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_FrameForward:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetOSDTime",value:function R(e){var t=zt.Deferred();var n=-1;var i=this;n=this.oPlugin.HWP_GetOSDTime(e);setTimeout(function(){if(n<0||!n){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_GetOSDTime:"+n+";HWP_GetLastError:"+e);t.reject()}else{t.resolve(n)}},100);return t.promise()}},{key:"JS_OpenSound",value:function x(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_OpenSound(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_OpenSound:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_CloseSound",value:function I(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_CloseSound();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_CloseSound:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetVolume",value:function D(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_GetVolume(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_GetVolume:"+e);t.reject()}else{t.resolve(i)}},100);return t.promise()}},{key:"JS_SetVolume",value:function E(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetVolume(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetVolume:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_SetAudioVolume",value:function q(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetAudioVolume(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetAudioVolume:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_EnableZoom",value:function O(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_EnableZoom(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_EnableZoom:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_DisableZoom",value:function A(e){var t=zt.Deferred();this.oPlugin.HWP_DisableZoom(e);var n=this;setTimeout(function(){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_DisableZoom:"+e);t.resolve()},100);return t.promise()}},{key:"JS_CapturePicture",value:function L(e,t){var n=this;var i=zt.Deferred();t=t.replace(/playback_/g,"");var r=n.oPlugin.HWP_CapturePicture(e,t);setTimeout(function(){if(r<0){r=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_CapturePicture:"+r);i.reject(r)}else{i.resolve()}},100);return i.promise()}},{key:"JS_StartSave",value:function M(e,t){var n=this;var i=zt.Deferred();var r=n.oPlugin.HWP_StartSave(e,t);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StartSave:"+e);i.reject(r)}else{i.resolve()}},100);return i.promise()}},{key:"JS_StopSave",value:function F(e){var t=this;var n=zt.Deferred();var i=this.oPlugin.HWP_StopSave(e);setTimeout(function(){if(i<0){var e=t.oPlugin.HWP_GetLastError();t.ConsoleLog("HWP_StopSave:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_StartTalk",value:function W(e,t,n,i,r,o,s,a,u,l){var f=zt.Deferred();var c=void 0;var h=this;if(typeof l==="undefined"){c=this.oPlugin.HWP_StartVoiceTalk_V20(e,t,n,i,r,o,s,a,u)}else{c=this.oPlugin.HWP_StartVoiceTalk_V20Ex(e,t,n,i,r,o,s,a,u,l?l:0)}setTimeout(function(){if(c<0){var e=h.oPlugin.HWP_GetLastError();var t=typeof l==="undefined"?"HWP_StartVoiceTalk_V20":"HWP_StartVoiceTalk_V20Ex";h.ConsoleLog(t+":"+e);f.reject()}else{f.resolve()}},100);return f.promise()}},{key:"JS_StopTalk",value:function B(){var e=zt.Deferred();this.oPlugin.HWP_StopVoiceTalk();setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_SetPlayMode",value:function N(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_SetPlayModeType(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetPlayModeType:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetFullScreenCapability",value:function z(t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetCanFullScreen(t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetCanFullScreen:"+t+";HWP_GetLastError:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_FullScreenDisplay",value:function J(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_FullScreenDisplay(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_FullScreenDisplay:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_EnableIVS",value:function U(e,t,n){var i=zt.Deferred();var r=this;var o=this.oPlugin.HWP_EnableIVS(e,t,n);setTimeout(function(){if(o<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_EnableIVS:"+e);i.reject()}else{i.resolve()}},100);return i.promise()}},{key:"JS_SRInit",value:function H(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SR_Init(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SR_Init:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_SRPTZ",value:function j(e,t,n){var i=zt.Deferred();var r=this;var o=0;if(t===4||t===5){o=this.oPlugin.HWP_SR_Zoom(e,5-t,n)}else{o=this.oPlugin.HWP_SR_PTZ(e,t,n)}setTimeout(function(){if(o<0){var e=r.oPlugin.HWP_GetLastError();if(t===4||t===5){r.ConsoleLog("HWP_SR_Zoom:"+e)}else{r.ConsoleLog("HWP_SR_PTZ:"+e)}i.reject()}else{i.resolve()}},100);return i.promise()}},{key:"JS_SetPlaybackDrawType",value:function G(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetPlaybackDrawType(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetPlaybackDrawType:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_SetPlayBackType",value:function V(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_SetPlayBackType(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetPlayBackType:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetTrsPlayBackParam",value:function Y(e,t){var n=zt.Deferred();var i=this;var r='<?xml version="1.0" encoding="utf-8"?><CompressionInfo>'+"<TransBitrate>"+t.transBitrate+"</TransBitrate>"+"<TransFrameRate>"+t.transFrameRate+"</TransFrameRate>"+"<TransResolution>"+t.transResolution+"</TransResolution></CompressionInfo>";var o=this.oPlugin.HWP_SetTrsPlayBackParam(e,r);setTimeout(function(){if(o<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetTrsPlayBackParam:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_GetLocalConfig",value:function X(){var t=this;var n=zt.Deferred();var e=this.oPlugin.HWP_GetLocalConfig();var i=Ht.oUtils.parseXmlFromStr(e);var r={protocolType:zt(i).find("ProtocolType").eq(0).text(),streamType:zt(i).find("StreamType").eq(0).text(),packgeSize:zt(i).find("PackgeSize").eq(0).text(),playWndType:zt(i).find("PlayWndType").eq(0).text(),buffNumberType:zt(i).find("BuffNumberType").eq(0).text(),recordPath:zt(i).find("RecordPath").eq(0).text(),capturePath:zt(i).find("CapturePath").eq(0).text(),playbackFilePath:zt(i).find("PlaybackFilePath").eq(0).text(),playbackPicPath:zt(i).find("PlaybackPicPath").eq(0).text(),downloadPath:zt(i).find("DownloadPath").eq(0).text(),snapScenePicPath:zt(i).find("SnapScenePicPath").eq(0).text(),snapViewPicPath:zt(i).find("SnapViewPicPath").eq(0).text(),ivsMode:zt(i).find("IVSMode").eq(0).text(),realPlayAll:zt(i).find("RealPlayAll").eq(0).text(),captureFileFormat:zt(i).find("CaptureFileFormat").eq(0).text(),osdPosInfo:zt(i).find("OSDPosInfo").eq(0).text(),osdPicInfo:zt(i).find("OSDPicInfo").eq(0).text(),showWizard:zt(i).find("ShowWizard").eq(0).text(),secretKey:zt(i).find("SecretKey").eq(0).text(),showFireBox:zt(i).find("ShowFireBox").eq(0).text(),showFireDistance:zt(i).find("ShowFireDistance").eq(0).text(),showFireMaxTemperature:zt(i).find("ShowFireMaxTemp").eq(0).text(),showFireMaxTemperaturePos:zt(i).find("ShowFireMaxTempPos").eq(0).text(),showTemperaturePoint:zt(i).find("ShowTemPoint").eq(0).text(),showTemperatureLine:zt(i).find("ShowTemLine").eq(0).text(),showTemperatureBox:zt(i).find("ShowTemBox").eq(0).text(),captureIncludeTemperatureInfo:zt(i).find("CaptureTemp").eq(0).text(),customBuffNumber:zt(i).find("CustomBuffNumber").eq(0).text(),faceSnapPicPath:zt(i).find("FaceSnapPicPath").eq(0).text(),d3dCapture:zt(i).find("D3DCapture").eq(0).text(),HumanTrack:zt(i).find("HumanTrack").eq(0).text(),VehicleTrack:zt(i).find("VehicleTrack").eq(0).text(),RenderTrack:zt(i).find("RenderTrack").eq(0).text(),shieldMask:zt(i).find("ShieldMask").eq(0).text(),wasteGasDection:zt(i).find("WasteGasDection").eq(0).text(),gasInfo:zt(i).find("GasInfo").eq(0).text(),audioDownloadPath:zt(i).find("AudioDownloadPath").eq(0).text(),audioRecordPath:zt(i).find("AudioRecordPath").eq(0).text(),picOrRegionFill:zt(i).find("PicOrRegionFill").eq(0).text()};t.iProtocolType=parseInt(r.protocolType,10);setTimeout(function(){if(!r){var e=t.oPlugin.HWP_GetLastError();t.ConsoleLog("HWP_GetLocalConfig:"+e);n.reject()}else{n.resolve(r)}},100);return n.promise()}},{key:"JS_SetLocalConfig",value:function Z(t){var n=this;var i=zt.Deferred();var e='<?xml version="1.0" encoding="utf-8"?><LocalConfigInfo>'+"<ProtocolType>"+t.protocolType+"</ProtocolType><StreamType>"+t.streamType+"</StreamType>"+"<PackgeSize>"+t.packgeSize+"</PackgeSize><PlayWndType>"+t.playWndType+"</PlayWndType>"+"<BuffNumberType>"+t.buffNumberType+"</BuffNumberType><RecordPath>"+t.recordPath+"</RecordPath>"+"<CapturePath>"+t.capturePath+"</CapturePath><PlaybackFilePath>"+t.playbackFilePath+"</PlaybackFilePath>"+"<PlaybackPicPath>"+t.playbackPicPath+"</PlaybackPicPath><DownloadPath>"+t.downloadPath+"</DownloadPath>"+"<SnapScenePicPath>"+t.snapScenePicPath+"</SnapScenePicPath><SnapViewPicPath>"+t.snapViewPicPath+"</SnapViewPicPath>"+"<IVSMode>"+t.ivsMode+"</IVSMode><RealPlayAll>"+t.realPlayAll+"</RealPlayAll>"+"<CaptureFileFormat>"+t.captureFileFormat+"</CaptureFileFormat><OSDPosInfo>"+t.osdPosInfo+"</OSDPosInfo>"+"<OSDPicInfo>"+t.osdPicInfo+"</OSDPicInfo><ShowWizard>"+t.showWizard+"</ShowWizard>"+"<SecretKey>"+t.secretKey+"</SecretKey><ShowFireBox>"+t.showFireBox+"</ShowFireBox>"+"<ShowFireDistance>"+t.showFireDistance+"</ShowFireDistance><ShowFireMaxTemp>"+t.showFireMaxTemperature+"</ShowFireMaxTemp>"+"<ShowFireMaxTempPos>"+t.showFireMaxTemperaturePos+"</ShowFireMaxTempPos><ShowTemPoint>"+t.showTemperaturePoint+"</ShowTemPoint>"+"<ShowTemLine>"+t.showTemperatureLine+"</ShowTemLine><ShowTemBox>"+t.showTemperatureBox+"</ShowTemBox>"+"<CaptureTemp>"+t.captureIncludeTemperatureInfo+"</CaptureTemp>"+"<CustomBuffNumber>"+t.customBuffNumber+"</CustomBuffNumber>"+"<FaceSnapPicPath>"+t.faceSnapPicPath+"</FaceSnapPicPath>"+"<HumanTrack>"+t.HumanTrack+"</HumanTrack>"+"<VehicleTrack>"+t.VehicleTrack+"</VehicleTrack>"+"<RenderTrack>"+t.RenderTrack+"</RenderTrack>"+"<ShieldMask>"+t.shieldMask+"</ShieldMask>"+"<WasteGasDection>"+t.wasteGasDection+"</WasteGasDection>"+"<GasInfo>"+t.gasInfo+"</GasInfo>"+"<AudioDownloadPath>"+t.audioDownloadPath+"</AudioDownloadPath>"+"<AudioRecordPath>"+t.audioRecordPath+"</AudioRecordPath>"+"<PicOrRegionFill>"+t.picOrRegionFill+"</PicOrRegionFill>"+"</LocalConfigInfo>";var r=this.oPlugin.HWP_SetLocalConfig(e);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_GetLocalConfig:"+e);i.reject()}else{n.iProtocolType=parseInt(t.protocolType,10);i.resolve()}},100);return i.promise()}},{key:"JS_GetLastError",value:function K(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetLastError();setTimeout(function(){if(t<0){e.reject()}else{e.resolve(t)}},100);return e.promise()}},{key:"JS_OpenFileBrowser",value:function $(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_OpenFileBrowser(e,t);setTimeout(function(){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_OpenFileBrowser:"+e);n.resolve(r)},100);return n.promise()}},{key:"JS_OpenDirectory",value:function Q(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_OpenDirectory(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_OpenFileBrowser:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_StartAsynUpload",value:function ee(e,t,n,i){var r=zt.Deferred();var o=this;var s=this.oPlugin.HWP_StartAsynUpload(e,t,n,i,0);setTimeout(function(){if(s<0){s=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_OpenFileBrowser:"+s);r.reject(s)}else{r.resolve()}},100);return r.promise()}},{key:"JS_StopAsynUpload",value:function te(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopAsynUpload();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopAsynUpload:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetUploadErrorInfo",value:function ne(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetUploadErrorInfo();setTimeout(function(){e.resolve(t)},100);return e.promise()}},{key:"JS_UploadFile",value:function ie(e,t,n,i){var r=this;var o=zt.Deferred();var s=r.oPlugin.HWP_UploadFile(e,t,n,i,0);setTimeout(function(){if(s<0){var e=r.oPlugin.HWP_GetHttpErrorInfo();s=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_UploadFile:"+s);r.ConsoleLog("HWP_GetHttpErrorInfo:"+e);o.reject({readyState:4,status:s,responseXML:e?Ht.oUtils.parseXmlFromStr(e):null,errorInfo:e})}else{o.resolve()}},100);return o.promise()}},{key:"JS_GetIpcImportErrorInfo",value:function re(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetIpcImportErrorInfo();setTimeout(function(){e.resolve(t)},100);return e.promise()}},{key:"JS_DownloadFile",value:function oe(e,t,n,i,r,o){var s=this;var a=zt.Deferred();var u=0;if(i===2){u=this.oPlugin.HWP_ExportFile(e,t,n,i,o)}else{u=this.oPlugin.HWP_ExportDeviceConfig(e,t,"",r)}setTimeout(function(){if(u<0){u=s.oPlugin.HWP_GetLastError();if(i===2){s.ConsoleLog("HWP_ExportFile:"+u)}else{s.ConsoleLog("HWP_ExportDeviceConfig:"+u)}var e=s.oPlugin.HWP_GetHttpErrorInfo();s.ConsoleLog("HWP_GetHttpErrorInfo:"+e);a.reject({readyState:4,status:u,responseXML:e?Ht.oUtils.parseXmlFromStr(e,true):null})}else{a.resolve(u)}},100);return a.promise()}},{key:"JS_DownloadFileNoPlugin",value:function se(t){var e=new Promise(function(e){zt("body").append('<a id="jsplugin_download_a" href="'+t+'"><li id="jsplugin_download_li"></li></a>');zt("#jsplugin_download_li").trigger("click");zt("#jsplugin_download_a").remove();e()});return e}},{key:"JS_StartUpgrade",value:function ae(e,t,n,i,r){var o=this;var s=zt.Deferred();var a=o.oPlugin.HWP_StartUpgradeEx(e,t,n,i,r,"");if(a<0){a=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_StartUpgradeEx:"+a);if(a===10){var u=void 0;try{u=o.oPlugin.HWP_GetProtectModeWithoutAdmin()}catch(l){u=-1}if(u===1){s.reject(605)}else{s.reject(a)}}else{s.reject(a)}}else{s.resolve()}return s.promise()}},{key:"JS_StopUpgrade",value:function ue(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopUpgrade();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopUpgrade:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetUpgradeStatus",value:function le(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_UpgradeStatus();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_UpgradeStatus:"+e);t.reject()}else{t.resolve(i)}},100);return t.promise()}},{key:"JS_GetUpgradeProgress",value:function fe(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_UpgradeStatus();if(i>=0){i=this.oPlugin.HWP_UpgradeProgress()}setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_UpgradeProgress:"+e);t.reject()}else{t.resolve(i)}},100);return t.promise()}},{key:"JS_ExportDeviceLog",value:function ce(e,t,n){var i=zt.Deferred();var r=this;var o=this.oPlugin.HWP_ExportDeviceLog(e,t,n);setTimeout(function(){if(o<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_ExportDeviceLog:"+e);i.reject()}else{i.resolve()}},100);return i.promise()}},{key:"JS_ExportReport",value:function he(e,t,n){var i=zt.Deferred();var r=this;var o=this.oPlugin.HWP_ExportReport(e,t,n);setTimeout(function(){if(o<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_ExportReport:"+e);i.reject()}else{i.resolve({status:o})}},100);return i.promise()}},{key:"JS_StartAsyncDownload",value:function de(e,t,n,i,r){var o=this;var s=zt.Deferred();var a=o.oPlugin.HWP_StartDownloadEx(e,t,n,i,r?r:"");setTimeout(function(){if(a<0){a=o.oPlugin.HWP_GetLastError();var e=o.oPlugin.HWP_GetHttpErrorInfo();o.ConsoleLog("HWP_ExportReport:"+a);o.ConsoleLog("HWP_GetHttpErrorInfo:"+e);s.reject({readyState:4,status:a,responseXML:e?Ht.oUtils.parseXmlFromStr(e):null})}else{s.resolve(a)}},100);return s.promise()}},{key:"JS_StopAsyncDownload",value:function pe(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopDownload(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopDownload:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetDownloadStatus",value:function ve(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_GetDownloadStatus(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_GetDownloadStatus:"+e);t.reject()}else{t.resolve(i)}},100);return t.promise()}},{key:"JS_GetDownloadProgress",value:function me(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_GetDownloadStatus(e);if(i>=0){i=this.oPlugin.HWP_GetDownloadProgress(e)}setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_GetDownloadProgress:"+e);t.reject()}else{t.resolve(i)}},100);return t.promise()}},{key:"JS_EnablePDC",value:function ye(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_EnablePDC(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_EnablePDC:"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_Resize",value:function ge(){var t=zt.Deferred();var n=this;setTimeout(function(){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_EnablePDC:"+e);t.resolve()},100);return t.promise()}},{key:"JS_SetDrawCallback",value:function Se(t,e,n,i,r,o){var s=this;var a=zt.Deferred();s.fCurrentCallback=null;s.afCurrentCallback[t]=null;s.fPointCallback=null;var u=0;var l=0;var f="";if(n!=="Rect"){if(n==="Line"){l=2}else if(n==="Polygon"){l=4}else if(n==="Point"){var c="<?xml version='1.0' encoding='utf-8'?><SnapPointList>";c+="<mode>1</mode>";c+="<maxPointNum>1</maxPointNum>";c+="<SnapPoint><color><r>0</r><g>0</g><b>255</b></color><type>2</type></SnapPoint>";c+="</SnapPointList>";u=this.oPlugin.HWP_SetSnapPointInfo(0,c);f="HWP_SetSnapPointInfo";setTimeout(function(){if(u<0){var e=s.oPlugin.HWP_GetLastError();s.ConsoleLog(f+":"+e);a.reject()}else{s.fPointCallback=r;a.resolve()}},100);return a.promise()}else{l=0}if(e){f="HWP_SetPlaybackDrawType";u=s.oPlugin.HWP_SetPlaybackDrawType(t,l)}else{f="HWP_ClearDrawLineInfo";u=s.oPlugin.HWP_ClearDrawLineInfo(t)}}else{if(e){var h=1;if(o&&o.mode>=0){h=o.mode}u=s.oPlugin.HWP_EnableZoom(t,h);f="HWP_EnableZoom"}else{s.oPlugin.HWP_DisableZoom(t);f="HWP_DisableZoom"}}setTimeout(function(){if(u<0){var e=s.oPlugin.HWP_GetLastError();s.ConsoleLog(f+":"+e);a.reject()}else{s.fCurrentCallback=r;s.afCurrentCallback[t]=r;a.resolve()}},100);return a.promise()}},{key:"JS_SetDrawStatus",value:function we(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=zt.Deferred();var r=0;r=this.oPlugin.HWP_SetDrawStatus(e);if(e){if(t){r=this.oPlugin.HWP_SetSnapDrawMode(n,t)}else{r=this.oPlugin.HWP_SetSnapDrawMode(n,3)}}else{r=this.oPlugin.HWP_SetSnapDrawMode(n,-1)}setTimeout(function(){i.resolve(r)},100);return i.promise()}},{key:"JS_ClearRegion",value:function Pe(){var e=zt.Deferred();var t=this.oPlugin.HWP_ClearRegion();setTimeout(function(){e.resolve(t)},100);return e.promise()}},{key:"JS_SetDrawShapeInfo",value:function _e(e,t){var n=zt.Deferred();var i=0;var r=this;var o="";if(e==="Rect"){i=this.oPlugin.HWP_SetSnapDrawMode(0,1);o="HWP_SetSnapDrawMode";if(i>=0){if(t.type===0){var s="<?xml version='1.0' encoding='utf-8'?><DetectionRegionInfo><videoFormat>PAL</videoFormat><RegionType>roi</RegionType><ROI>";s+="<HorizontalResolution>704</HorizontalResolution>"+"<VerticalResolution>576</VerticalResolution></ROI>"+"<DisplayMode>"+(t.translucent!==1?"transparent":"shelter")+"</DisplayMode>"+"<DetectionRegionList></DetectionRegionList><MaxRegionNum>"+t.maxShapeSupport+"</MaxRegionNum></DetectionRegionInfo>";i=this.oPlugin.HWP_SetRegionInfo(s);o="HWP_SetRegionInfo"}else if(t.type===1){var a="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>";a+="<SnapPolygon>";a+="<id>"+t.id+"</id>";a+="<tips>"+t.tips+"</tips>";a+="<tipsPos>"+(t.tipsPos||0)+"</tipsPos>";a+="<isClosed>false</isClosed>";a+="<polygonType>0</polygonType>";a+="<showSquare>"+t.widthHeightRate+"</showSquare>";a+="<pointList></pointList>";a+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";a+="</SnapPolygon>";a+="</SnapPolygonList>";i=this.oPlugin.HWP_SetSnapPolygonInfo(a);o="HWP_SetSnapPolygonInfo"}}}else if(e==="Grid"){i=this.oPlugin.HWP_SetSnapDrawMode(0,1);o="HWP_SetSnapDrawMode";if(i>=0){var u="<?xml version='1.0'?><MoveDetection><videoFormat>PAL</videoFormat>";u+="<RegionType>grid</RegionType><Grid><rowGranularity>"+t.gridRowNum+"</rowGranularity>";u+="<columnGranularity>"+t.gridColNum+"</columnGranularity></Grid>";u+="<DisplayMode>transparent</DisplayMode><gridMap></gridMap></MoveDetection>";i=this.oPlugin.HWP_SetRegionInfo(u);o="HWP_SetRegionInfo"}}else if(e==="Polygon"){i=this.oPlugin.HWP_SetSnapDrawMode(0,2);o="HWP_SetSnapDrawMode";if(i>=0){var l="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>";l+="<SnapPolygon>";l+="<id>"+t.id+"</id>";l+="<tips>"+t.tips+"</tips>";l+="<isClosed>false</isClosed>";l+="<polygonType>1</polygonType>";l+="<PointNumMax>"+(t.maxPointSupport+1)+"</PointNumMax>";l+="<MinClosed>"+(t.minPointSupport+1)+"</MinClosed>";l+="<pointList></pointList>";l+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";l+="</SnapPolygon>";l+="</SnapPolygonList>";i=this.oPlugin.HWP_SetSnapPolygonInfo(l);o="HWP_SetSnapPolygonInfo"}}else if(e==="Line"){var f='<?xml version="1.0" encoding="utf-8"?><SnapLineList>';f+="<SnapLine>";f+="<id>"+t.id+"</id>";f+="<editType>"+t.editType+"</editType>";f+="<LineTypeEx>"+t.lineType+"</LineTypeEx>";f+="<Tips>"+t.tips+"</Tips>";f+="<CustomType>"+t.direction+"</CustomType><MoveChange>"+t.mode+"</MoveChange>";if(t.lineType!==2){f+="<ArrowType>"+t.direction+"</ArrowType>";f+="<StartPos><x>"+t.points[0][0]+"</x><y>"+t.points[0][1]+"</y></StartPos><EndPos><x>"+t.points[1][0]+"</x><y>"+t.points[1][1]+"</y></EndPos>"}else{f+="<ArrowType>"+(!t.direction?0:t.direction-1)+"</ArrowType>";f+="<BreakLine>";var c=t.points&&t.points.length;if(c>0){f+="<PointList>";for(var h=0;h<c;h++){f+="<point><x>"+t.points[h][0]+"</x><y>"+t.points[h][1]+"</y></point>"}f+="</PointList>"}f+="<isClosed>"+(c>0).toString()+"</isClosed>";f+="<isShowArrow>"+(t.direction===0?"false":"true")+"</isShowArrow>";if(t.minClosed){f+="<MinClosed>"+t.minClosed+"</MinClosed>"}if(t.pointNumMax){f+="<PointNumMax>"+t.pointNumMax+"</PointNumMax>"}if(t.directionTips){f+="<directionTips>"+t.directionTips+"</directionTips>"}if(t.isShowLineTips){var d="";for(var p=0,v=t.lineTips.tipList.length;p<v;p++){d+="<tip>"+t.lineTips.tipList[p]+"</tip>"}var m="<lineTips>"+"<h>"+t.lineTips.h+"</h>"+"<direction>"+t.lineTips.tipsDirection+"</direction>"+"<tipList>"+d+"</tipList>"+"</lineTips>";f+=m;f+="<isShowPoint>"+t.isShowPoint+"</isShowPoint>";f+="<isShowLineTips>"+t.isShowLineTips+"</isShowLineTips>";f+="<lineTipsType>"+t.lineTipsType+"</lineTipsType>"}f+="</BreakLine>"}f+="<LineSelected>false</LineSelected>";f+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";f+="</SnapLine>";f+="</SnapLineList>";i=this.oPlugin.HWP_SetSnapLineInfo(f);o="HWP_SetSnapLineInfo"}else if(e==="Point"){var y="<?xml version='1.0' encoding='utf-8'?><SnapPointList>";var g=!t.replace?0:1;y+="<mode>"+g+"</mode>";y+="<SnapPoint>";if(t.id){y+="<id>"+t.id+"</id>"}if(t.type){y+="<type>"+(t.type==="cross"?1:2)+"</type>"}if(t.drawColor){var S=Ht.oUtils.colorRgb(t.drawColor);y+="<color>";y+="<r>"+S[0]+"</r>";y+="<g>"+S[1]+"</g>";y+="<b>"+S[2]+"</b>";y+="</color>"}y+="</SnapPoint>";y+="</SnapPointList>";i=this.oPlugin.HWP_SetSnapPointInfo(0,y);o="HWP_SetSnapPointInfo";return y}setTimeout(function(){if(i<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog(o+":"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_SetGridInfo",value:function be(e){var t=zt.Deferred();var n=this;var i="<?xml version='1.0'?><MoveDetection><videoFormat>PAL</videoFormat>";i+="<RegionType>grid</RegionType><Grid><rowGranularity>"+e.gridRowNum+"</rowGranularity>";i+="<columnGranularity>"+e.gridColNum+"</columnGranularity></Grid>";i+="<DisplayMode>transparent</DisplayMode><gridMap>"+e.gridMap+"</gridMap></MoveDetection>";var r=this.oPlugin.HWP_SetRegionInfo(i);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetRegionInfo:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetGridInfo",value:function Ce(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetRegionInfo();var n=Ht.oUtils.parseXmlFromStr(t);var i=parseInt(zt(n).find("columnGranularity").text(),10);var r=parseInt(zt(n).find("rowGranularity").text(),10);var o={gridColNum:i,gridRowNum:r,gridMap:zt(n).find("gridMap").text()};setTimeout(function(){e.resolve(o)},100);return e.promise()}},{key:"JS_SetRectInfo",value:function ke(t){var n=zt.Deferred();var i=-1;var r=this;var o="";if(t[0].type===0){var s="<?xml version='1.0' encoding='utf-8'?><DetectionRegionInfo><videoFormat>PAL</videoFormat><RegionType>roi</RegionType><ROI>";var e="transparent";if(t[0].translucent===1){e="shelter"}else if(t[0].translucent===2){e="quadrilateral"}s+="<HorizontalResolution>704</HorizontalResolution>"+"<VerticalResolution>576</VerticalResolution></ROI>"+"<DisplayMode>"+e+"</DisplayMode>"+"<DetectionRegionList>";zt.each(t,function(e){s+="<DetectionRegion>";s+="<RegionCoordinatesList>";zt.each(t[e].points,function(e,t){s+="<RegionCoordinates><positionX>"+Math.round(t[0]*704)+"</positionX>"+"<positionY>"+Math.round((1-t[1])*576)+"</positionY></RegionCoordinates>"});s+="</RegionCoordinatesList>";s+="</DetectionRegion>"});s+="</DetectionRegionList><MaxRegionNum>"+t[0].maxShapeSupport+"</MaxRegionNum></DetectionRegionInfo>";i=this.oPlugin.HWP_SetRegionInfo(s);o="HWP_SetRegionInfo"}else if(t[0].type===1){var a="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>";zt.each(t,function(e,t){a+="<SnapPolygon>";a+="<id>"+t.id+"</id>";a+="<EditType>"+(t.editType||0)+"</EditType>";a+="<tips>"+(t.tips||"")+"</tips>";a+="<tipsPos>"+(t.tipsPos||0)+"</tipsPos>";a+="<isClosed>true</isClosed>";a+="<polygonType>0</polygonType>";a+="<showSquare>"+t.widthHeightRate+"</showSquare>";a+="<pointList>";zt.each(t.points,function(e,t){a+="<point><x>"+t[0]+"</x><y>"+t[1]+"</y></point>"});a+="</pointList>";a+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";a+="</SnapPolygon>"});a+="</SnapPolygonList>";i=this.oPlugin.HWP_SetSnapPolygonInfo(a);o="HWP_SetSnapPolygonInfo"}setTimeout(function(){if(i<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog(o+":"+e);n.reject()}else{n.resolve()}},100);return n.promise()}},{key:"JS_GetRectInfo",value:function Te(){var e=zt.Deferred();var n=[];var t=this.oPlugin.HWP_GetRegionInfo();var i=Ht.oUtils.parseXmlFromStr(t);zt(i).find("DetectionRegion").each(function(e){var t=[];zt(this).find("RegionCoordinatesList").find("RegionCoordinates").each(function(){t.push([parseInt(zt(this).find("positionX").text(),10)/704,1-parseInt(zt(this).find("positionY").text(),10)/576])});n.push({id:e+1,points:t})});var s=[];var r=this.oPlugin.HWP_GetSnapPolygonInfo();var o=Ht.oUtils.parseXmlFromStr(r);zt(o).find("SnapPolygon").each(function(){var e=parseInt(zt(this).find("polygonType").text(),10);if(e===0){var t=zt(this).find("id").text();var n=zt(this).find("isClosed").text()==="true";var i=zt(this).find("tips").text();var r=[];zt(this).find("pointList").find("point").each(function(){r.push([parseFloat(zt(this).find("x").text()),parseFloat(zt(this).find("y").text())])});var o={id:t,closed:n,points:r,tips:i};s.push(o)}});setTimeout(function(){if(n.length>0){e.resolve(n)}else if(s.length>0){e.resolve(s)}else{e.resolve([])}},100);return e.promise()}},{key:"JS_SetPolygonInfo",value:function Re(e){var t=zt.Deferred();var n=this;var i="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>";zt.each(e,function(e,t){if(typeof t.closed==="undefined"){t.closed=true}i+="<SnapPolygon>";i+="<id>"+t.id+"</id>";i+="<EditType>"+t.editType+"</EditType>";i+="<tips>"+t.tips+"</tips>";i+="<isClosed>"+t.closed.toString()+"</isClosed>";i+="<polygonType>1</polygonType>";i+="<pointList>";zt.each(t.points,function(e,t){i+="<point><x>"+t[0]+"</x><y>"+t[1]+"</y></point>"});i+="</pointList>";i+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";i+="</SnapPolygon>"});i+="</SnapPolygonList>";var r=this.oPlugin.HWP_SetSnapPolygonInfo(i);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetSnapPolygonInfo:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetPolygonInfo",value:function xe(){var e=zt.Deferred();var l=[];var t=this.oPlugin.HWP_GetSnapPolygonInfo();var n=Ht.oUtils.parseXmlFromStr(t);zt(n).find("SnapPolygon").each(function(){var e=parseInt(zt(this).find("polygonType").text(),10);if(e===1){var t=zt(this).find("id").text();var n=zt(this).find("isClosed").text()==="true";var i=zt(this).find("tips").text();var r="#"+Ht.oUtils.colorTransfer(zt(this).find("r").text())+Ht.oUtils.colorTransfer(zt(this).find("g").text())+Ht.oUtils.colorTransfer(zt(this).find("b").text());var o=parseInt(zt(this).find("PointNumMax").text(),10);var s=parseInt(zt(this).find("MinClosed").text(),10);var a=[];zt(this).find("pointList").find("point").each(function(){a.push([parseFloat(zt(this).find("x").text()),parseFloat(zt(this).find("y").text())])});var u={id:t,points:a,closed:n,tips:i,drawColor:r,polygonType:e,pointNumMax:o,minClosed:s};l.push(u)}});setTimeout(function(){e.resolve(l)},100);return e.promise()}},{key:"JS_SetLineInfo",value:function Ie(e){var t=zt.Deferred();var n=this;var u='<?xml version="1.0" encoding="utf-8"?><SnapLineList>';zt.each(e,function(e,t){u+="<SnapLine>";u+="<id>"+t.id+"</id>";u+="<editType>"+t.editType+"</editType>";u+="<LineTypeEx>"+t.lineType+"</LineTypeEx>";u+="<Tips>"+t.tips+"</Tips>";if(t.lineType!==2){u+="<MoveChange>"+t.mode+"</MoveChange>";u+="<ArrowType>"+t.direction+"</ArrowType><CustomType>"+t.direction+"</CustomType><StartPos><x>"+t.points[0][0]+"</x><y>"+t.points[0][1]+"</y></StartPos><EndPos><x>"+t.points[1][0]+"</x><y>"+t.points[1][1]+"</y></EndPos>";if(t.cutOffPositions){u+="<ParkingNoShow>true</ParkingNoShow><ParkingPointList>";zt.each(t.cutOffPositions,function(e,t){u+="<parkingWidth>"+t+"</parkingWidth>"});u+="</ParkingPointList>"}}else{u+="<ArrowType>"+(!t.direction?0:t.direction-1)+"</ArrowType><BreakLine><PointList>";var n=t.points.length;for(var i=0;i<n;i++){u+="<point><x>"+t.points[i][0]+"</x><y>"+t.points[i][1]+"</y></point>"}u+="</PointList><isClosed>"+(n>0).toString()+"</isClosed>";u+="<isShowArrow>"+(t.direction===0?"false":"true")+"</isShowArrow>";if(t.minClosed){u+="<MinClosed>"+t.minClosed+"</MinClosed>"}if(t.pointNumMax){u+="<PointNumMax>"+t.pointNumMax+"</PointNumMax>"}if(t.directionTips){u+="<directionTips>"+t.directionTips+"</directionTips>"}if(t.isShowLineTips){var r="";for(var o=0,s=t.lineTips.tipList.length;o<s;o++){r+="<tip>"+t.lineTips.tipList[o]+"</tip>"}var a="<lineTips>"+"<h>"+t.lineTips.h+"</h>"+"<direction>"+t.lineTips.tipsDirection+"</direction>"+"<tipList>"+r+"</tipList>"+"</lineTips>";u+=a;u+="<isShowPoint>"+t.isShowPoint+"</isShowPoint>";u+="<isShowLineTips>"+t.isShowLineTips+"</isShowLineTips>";u+="<lineTipsType>"+t.lineTipsType+"</lineTipsType>"}u+="</BreakLine>"}u+="<LineSelected>false</LineSelected>";u+="<color><r>"+Ht.oUtils.colorRgb(t.drawColor)[0]+"</r><g>"+Ht.oUtils.colorRgb(t.drawColor)[1]+"</g><b>"+Ht.oUtils.colorRgb(t.drawColor)[2]+"</b></color>";u+="</SnapLine>"});u+="</SnapLineList>";var i=this.oPlugin.HWP_SetSnapLineInfo(u);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetSnapPolygonInfo:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetLineInfo",value:function De(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetSnapLineInfo();var n=Ht.oUtils.parseXmlFromStr(t);var p=[];zt(n).find("SnapLine").each(function(){var e=parseInt(zt(this).find("id").text(),10);var t=parseInt(zt(this).find("LineTypeEx").text(),10);var n=zt(this).find("tips").text();var i=void 0;if(t===3){i=parseInt(zt(this).find("CustomType").text(),10)||parseInt(zt(this).find("LineType").text(),10)}else if(t===1||t===4){i=parseInt(zt(this).find("ArrowType").text(),10)}else if(t===2){var r=parseInt(zt(this).find("ArrowType").text(),10);if(isNaN(r)){r=1}else{r+=1}i=r}var o=[];var s=[];var a=[];var u=false;var l=[];var f=false;var c=false;var h={bShow:false,aPoints:[]};if(t!==2){o.push([parseFloat(zt(this).find("StartPos").find("x").text()),parseFloat(zt(this).find("StartPos").find("y").text())]);o.push([parseFloat(zt(this).find("EndPos").find("x").text()),parseFloat(zt(this).find("EndPos").find("y").text())]);if(t===4){s.push([parseFloat(zt(this).find("Demarcation").find("Sp_x").text()),parseFloat(zt(this).find("Demarcation").find("Sp_y").text())]);s.push([parseFloat(zt(this).find("Demarcation").find("Ep_x").text()),parseFloat(zt(this).find("Demarcation").find("Ep_y").text())]);a.push([parseFloat(zt(this).find("PDCArrow").find("Sp_x").text()),parseFloat(zt(this).find("PDCArrow").find("Sp_y").text())]);a.push([parseFloat(zt(this).find("PDCArrow").find("Ep_x").text()),parseFloat(zt(this).find("PDCArrow").find("Ep_y").text())]);u="true"===zt(this).find("PDCShowMark").text()}if(t===5){h.bShow=true;h.aPoints.length=0;zt(this).find("PN_Width").each(function(){h.aPoints.push(parseFloat(zt(this).text()))})}}else{zt(this).find("BreakLine").find("point").each(function(){o.push([parseFloat(zt(this).find("x").text()),parseFloat(zt(this).find("y").text())])});f="true"===zt(this).find("isShowArrow").text();c="true"===zt(this).find("isClosed").text();if(f){zt(this).find("BreakLine").find("BLArrow").each(function(){l.push([[parseFloat(zt(this).find("Sp_x").text()),parseFloat(zt(this).find("Sp_y").text())],[parseFloat(zt(this).find("Ep_x").text()),parseFloat(zt(this).find("Ep_y").text())]])})}}var d={id:e,lineType:t,tips:n,points:o,direction:i,demarcation:s,pdcArrow:a,showMark:u,showArrow:f,arrowList:l,bClosed:c};if(h.bShow){d.cutOffPositions=h.aPoints}p.push(d)});setTimeout(function(){e.resolve(p)},100);return e.promise()}},{key:"JS_SetTextOverlay",value:function Ee(e){var t=zt.Deferred();var n=this;var i=e.channelName.name.replace(/&/g,"&amp;");i=i.replace(/</g,"&lt;");var r=e.width?e.width:704;var o=e.height?e.height:576;var s="<?xml version='1.0' encoding='UTF-8'?><OSD>"+"<videoResolutionWidth>"+r+"</videoResolutionWidth><videoResolutionHeight>"+o+"</videoResolutionHeight>"+"<channelNameOverlay><enabled>"+e.channelName.enable+"</enabled><ChannelName>"+i+"</ChannelName>"+"<alignment>"+e.channelName.alignment+"</alignment>"+"<minMoveValue>"+e.minMoveValue+"</minMoveValue>"+"<positionX>"+Math.round(e.channelName.point[0]*r)+"</positionX>"+"<positionY>"+Math.round(e.channelName.point[1]*o)+"</positionY></channelNameOverlay>"+"<DateTimeOverlay><enabled>"+e.date.enable+"</enabled><type>"+e.date.dateType+"</type>"+"<clockType>"+e.date.timeFormat+"</clockType><displayWeek>"+e.date.showWeekDay+"</displayWeek>"+"<alignment>"+e.date.alignment+"</alignment>"+"<minMoveValue>"+e.minMoveValue+"</minMoveValue>"+"<positionX>"+Math.round(e.date.point[0]*r)+"</positionX>"+"<positionY>"+Math.round(e.date.point[1]*o)+"</positionY></DateTimeOverlay>"+"<TextOverlayList>";for(var a=0,u=e.text.length;a<u;a++){var l=e.text[a].text.replace(/&/g,"&amp;");l=l.replace(/</g,"&lt;");s+="<TextOverlay>";s+="<id>"+e.text[a].id+"</id><enabled>"+e.text[a].enable+"</enabled>"+"<alignment>"+e.text[a].alignment+"</alignment>"+"<minMoveValue>"+e.minMoveValue+"</minMoveValue>"+"<positionX>"+Math.round(e.text[a].point[0]*r)+"</positionX>"+"<positionY>"+Math.round(e.text[a].point[1]*o)+"</positionY>"+"<displayText>"+l+"</displayText>";s+="</TextOverlay>"}s+="</TextOverlayList></OSD>";var f=this.oPlugin.HWP_SetTextOverlay(s);setTimeout(function(){if(f<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetTextOverlay:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetTextOverlay",value:function qe(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetTextOverlay();var n=Ht.oUtils.parseXmlFromStr(t);var i={};var r=zt(n).find("channelNameOverlay").eq(0);var o=zt(n).find("DateTimeOverlay").eq(0);var s=zt(n).find("TextOverlayList").eq(0);var a=parseInt(zt(n).find("videoResolutionWidth").eq(0).text(),10);var u=parseInt(zt(n).find("videoResolutionHeight").eq(0).text(),10);i.channelName={enable:zt(r).find("enabled").eq(0).text()==="true",name:zt(r).find("name").eq(0).text(),alignment:0,point:[zt(r).find("positionX").eq(0).text()/a,zt(r).find("positionY").eq(0).text()/u]};i.date={enable:zt(o).find("enabled").eq(0).text()==="true",alignment:parseInt(zt(o).find("alignment").eq(0).text(),10)||0,dateType:parseInt(zt(o).find("type").eq(0).text(),10)||0,timeFormat:zt(o).find("clockType").eq(0).text(),showWeekDay:zt(o).find("displayWeek").eq(0).text()==="true",point:[zt(o).find("positionX").eq(0).text()/a,zt(o).find("positionY").eq(0).text()/u]};i.text=[];for(var l=0,f=zt(s).find("TextOverlay").length;l<f;l++){var c=zt(s).find("TextOverlay").eq(l);var h={id:zt(c).find("id").eq(0).text(),enable:zt(c).find("enabled").eq(0).text()==="true",alignment:parseInt(zt(c).find("alignment").eq(0).text(),10)||0,text:zt(c).find("displayText").eq(0).text(),point:[zt(c).find("positionX").eq(0).text()/a,zt(c).find("positionY").eq(0).text()/u]};i.text.push(h)}setTimeout(function(){e.resolve(i)},100);return e.promise()}},{key:"JS_ClearShapeByType",value:function Oe(t,e){var n=zt.Deferred();var i=0;var r=this;var o=0;if(t==="Rect"){o=0}else if(t==="Polygon"){o=1}else if(t==="Line"){o=2}else if(t==="All"){o=4;this.oPlugin.HWP_ClearDrawLineInfo(0)}else if(t==="Choosed"){o=6}else if(t==="Point"){o=5}if(e&&e.length>0&&(o===0||o===1)){var s='<?xml version="1.0" encoding="utf-8"?><SnapPolygonList>';for(var a=0,u=e.length;a<u;a++){s+="<SnapPolygon><id>"+e[a]+"</id><polygonType>"+o+"</polygonType></SnapPolygon>"}s+="</SnapPolygonList>";i=this.oPlugin.HWP_ClearTargetPolygon(s);setTimeout(function(){if(i<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_ClearTargetPolygon:"+e);n.reject()}else{n.resolve()}},100)}else{i=this.oPlugin.HWP_ClearSnapInfo(o);setTimeout(function(){if("Choosed"===t){n.resolve(i);return}if(i<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_ClearSnapInfo:"+e);n.reject()}else{n.resolve(i)}},100)}return n.promise()}},{key:"JS_SetCorrectionType",value:function Ae(e){var t=zt.Deferred();var n=0;var i=this;if(e===1){n=this.oPlugin.HWP_SetPlayModeType(7)}else{n=this.oPlugin.HWP_SetPlayModeType(7)}n=this.oPlugin.HWP_SetCorrectionType(e);setTimeout(function(){if(n<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetCorrectionType:"+e);t.reject(n)}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetPlaceType",value:function Le(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_SetPlaceType(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetPlaceType:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StartFishListener",value:function Me(e,t,n){var i=zt.Deferred();var r=this;var o=this.oPlugin.HWP_StartFishListener(e,t,n);setTimeout(function(){if(o<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_StartFishListener:"+e);i.reject(o)}else{i.resolve()}},100);return i.promise()}},{key:"JS_StopFishListener",value:function Fe(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopFishListener();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopFishListener:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetFishBoxListInfo",value:function We(e){var t=zt.Deferred();var n=this;var i='<?xml version="1.0" encoding="utf-8"?><FishBoxList>';zt.each(e,function(e,t){i+="<PointPos>";i+="<id>"+t.id+"</id>";i+="<xPoint>"+t.xPoint+"</xPoint>";i+="<yPoint>"+t.yPoint+"</yPoint>";i+="<zPoint>"+t.zPoint+"</zPoint>";i+="</PointPos>"});i+="</FishBoxList>";var r=this.oPlugin.HWP_SetFishBoxListInfo(i);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetFishBoxListInfo:"+e);t.reject(r)}else{t.resolve()}},100);return t.promise()}},{key:"JS_GetFishBoxListInfo",value:function Be(){var e=zt.Deferred();var t=this.oPlugin.HWP_FECGetBoxPosList();var n=Ht.oUtils.parseXmlFromStr(t);var r=[];zt(n).find("PointPos").each(function(){var e=parseInt(zt(this).find("id").text(),10);var t=parseFloat(zt(this).find("xPoint").text());var n=parseFloat(zt(this).find("yPoint").text());var i=parseFloat(zt(this).find("zPoint").text());r.push({id:e,xPoint:t,yPoint:n,zPoint:i})});setTimeout(function(){e.resolve(r)},100);return e.promise()}},{key:"JS_ClearAllWndFishBoxInfo",value:function Ne(){var e=zt.Deferred();this.oPlugin.HWP_ClearAllWndFishBoxInfo();setTimeout(function(){e.resolve()},100);return e.promise()}},{key:"JS_SetFishWndProperty",value:function ze(e,t,n){var i=zt.Deferred();var r=this.oPlugin.HWP_SetFishWndPty(e,t,n);var o=this;setTimeout(function(){if(r<0){var e=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_SetFishWndPty:"+e);i.reject(r)}else{i.resolve()}},100);return i.promise()}},{key:"JS_SetFishParams",value:function Je(e,t,n,i){var r=zt.Deferred();var o=this;var s='<?xml version="1.0" encoding="utf-8"?><FishParams><CoreParams>';s+="<top>"+e+"</top>";s+="<right>"+t+"</right>";s+="<bottom>"+n+"</bottom>";s+="<left>"+i+"</left>";s+="</CoreParams></FishParams>";var a=this.oPlugin.HWP_SetFishParams(s);setTimeout(function(){if(a<0){var e=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_SetFishParams:"+e);r.reject(a)}else{r.resolve()}},100);return r.promise()}},{key:"JS_ArrangeFECWindow",value:function Ue(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_ArrangeFECWindow(e,"");setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_ArrangeFECWindow:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StartFECScan",value:function He(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StartFECScan(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StartFECScan:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StopFECScan",value:function je(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopFECScan();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopFECScan:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_FishEyePTZ",value:function Ge(e,t){var n=zt.Deferred();var i=0;var r=this;var o="";if(e===4){i=this.oPlugin.HWP_FECZoomIn(t);o="HWP_FECZoomIn"}else if(e===5){i=this.oPlugin.HWP_FECZoomOut(t);o="HWP_FECZoomOut"}else{i=this.oPlugin.HWP_FECPTZ(e,t);o="HWP_FECPTZ"}setTimeout(function(){if(i<0){var e=r.oPlugin.HWP_GetLastError();r.ConsoleLog(o+":"+e);n.reject(i)}else{n.resolve()}},100);return n.promise()}},{key:"JS_FishEyeGetPreset",value:function Ve(){var e=zt.Deferred();var t=this.oPlugin.HWP_FECGetPreset();var n=Ht.oUtils.parseXmlFromStr(t);var i=parseFloat(zt(n).find("xPoint").text());var r=parseFloat(zt(n).find("yPoint").text());var o=parseFloat(zt(n).find("zPoint").text());var s={xPoint:i,yPoint:r,zPoint:o};setTimeout(function(){e.resolve(s)},100);return e.promise()}},{key:"JS_FishEyeSetPreset",value:function Ye(e){var t=zt.Deferred();var n=this;var i='<?xml version="1.0" encoding="utf-8"?><FishEyePreset>';i+="<xPoint>"+e.xPoint+"</xPoint>";i+="<yPoint>"+e.yPoint+"</yPoint>";i+="<zPoint>"+e.zPoint+"</zPoint>";i+="</FishEyePreset>";var r=this.oPlugin.HWP_FECSetPreset(i);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_FECSetPreset:"+e);t.reject(r)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StartFECCruise",value:function Xe(e){var t=zt.Deferred();var n=this;var i='<?xml version="1.0" encoding="utf-8"?><FishEyePresetList>';zt.each(e,function(e,t){i+="<Preset>";i+="<xPoint>"+t.xPoint+"</xPoint>";i+="<yPoint>"+t.yPoint+"</yPoint>";i+="<zPoint>"+t.zPoint+"</zPoint>";i+="<time>"+t.time+"</time>";i+="</Preset>"});i+="</FishEyePresetList>";var r=this.oPlugin.HWP_StartFECCruise(i);setTimeout(function(){if(r<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StartFECCruise:"+e);t.reject(r)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StopFECCruise",value:function Ze(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StopFECCruise();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopFECCruise:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetIsHttps",value:function Ke(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_SetIsHttps(e);setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetIsHttps:"+e);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetReconnectInfo",value:function $e(e,t){var n=zt.Deferred();var i=this;var r=this.oPlugin.HWP_SetReconnectInfo(e,t);setTimeout(function(){if(r<0){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_SetReconnectInfo:"+e);n.reject(r)}else{n.resolve()}},100);return n.promise()}},{key:"JS_CheckUpdate",value:function Qe(e){var t=zt.Deferred();var n=this;try{var i=e.replace(/<\blocalServiceControl.*<\/localServiceControl\b>/,"");var r=this.oPlugin.HWP_CheckPluginUpdate(i);setTimeout(function(){t.resolve(r)},100)}catch(o){n.ConsoleLog("HWP_CheckPluginUpdate:"+o);t.reject(o)}return t.promise()}},{key:"JS_SelectShape",value:function et(e,t){var n=zt.Deferred();var i=0;if(e==="Rect"){i=0}else if(e==="Polygon"){i=1}else if(e==="Line"){i=2}else if(e==="All"){i=4;this.oPlugin.HWP_ClearDrawLineInfo(0)}var r=this.oPlugin.HWP_SelectDraw(0,i,t);setTimeout(function(){n.resolve(r)},100);return n.promise()}},{key:"JS_GetPictureSize",value:function tt(e){var t=zt.Deferred();var n=this.oPlugin.HWP_GetPictureSize(e);setTimeout(function(){t.resolve({width:parseInt(n.split("*")[0],10),height:parseInt(n.split("*")[1],10)})},100);return t.promise()}},{key:"JS_SetOriginResolution",value:function nt(e,t,n){var i=zt.Deferred();var r=this.oPlugin.HWP_setOriginResolution(e,t,n);setTimeout(function(){i.resolve(r)},100);return i.promise()}},{key:"JS_SetPlayWndMode",value:function it(e,t,n){var i=zt.Deferred();if(n){e=64}var r=this.oPlugin.HWP_setPlayWndMode(e,t);setTimeout(function(){i.resolve(r)},100);return i.promise()}},{key:"JS_UpdateWindowStyle",value:function rt(){var e=new Promise(function(e){e()});return e}},{key:"JS_CuttingPartWindow",value:function ot(){var e=new Promise(function(e){e()});return e}},{key:"JS_RepairPartWindow",value:function st(){var e=new Promise(function(e){e()});return e}},{key:"JS_SetPointInfo",value:function at(e,t){var n='<?xml version="1.0" encoding="utf-8"?><SnapLineList>';var i="<?xml version='1.0' encoding='utf-8'?><SnapPointList>";t=t?t:0;i+="<mode>"+t+"</mode>";i+="<maxPointNum>1</maxPointNum>";var r=false;if(e){zt.each(e,function(){var e="";if(this.id>0){e+="<id>"+this.id+"</id>"}if(this.drawColor){var t=Ht.oUtils.colorRgb(this.drawColor);e+="<color>";e+="<r>"+t[0]+"</r>";e+="<g>"+t[1]+"</g>";e+="<b>"+t[2]+"</b>";e+="</color>"}if(this.tips){e+="<Tips>"+this.tips+"</Tips>"}if(this.editType||this.editType===0){e+="<editType>"+this.editType+"</editType>"}if(this.lineType===2){r=true;n+="<SnapLine>";n+=e+"<LineTypeEx>2</LineTypeEx>"+"<StartPos>"+"<x></x>"+"<y></y>"+"</StartPos>"+"<EndPos>"+"<x></x>"+"<y></y>"+"</EndPos>"+"<BreakLine>"+"<isClosed>true</isClosed>"+"<MinClosed>1</MinClosed>"+"<PointNumMax>1</PointNumMax>";if(this.points&&this.points.length>0){n+="<pointList><point><x>"+this.points[0]+"</x><y>"+this.points[1]+"</y></point></pointList>"}n+="</BreakLine>"+"</SnapLine>"}else{i+="<SnapPoint>"+e;if(this.type){i+="<type>"+(this.type==="circle"?2:1)+"</type>"}if(this.points){i+="<position>";i+="<positionX>"+this.points[0]+"</positionX>";i+="<positionY>"+this.points[1]+"</positionY>";i+="</position>"}i+="</SnapPoint>"}})}i+="</SnapPointList>";n+="</SnapLineList>";var o=zt.Deferred();var s=void 0;if(r){s=this.oPlugin.HWP_SetSnapLineInfo(n)}else{s=this.oPlugin.HWP_SetSnapPointInfo(0,i)}setTimeout(function(){o.resolve(s)},100);return o.promise()}},{key:"JS_GetPointInfo",value:function ut(){var e=Ht.oUtils.parseXmlFromStr(this.oPlugin.HWP_GetSnapPointInfo(0));var t=Ht.oUtils.parseXmlFromStr(this.oPlugin.HWP_GetSnapLineInfo());var n=[];zt(e).find("SnapPoint").each(function(){n.push({id:parseInt(zt(this).find("id").text(),10),drawColor:"#"+Ht.oUtils.colorTransfer(zt(this).find("color r").text())+Ht.oUtils.colorTransfer(zt(this).find("color g").text())+Ht.oUtils.colorTransfer(zt(this).find("color b").text()),type:zt(this).find("type").text()==="2"?"circle":"cross",replace:parseInt(zt(e).find("mode").text(),10)===1,point:[parseFloat(zt(e).find("positionX").text()),parseFloat(zt(e).find("positionY").text())]})});zt(t).find("SnapLine").each(function(){if(zt(this).find("BreakLine point").length===1){n.push({id:parseInt(zt(this).find("id").text(),10),drawColor:"#"+Ht.oUtils.colorTransfer(zt(this).find("color r").text())+Ht.oUtils.colorTransfer(zt(this).find("color g").text())+Ht.oUtils.colorTransfer(zt(this).find("color b").text()),type:"cross",replace:false,point:[parseFloat(zt(this).find("BreakLine x").text()),parseFloat(zt(this).find("BreakLine y").text())]})}});var i=zt.Deferred();setTimeout(function(){i.resolve(n)},100);return i.promise()}},{key:"JS_PlayWithImg",value:function lt(){return Promise.resolve()}},{key:"JS_DestroyAll",value:function ft(){this.JS_DestroyPlugin();return Promise.resolve()}},{key:"JS_SetPackageType",value:function ct(e){this.oPlugin.HWP_SetPackageType(e);return Promise.resolve()}},{key:"JS_GetPlayInfo",value:function ht(e){var t=this.oPlugin.HWP_GetPictureSize(e);var n=t.split("*");var i={pictureSize:{width:parseInt(n[0],10),height:parseInt(n[1],10)}};return Promise.resolve(i)}},{key:"JS_SetZeroChanInfo",value:function dt(e,t,n){this.oPlugin.HWP_SetZeroChanInfo(e,t,n);return Promise.resolve()}},{key:"JS_SetSnapDrawWndIndex",value:function pt(e){this.oPlugin.HWP_SetSnapDrawWndIndex(e);return Promise.resolve()}},{key:"JS_SetWindowSelected",value:function vt(e){this.oPlugin.HWP_SetWindowSelected(e);return Promise.resolve()}},{key:"JS_GetEngineSupport",value:function mt(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetEngineSupport();var n=Ht.oUtils.parseXmlFromStr(t);var i={HardDecodeCap:{GPUType:zt(n).find("HardDecodeCap GPUType").eq(0).text(),D3D9Support:zt(n).find("HardDecodeCap D3D9Support").eq(0).text(),D3D11Support:zt(n).find("HardDecodeCap D3D11Support").eq(0).text()},RenderCap:{DDrawSupport:zt(n).find("RenderCap DDrawSupport").eq(0).text(),D3D9SurfaceSupport:zt(n).find("RenderCap D3D9SurfaceSupport").eq(0).text(),D3D9TextureSupport:zt(n).find("RenderCap D3D9TextureSupport").eq(0).text(),D3D11Support:zt(n).find("RenderCap D3D11Support").eq(0).text()}};setTimeout(function(){if(!i){e.reject()}else{e.resolve(i)}},100);return e.promise()}},{key:"JS_ExistGetSlfPointList",value:function yt(){var e=zt.Deferred();var t=typeof this.oPlugin.HWP_GetSlfPointList!=="undefined";setTimeout(function(){e.resolve(t)},100);return e.promise()}},{key:"JS_GetSlfPointList",value:function gt(e,t){var n=zt.Deferred();var i=this.oPlugin.HWP_GetSlfPointList(e,t);var r=Ht.oUtils.parseXmlFromStr(i);var o=[];zt(r).find("SLFPoint").each(function(){var e={x:zt(this).find("ImagePoint").eq(0).find("x").eq(0).text(),y:zt(this).find("ImagePoint").eq(0).find("y").eq(0).text(),p:zt(this).find("PTZValue").eq(0).find("p").eq(0).text(),t:zt(this).find("PTZValue").eq(0).find("t").eq(0).text(),z:zt(this).find("PTZValue").eq(0).find("z").eq(0).text()};o.push(e)});setTimeout(function(){n.resolve(o)},100);return n.promise()}},{key:"JS_GetSlfVersion",value:function St(){var e=zt.Deferred();var t=this.oPlugin.HWP_GetSlfVersion();setTimeout(function(){e.resolve(t)},100);return e.promise()}},{key:"JS_AudioPlay",value:function wt(e,t,n,i,r){var o=zt.Deferred();var s=this;var a=null;if(r){a=this.oPlugin.HWP_StartAudioPlayEx(e,t,n,i,r)}else{a=this.oPlugin.HWP_StartAudioPlay(e,t,n,i)}setTimeout(function(){if(a<0){a=s.oPlugin.HWP_GetLastError();s.ConsoleLog("HWP_StartAudioPlayEx:"+a);o.reject(a)}else{o.resolve()}},100);return o.promise()}},{key:"JS_StartSycAudioPlay",value:function Pt(e,t,n,i){var r=zt.Deferred();var o=this;var s=null;s=this.oPlugin.HWP_StartSycAudioPlay(n,e,t,i);setTimeout(function(){if(s<0){s=o.oPlugin.HWP_GetLastError();o.ConsoleLog("HWP_StartSycAudioPlay:"+s);r.reject(s)}else{r.resolve()}},100);return r.promise()}},{key:"JS_GetDownFilePath",value:function _t(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_GetDownLoadFilePath(e);var r=Ht.oUtils.parseXmlFromStr(i);var o=zt(r).find("path").eq(0).text();setTimeout(function(){if(o){t.resolve({downloadFile:o,result:i})}else{o=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_GetDownLoadFilePath:"+o);t.reject(o)}},100);return t.promise()}},{key:"JS_DeleteDownloadFile",value:function bt(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_DeleteDownLoadFile(e);setTimeout(function(){if(i){t.resolve(i)}else{i=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_DeleteDownLoadFile:"+i);t.reject(i)}},100);return t.promise()}},{key:"JS_SycVideoAndAudio",value:function Ct(e,t,n){var i=zt.Deferred();var r=this;var o="<merges><outpath>"+e+"</outpath>";o+="<videos>"+t.replace("<files>","").replace("</files>","").replace('<?xml version="1.0" encoding="utf-8"?>',"")+"</videos>";o+="<audios>"+n.replace("<files>","").replace("</files>","").replace('<?xml version="1.0" encoding="utf-8"?>',"")+"</audios>";o+="</merges>";var s=null;s=this.oPlugin.HWP_SycVideoAndAudio(o);setTimeout(function(){if(parseInt(s,10)===0){s=r.oPlugin.HWP_GetLastError();r.ConsoleLog("HWP_SycVideoAndAudio:"+s);i.reject(s)}else{i.resolve(s)}},100);return i.promise()}},{key:"JS_StopSycAudioPlay",value:function kt(e){var t=zt.Deferred();var n=this;var i=null;i=this.oPlugin.HWP_StopSycAudioPlay(e);setTimeout(function(){if(i<0){i=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StopSycAudioPlay:"+i);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_SetAudioPlayStatus",value:function Tt(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_SetAudioPlayStatus(e);setTimeout(function(){if(i<0){i=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_SetAudioPlayStatus:"+i);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StopAudioPlay",value:function Rt(){var e=zt.Deferred();var t=this;var n=this.oPlugin.HWP_StopAudioPlay();setTimeout(function(){if(n<0){n=t.oPlugin.HWP_GetLastError();t.ConsoleLog("HWP_StopAudioPlay:"+n);e.reject(n)}else{e.resolve()}},100);return e.promise()}},{key:"JS_StartAudioSave",value:function xt(e){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_StartAudioRecord(e);setTimeout(function(){if(i<0){i=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_StartAudioRecord:"+i);t.reject(i)}else{t.resolve()}},100);return t.promise()}},{key:"JS_StopAudioSave",value:function It(){var e=zt.Deferred();var t=this;var n=this.oPlugin.HWP_StopAudioRecord();setTimeout(function(){if(n<0){n=t.oPlugin.HWP_GetLastError();t.ConsoleLog("HWP_StopAudioRecord:"+n);e.reject(n)}else{e.resolve()}},100);return e.promise()}},{key:"JS_GetAudioPlayedTime",value:function Dt(){var t=zt.Deferred();var n=-1;var i=this;n=this.oPlugin.HWP_GetAudioPlayedTime();setTimeout(function(){if(n<0||!n){var e=i.oPlugin.HWP_GetLastError();i.ConsoleLog("HWP_GetAudioPlayedTime:"+e);t.reject()}else{t.resolve(n)}},100);return t.promise()}},{key:"JS_AudioPause",value:function Et(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_AudioPlayPasue();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_AudioPlayPasue:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_AudioResume",value:function qt(){var t=zt.Deferred();var n=this;var i=this.oPlugin.HWP_AudioPlayResume();setTimeout(function(){if(i<0){var e=n.oPlugin.HWP_GetLastError();n.ConsoleLog("HWP_AudioPlayPasue:"+e);t.reject()}else{t.resolve()}},100);return t.promise()}},{key:"JS_StartAlarmChan",value:function Ot(e,t,n,i){return this.runPluginMethod("HWP_StartAlarmChan",[e,t,n],i)}},{key:"JS_StopAlarmChan",value:function At(e){return this.runPluginMethod("HWP_StopAlarmChan",[],e)}},{key:"JS_StartFormAsynUpload",value:function Lt(e,t){var n=typeof e==="undefined"?"undefined":Jt(e);var i="";if("object"===n){var r=new jt["default"].Builder;i=r.buildObject({UploadInfo:e})}else if("string"===n){i=e}else{return Promise.reject("")}return this.runPluginMethod("HWP_StartFormAsynUpload",[i],t)}},{key:"JS_StopFormAsynUpload",value:function Mt(e){return this.runPluginMethod("HWP_StopFormAsynUpload",[],e)}},{key:"JS_IsPluginExist",value:function Ft(){var e=false;var t=null;try{t=new ActiveXObject("WebVideoActiveX.WebVideoActiveXCtrl.1")}catch(n){t=null}if(null!==t){e=true}else{e=false}return e}},{key:"runPluginMethod",value:function Wt(e,t,n){var i=zt.Deferred();var r=this;var o={iRet:-1};var s=setTimeout(function(){i.reject(e+" time out ")},n);var a=void 0;Object.defineProperty(o,"iRet",{enumerable:true,configurable:true,set:function l(e){if(s){clearTimeout(s)}if(e<0){i.reject(e)}else{i.resolve(e)}a=e},get:function f(){return a}});try{if(this.oPlugin){switch(e){case"HWP_StartAlarmChan":o.iRet=this.oPlugin.HWP_StartAlarmChan(t[0],t[1],t[2]);break;case"HWP_StopAlarmChan":o.iRet=this.oPlugin.HWP_StopAlarmChan();break;case"HWP_StartFormAsynUpload":o.iRet=this.oPlugin.HWP_StartFormAsynUpload(t[0]);break;case"HWP_StopFormAsynUpload":o.iRet=this.oPlugin.HWP_StopFormAsynUpload();break;default:break}if(o.iRet<0){var u=r.oPlugin.HWP_GetLastError();r.ConsoleLog(e+":"+u)}}else{i.reject("without plugin")}}catch(c){r.ConsoleLog(e+":"+c);i.reject(c)}return i.promise()}},{key:"reactive",value:function Bt(e,t,n){var i=this;var r="__"+e+"Get";var o="__"+e+"Set";var s=void 0;Object.defineProperty(this,e,{get:function a(){zt(document.body).trigger(r,{value:s});if(t&&typeof t==="function"){return t.bind(i)(s)}return s},set:function u(e){zt(document.body).trigger(o,{oldValue:s,newValue:e});if(n&&typeof n==="function"){n.bind(i)(s,e)}else{s=e}}})}},{key:"JS_SetPicInfoToPlayer",value:function Nt(e,t,n,i){var r=zt.Deferred();var o=this.oPlugin.HWP_SetPicInfoToPlayer(e,t,n,i);var s=this;setTimeout(function(){if(o<0){o=s.oPlugin.HWP_GetLastError();r.reject(o)}else{r.resolve()}},100);return r.promise()}}]);return i}();return e}();i.ActiveXControl=n}).call(this,r(1))},function(e){e.exports=JSON.parse('{"version":"V1.0.0 build240712","playCrtl":"V7.4.0.1","pluginVersion":"V3.0.7.50","localServiceVersion":"V1.0.38"}')}])});